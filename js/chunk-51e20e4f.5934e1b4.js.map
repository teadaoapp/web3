{"version":3,"sources":["webpack:///./src/views/presale/index.vue","webpack:///./src/views/presale/index.vue?d29a","webpack:///./src/views/presale/index.vue?466f"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_4","src","_imports_0","onClick","_ctx","type","disabled","$event","placeholder","onInput","_createBlock","_component_el_icon","_createVNode","_component_Loading","_hoisted_9","_toDisplayString","symbol","_hoisted_12","token","_hoisted_15","max","_hoisted_18","min","_hoisted_21","softCap","hardCap","_hoisted_24","startTime","Date","toNumber","format","_hoisted_27","endTime","gt","_createElementBlock","_hoisted_30","_hoisted_35","_hoisted_39","_hoisted_42","value","_hoisted_46","_hoisted_49","_hoisted_51","_component_el_switch","_component_el_time_picker","is-range","size","editable","range-separator","start-placeholder","end-placeholder","_hoisted_56","_Fragment","_renderList","item","_component_el_tag","effect","key","_hoisted_58","_hoisted_59","_component_el_button","loading","_component_RpcList","ref","zero","utils","parseUnits","components","RpcList","data","moment","getBit","openDate","date","isLogin","contract","timeInterval","sendNum","gWei","gWeiList","contractAddress","gasLimit","isWhiteList","number","isOpen","detailLoading","coinDetail","timer","availableQuantity","circulation","claimLoading","watch","immediate","handler","Token","this","currentNetwork","item1","item2","GWEI","computed","mapGetters","gasFee","isFinite","mounted","window","wallet","accounts","connectState","loginCallBack","on","methods","mapActions","pledgeHandler","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","$router","push","name","toUnits","num","Number","formatUnits","loginFn","prompt","connect","BNB_ADDRESS","pairContract","initContract","PAIR_ABI","getPair","POOL_ABI","token0","token1","res","getReserves","toLocaleLowerCase","_reserve1","_reserve0","startHandler","clearInterval","message","ElNotification","title","length","start","end","valueOf","setInterval","now","i","buyConfirm","contractAddressChange","PRESALE_ABI","getCoinDetail","isWhiteListFn","getAvailableQuantity","openRpcList","$refs","rpcList","open","toggleGwei","getNumberOfWhitelistedUsers","list","getWhitelistedUsers","bool","find","error","Tips","one","two","three","Promise","all","poolSettings","poolStates","getContributionSettings","toolContract","getPondData","tx","contribute","gasPrice","toString","wait","claim","claimedOf","render","__scopeId"],"mappings":"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","file":"js/chunk-51e20e4f.5934e1b4.js","sourcesContent":["<template>\r\n  <div class=\"swap-info PB-20\">\r\n    <div class=\"swap-top\">\r\n      <div class=\"swap-info__title MB-10\">抢购预售</div>\r\n      <div class=\"swap-info__title-info\">按指定条件自动购买预售</div>\r\n      <img src=\"@/assets/images/rpc.png\" class=\"swap-top__icon auto-rpc pointer\" @click=\"openRpcList\" />\r\n    </div>\r\n\r\n    <div class=\"contract-box ML-20 MR-20\">\r\n      <input \r\n        type=\"text\" \r\n        class=\"contract-address\" \r\n        :disabled=\"isOpen\" \r\n        v-model=\"contractAddress\" \r\n        placeholder=\"请输入预售合约地址\"\r\n        @input=\"contractAddressChange\"\r\n      >\r\n      <el-icon class=\"is-loading contract-box__loading\" v-if=\"detailLoading\">\r\n        <Loading />\r\n      </el-icon>\r\n    </div>\r\n    <div class=\"MT-10 MB-10 PL-20 PR-20\">\r\n      <div class=\"flex-row-start presale-item MB-5\">\r\n        <div class=\"presale-item__label\">预售代币：</div>\r\n        <div class=\"presale-item__value flex-1\">{{coinDetail.symbol || '--'}}</div>\r\n      </div>\r\n      <div class=\"flex-row-start presale-item MB-5\">\r\n        <div class=\"presale-item__label\">代币合约：</div>\r\n        <div class=\"presale-item__value flex-1\">{{coinDetail.token || '--'}}</div>\r\n      </div>\r\n      <div class=\"flex-row-start presale-item MB-5\">\r\n        <div class=\"presale-item__label\">买入最大限额：</div>\r\n        <div class=\"presale-item__value flex-1 text-red\">{{coinDetail.max ? `${toUnits(coinDetail.max)} BNB` : '--'}}</div>\r\n      </div>\r\n      <div class=\"flex-row-start presale-item MB-5\">\r\n        <div class=\"presale-item__label\">买入最小限额：</div>\r\n        <div class=\"presale-item__value flex-1 text-red\">{{coinDetail.min ? `${toUnits(coinDetail.min)} BNB` : '--'}}</div>\r\n      </div>\r\n      <div class=\"flex-row-start presale-item MB-5\">\r\n        <div class=\"presale-item__label\">软硬顶：</div>\r\n        <div class=\"presale-item__value flex-1\">{{coinDetail.softCap ? `${toUnits(coinDetail.softCap)} BNB - ${toUnits(coinDetail.hardCap)} BNB` : '--'}}</div>\r\n      </div>\r\n      <div class=\"flex-row-start presale-item MB-5\">\r\n        <div class=\"presale-item__label\">开始时间：</div>\r\n        <div class=\"presale-item__value flex-1\">{{coinDetail.startTime ? moment(new Date(coinDetail.startTime.toNumber() * 1000)).format('YYYY-MM-DD HH:mm:ss') : '--'}}</div>\r\n      </div>\r\n      <div class=\"flex-row-start presale-item\">\r\n        <div class=\"presale-item__label\">结束时间：</div>\r\n        <div class=\"presale-item__value flex-1\">{{coinDetail.endTime ? moment(new Date(coinDetail.endTime.toNumber() * 1000)).format('YYYY-MM-DD HH:mm:ss') : '--'}}</div>\r\n      </div>\r\n      <div class=\"flex-row-start presale-item\" v-if=\"availableQuantity.gt(zero)\">\r\n        <div class=\"presale-item__label\">可领取数量：</div>\r\n        <div class=\"presale-item__value flex-1\">{{ availableQuantity }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"PL-20 PR-20\">\r\n      <div class=\"flex-row-between align-center MB-10\">\r\n        <div class=\"flex-row-start buy-item align-center flex-1\">\r\n          <span>发送代币数量</span>\r\n          <input type=\"text\" placeholder=\"0\" class=\"buy-item__input flex-1\" :disabled=\"isOpen\" v-model=\"number\"/>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-row-between align-center MB-10\">\r\n        <div class=\"flex-row-start buy-item align-center\">\r\n          <span>Gas Limit</span>\r\n          <input type=\"text\" placeholder=\"0\" class=\"buy-item__input flex-1\" :disabled=\"isOpen\" v-model=\"gasLimit\" />\r\n        </div>\r\n        <div class=\"flex-row-start buy-item align-center\">\r\n          <span>Gas Fee</span>\r\n          <input type=\"text\" placeholder=\"0\" class=\"buy-item__input flex-1\" disabled :value=\"gasFee\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-row-between align-center\">\r\n        <div class=\"flex-row-start buy-item align-center\">\r\n          <span>每次发送交易数</span>\r\n          <input type=\"text\" placeholder=\"0.00\" class=\"buy-item__input flex-1\" :disabled=\"isOpen\" v-model=\"sendNum\"/>\r\n        </div>\r\n        <div class=\"flex-row-start buy-item align-center\">\r\n          <span>时间间隔</span>\r\n          <input type=\"text\" placeholder=\"0\" class=\"buy-item__input flex-1\" :disabled=\"isOpen\" v-model=\"timeInterval\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"buy-tips MT-15 PL-20 PR-20\">开启指定时间执行时,请依照网速提前2-4秒开始！</div>\r\n    <div class=\"flex-row-start align-center PL-20 PR-20 MT-10 MB-10\">\r\n      <div class=\"flex-row-start align-center MR-20\">\r\n        指定时间执行\r\n        <el-switch v-model=\"openDate\" class=\"ML-10\" :disabled=\"isOpen\"/>\r\n      </div>\r\n      <el-time-picker\r\n        v-model=\"date\"\r\n        class=\"flex-1\"\r\n        is-range\r\n        size=\"small\"\r\n        v-if=\"openDate\"\r\n        :disabled=\"isOpen\"\r\n        :editable=\"false\"\r\n        range-separator=\"-\"\r\n        start-placeholder=\"开始时间\"\r\n        end-placeholder=\"结束时间\"\r\n      />\r\n    </div>\r\n    <div class=\"swap-slippage PL-20 PR-20 MT-10\">\r\n      <div class=\"swap-slippage__select flex-row-between pointer\">\r\n        <div class=\"text-16\">GWEI</div>\r\n        <div class=\"flex-row-end\">\r\n          <el-tag class=\"swap-slippage__select-tag\" type=\"warning\" :effect=\"gWei == item ? 'dark' : 'light'\" @click=\"toggleGwei(item)\" v-for=\"item in gWeiList\" :key=\"item\">\r\n            {{ item }}\r\n          </el-tag>\r\n          <input type=\"number\" class=\"swap-slippage__select-input\" placeholder=\"5\" v-model.number=\"gWei\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"buy-tips MT-15 PL-20 PR-20\">抢购使用烧区块模式，请确保BNB余额充足,并且刚好只够买中一次,否则会成功买中多次。</div>\r\n    <div class=\"buy-tips MT-15 PL-20 PR-20\">由于烧区块模式产生大量交易无法一一验证交易是否成功,请自行检查是否成功烧到并及时关闭脚本,以防止产生不必要的浪费。</div>\r\n    <el-button v-if=\"!isLogin\" class=\"swap-btn MT-15\" @click=\"loginFn\">{{ t('swap.connectWallet') }}</el-button>\r\n    <el-button v-else-if=\"!hasPledge\" class=\"swap-btn MT-15\" @click=\"pledgeHandler\">成为股东使用该功能</el-button>\r\n    <el-button v-else-if=\"!coinDetail.token\" disabled class=\"swap-btn MT-15\">请输入正确合约</el-button>\r\n    <el-button v-else-if=\"!isWhiteList\" class=\"swap-btn MT-15\" disabled>非白名单用户不能购买</el-button>\r\n    <el-button v-else-if=\"availableQuantity.gt(zero)\" class=\"swap-btn MT-15\" disabled>不能重复购买</el-button>\r\n    <el-button v-else-if=\"circulation > 0\" class=\"swap-btn MT-15\" :loading=\"claimLoading\" @click=\"claimHandler\">领取</el-button>\r\n    <el-button v-else class=\"swap-btn MT-15\" :loading=\"isOpen\" @click=\"startHandler\">\r\n      <div class=\"flex-row-center\">\r\n        <el-icon class=\"is-loading MR-5\" v-if=\"isOpen\">\r\n          <Loading />\r\n        </el-icon>\r\n        <span>{{ isOpen ? '停止' : '开始' }}</span>\r\n      </div>\r\n    </el-button>\r\n  </div>\r\n  <RpcList ref=\"rpcList\" />\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport PRESALE_ABI from '@/api/abis/presale.json'\r\nimport { utils } from 'ethers'\r\nimport { getBit, Tips } from '../../libs/utils'\r\nimport { ElMessageBox, ElNotification } from 'element-plus'\r\nimport RpcList from '../swap/modal/rpcList.vue'\r\nimport moment from 'moment'\r\nimport POOL_ABI from '../../api/abis/pool'\r\nimport PAIR_ABI from '@/api/abis/getPair.js'\r\nconst zero = utils.parseUnits('0', 18)\r\nexport default {\r\n  components: {\r\n    RpcList\r\n  },\r\n  data() {\r\n    return {\r\n      utils,\r\n      zero,\r\n      moment,\r\n      getBit,\r\n      // 是否指定时间开启\r\n      openDate: false,\r\n      // 指定时间\r\n      date: [],\r\n      isLogin: false,\r\n      contract: null,\r\n      // 时间间隔\r\n      timeInterval: 3,\r\n      // 一次发送几个包\r\n      sendNum: 1,\r\n      gWei: 5,\r\n      gWeiList: [5, 7, 10, 15, 20],\r\n      // 合约地址\r\n      contractAddress: '', //'0x829e67f327b7283C44734518C7E83b135a703b74',\r\n      gasLimit: '800000',\r\n      // 是否登录\r\n      loading: false,\r\n      // 当前用户是否是白名单\r\n      isWhiteList: false,\r\n      // 购买数量\r\n      number: '',\r\n      // 当前是否已开启\r\n      isOpen: false,\r\n      detailLoading: false,\r\n      // 当前合约代币信息\r\n      coinDetail: {},\r\n      timer: null,\r\n      // 可领取数量\r\n      availableQuantity: zero,\r\n      // 当前流通量\r\n      circulation: 0,\r\n      // 领取loading\r\n      claimLoading: false\r\n    }\r\n  },\r\n  watch: {\r\n    'currentNetwork.ChainID': {\r\n      immediate: true,\r\n      handler() {\r\n        const { Token } = this.currentNetwork\r\n        const item1 = Token[0]\r\n        const item2 = Token[1] || Token[0]\r\n        this.item1 = { ...this.item1, ...item1 }\r\n        this.item2 = { ...this.item2, ...item2 }\r\n        this.gWei = 5 * this.currentNetwork.GWEI\r\n        this.gWeiList = [5 * this.currentNetwork.GWEI, 7 * this.currentNetwork.GWEI, 10 * this.currentNetwork.GWEI, 15 * this.currentNetwork.GWEI, 20 * this.currentNetwork.GWEI]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentNetwork', 'networkList', 'currentDex', 'hasPledge']),\r\n    gasFee() {\r\n      if (!isFinite(this.gasLimit) || !isFinite(this.gWei)) {\r\n        return 0\r\n      }\r\n      return this.gasLimit * this.gWei / 1000000000\r\n    },\r\n  },\r\n  mounted() {\r\n    if (window.wallet.accounts[0] && window.wallet.connectState == 3) {\r\n      this.isLogin = true\r\n    }\r\n    this.isLogin && this.loginCallBack()\r\n    window.wallet.on('accountChange', () => {\r\n      if (window.wallet.accounts[0] && window.wallet.connectState == 3) {\r\n        this.isLogin = true\r\n      } else {\r\n        this.isLogin = false\r\n      }\r\n      this.isLogin && this.loginCallBack()\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions(['setConnectDialog']),\r\n    pledgeHandler() {\r\n      ElMessageBox.confirm(\r\n          '需要质押$50资产，或者10个下级质押过$10资产才能使用该功能',\r\n          'Warning',\r\n          {\r\n              confirmButtonText: '质押',\r\n              cancelButtonText: '取消',\r\n              type: 'warning',\r\n          }\r\n      ).then(() => {\r\n          this.$router.push({\r\n              name: 'stake'\r\n          })\r\n      })\r\n    },\r\n    toUnits(num) {\r\n      return Number(utils.formatUnits(num, 18))\r\n    },\r\n    // 登陆\r\n    loginFn() {\r\n      ElMessageBox.prompt('请输入私钥', 'Tip', {\r\n        confirmButtonText: 'OK',\r\n        cancelButtonText: 'Cancel',\r\n      }).then(({value}) => {\r\n        window.wallet.connect(3, value)\r\n      })\r\n    },\r\n    // 获取流动性池子信息\r\n    async getPondData() {\r\n      const BNB_ADDRESS = '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c'\r\n      const pairContract = window.wallet.initContract('0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73', PAIR_ABI)\r\n      const data = await pairContract.getPair(\r\n        this.coinDetail.token, \r\n        BNB_ADDRESS\r\n      )\r\n      const contract = window.wallet.initContract(data, POOL_ABI)\r\n      const token0 = await contract.token0()\r\n      const token1 = await contract.token1()\r\n      const res = await contract.getReserves()\r\n      if (token0.toLocaleLowerCase() === BNB_ADDRESS.toLocaleLowerCase()) {\r\n        this.circulation = res._reserve1\r\n      } else if (token1.toLocaleLowerCase() === BNB_ADDRESS.toLocaleLowerCase()) {\r\n        this.circulation = res._reserve0\r\n      }\r\n    },\r\n    // 开抢\r\n    startHandler() {\r\n      // 开启中就关闭\r\n      if (this.isOpen) {\r\n        clearInterval(this.timer)\r\n        this.isOpen = false\r\n      } else {\r\n        let message = ''\r\n        if (!this.number) {\r\n          message = '请输入发送数量'\r\n        }\r\n        if (!this.gasLimit) {\r\n          message = '请输入Gas Limit'\r\n        }\r\n        if (!this.sendNum) {\r\n          message = '请输入每次发送交易数'\r\n        }\r\n        if (!this.timeInterval) {\r\n          message = '请输入时间间隔'\r\n        }\r\n        if (message) {\r\n          ElNotification({\r\n            type: 'error',\r\n            title: '温馨提示',\r\n            message\r\n          })\r\n          return\r\n        }\r\n        // 如果当前是指定时间段执行\r\n        if (this.openDate) {\r\n          if (this.date.length <= 0) {\r\n            ElNotification({\r\n              type: 'error',\r\n              title: '温馨提示',\r\n              message: '请选择执行时间段'\r\n            })\r\n            return\r\n          } else {\r\n            let [start, end] = this.date\r\n            start = (new Date(start)).valueOf()\r\n            end = (new Date(end)).valueOf()\r\n            const timer = setInterval(() => {\r\n              const now = (new Date()).valueOf()\r\n              if (now >= start && now <= end) {\r\n                for (let i = 0; i < this.sendNum; i++) {\r\n                  this.buyConfirm()\r\n                }\r\n                this.timer = setInterval(() => {\r\n                  for (let i = 0; i < this.sendNum; i++) {\r\n                    this.buyConfirm()\r\n                  }\r\n                }, this.timeInterval)\r\n                clearInterval(timer)\r\n              } else if (now > end) {\r\n                clearInterval(timer)\r\n                clearInterval(this.timer)\r\n              }\r\n            }, 1000)\r\n            \r\n          }\r\n        } else {\r\n          for (let i = 0; i < this.sendNum; i++) {\r\n            this.buyConfirm()\r\n          }\r\n          this.timer = setInterval(() => {\r\n            for (let i = 0; i < this.sendNum; i++) {\r\n              this.buyConfirm()\r\n            }\r\n          }, this.timeInterval)\r\n        }\r\n      }\r\n    },\r\n    // 合约地址变化\r\n    contractAddressChange() {\r\n      if (this.contractAddress && this.contractAddress.length == 42) {\r\n        this.contract = window.wallet.initContract(this.contractAddress, PRESALE_ABI)\r\n        this.getCoinDetail()\r\n        this.isWhiteListFn()\r\n        this.getAvailableQuantity()\r\n      }\r\n    },\r\n    // 打开rpclist\r\n    openRpcList() {\r\n      if (this.isOpen) {\r\n        return\r\n      }\r\n      this.$refs.rpcList.open(window.wallet.connectState)\r\n    },\r\n    toggleGwei(data) {\r\n      if (this.isOpen) {\r\n        return\r\n      }\r\n      this.gWei = data\r\n    },\r\n    loginCallBack() {\r\n      this.isWhiteListFn()\r\n      this.getAvailableQuantity()\r\n    },\r\n    // 判断当前用户是否是白名单\r\n    async isWhiteListFn() {\r\n      if (!this.isLogin || !this.contract) {\r\n        this.isWhiteList = false\r\n        return\r\n      }\r\n      try {\r\n        //获取白名单数量\r\n        const num = await this.contract.getNumberOfWhitelistedUsers()\r\n        if (num.gt(zero)) {\r\n          const list = await this.contract.getWhitelistedUsers(zero, num)\r\n          const bool = list.find((item) => {\r\n            return item === window.wallet.accounts[0]\r\n          })\r\n          this.isWhiteList = !!bool\r\n        } else {\r\n          this.isWhiteList = false\r\n        }\r\n      } catch (error) {\r\n        Tips(error)\r\n      }\r\n    },\r\n    // 获取代币信息\r\n    async getCoinDetail() {\r\n      this.detailLoading = true\r\n      try {\r\n        const [one, two, three] = await Promise.all([\r\n          this.contract.poolSettings(), \r\n          this.contract.poolStates(), \r\n          this.contract.getContributionSettings(),\r\n        ])\r\n        const { token, startTime, endTime, hardCap, softCap } = one\r\n        const { max, min } = three\r\n        const toolContract = window.wallet.initContract(token)\r\n        const symbol = await toolContract.symbol()\r\n        this.coinDetail = {\r\n          token,\r\n          max,\r\n          min,\r\n          symbol,\r\n          startTime,\r\n          endTime,\r\n          hardCap,\r\n          softCap\r\n        }\r\n        this.getPondData()\r\n      } catch (error) {\r\n        Tips(error)\r\n      }\r\n      this.detailLoading = false\r\n    },\r\n    // 购买代币\r\n    async buyConfirm() {\r\n      try {\r\n        const tx = await this.contract.contribute({\r\n          value: utils.parseUnits(this.number, 18),\r\n          gasPrice: utils.parseUnits(this.gWei.toString, 9),\r\n          gasLimit: this.gasLimit\r\n        })\r\n        await tx.wait()\r\n        ElNotification({\r\n          type: 'success',\r\n          title: 'Success',\r\n          message: '购买成功'\r\n        })\r\n        this.isOpen = false\r\n        clearInterval(this.timer)\r\n      } catch (error) {\r\n        Tips(error) \r\n      }\r\n    },\r\n    // 领币\r\n    async claimHandler() {\r\n      this.claimLoading = true\r\n      try {\r\n        await this.contract.claim()\r\n        this.availableQuantity = zero\r\n        ElNotification({\r\n          type: 'success',\r\n          title: 'Success',\r\n          message: '领取成功'\r\n        })\r\n      } catch (error) {\r\n        Tips(error)\r\n      }\r\n      this.claimLoading = false\r\n    },\r\n    // 获取可领取数量\r\n    async getAvailableQuantity() {\r\n      if (!this.isLogin || !this.contract) {\r\n        this.availableQuantity = zero\r\n        return\r\n      }\r\n      this.contract.claimedOf(window.wallet.accounts[0]).then(data => {\r\n        this.availableQuantity = data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.swap-slippage__select{\r\n  padding: 10px !important;\r\n}\r\n.buy-tips{\r\n  font-size: 12px;\r\n  color: rgba(205, 196, 177, 1);\r\n  &.red{\r\n      color: rgba(244, 79, 46, 1);\r\n      &::before{\r\n          background: rgba(244, 79, 46, 1);\r\n      }\r\n  }\r\n  &::before{\r\n      content: \"\";\r\n      width: 8px;\r\n      height: 8px;\r\n      border-radius: 50%;\r\n      background: rgba(252, 190, 47, 1);\r\n      display: inline-block;\r\n      margin-right: 6px;\r\n  }\r\n}\r\n\r\n.contract-box{\r\n  position: relative;\r\n  border: 1px solid #888;\r\n  border-radius: 8px;\r\n  width: calc(100% - 40px);\r\n  .contract-box__loading{\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 50%;\r\n    margin-top: -7px;\r\n  }\r\n}\r\n.contract-address{\r\n  height: 46px;\r\n  width: 100%;\r\n  background: none;\r\n  color: #fff;\r\n  padding: 0 10px;\r\n}\r\n.presale-item__value{\r\n  font-weight: bold;\r\n  word-break: break-all;\r\n  &.text-red{\r\n    color: #991B1B;\r\n  }\r\n}\r\n.buy-item{\r\n  width: calc(50% - 5px);\r\n  height: 40px;\r\n  border: 1px solid #888;\r\n  border-radius: 8px;\r\n  padding: 0 10px;\r\n  margin-right: 10px;\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n  .buy-item__input{\r\n    background: none;\r\n    text-align: right;\r\n    color: #fff;\r\n  }\r\n}\r\n\r\n.swap-btn{\r\n    margin: 0 auto;\r\n    width: calc(100% - 40px);\r\n    max-width: 450px;\r\n    height: 60px;\r\n    background: #FCBE2F;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 18px;\r\n    color: #fff;\r\n    display: block;\r\n    &.is-disabled{\r\n      background: #e4e7ed !important;\r\n    }\r\n    &:hover, &:focus, &:active{\r\n      background: #FCBE2F;\r\n      color: #fff;\r\n      border: none;\r\n    }\r\n  }\r\n\r\n</style>\r\n\r\n","import { render } from \"./index.vue?vue&type=template&id=302c6d42&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=302c6d42&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-302c6d42\"\n\nexport default script","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=302c6d42&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=302c6d42&lang=scss&scoped=true\""],"sourceRoot":""}