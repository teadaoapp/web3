(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b4d02ee","chunk-2d216612"],{2728:function(e,t,a){"use strict";a.r(t);var o=a("3eb2");const i=e=>(Object(o["pushScopeId"])("data-v-49efc99e"),e=e(),Object(o["popScopeId"])(),e),c={class:"airdrop"},s=i(()=>Object(o["createElementVNode"])("p",{class:"text-22 text-white"},"Use SdDrop to airdrop your token to all your users with the cli",-1)),r={class:"airdrop-content MT-30"},n={class:"airdrop-type__left text-left"},l=i(()=>Object(o["createElementVNode"])("div",{class:"text-18 text-999"},"Aindrop Type",-1)),d={class:"text-22 text-white MT-5"},p={class:"airdrop-type__list"},b=Object(o["createStaticVNode"])('<div class="airdrop-desc text-left text-20 text-999 MB-20" data-v-49efc99e><div class="airdrop-desc__title text-22 text-white MB-10" data-v-49efc99e>Aindrop Instructions:</div><div class="MT-5" data-v-49efc99e>- Airdrop tokens to as many users as desired</div><div class="MT-5" data-v-49efc99e>- If you are running a sale make sure tokens are not airdropped</div><div class="MT-5" data-v-49efc99e>- Enter your token address first</div><div class="MT-5" data-v-49efc99e>- Enter a list of users to airdrop followed by amount(comma sepa</div></div>',1),f={class:"text-18 text-999 MB-20"},h={class:"airdrop-type text-left MB-20"},u=i(()=>Object(o["createElementVNode"])("div",{class:"text-18 text-999"},"Enter Token Address",-1)),m={class:"flex-row-start MT-5 align-center"},O={class:"text-20 text-999 text-left"},j=i(()=>Object(o["createElementVNode"])("span",{class:"MR-5"},"Token:",-1)),v={class:"text-red"},w={class:"text-20 text-999 text-left MT-10"},y=i(()=>Object(o["createElementVNode"])("span",{class:"MR-5"},"Balance:",-1)),g={key:0,class:"text-red"},x={key:1,class:"text-red"},k={class:"airdrop-list MT-20"},E=i(()=>Object(o["createElementVNode"])("p",{class:"text-red text-20 MT-10 MB-30"},"For best results we recommend you do a maximum of 500 Addresses at a time!",-1)),C={class:"text-20 text-999"},N=Object(o["createTextVNode"])(" Total tokens being airdropped: "),B={class:"text-red"},T={class:"flex-row-center MT-15"},V=Object(o["createTextVNode"])("Connect"),A=Object(o["createTextVNode"])("APPROVE"),L=Object(o["createTextVNode"])("AIRDROP"),S=Object(o["createTextVNode"])("AIRDROP");function I(e,t,a,i,I,_){const R=Object(o["resolveComponent"])("caret-bottom"),M=Object(o["resolveComponent"])("el-icon"),D=Object(o["resolveComponent"])("loading"),H=Object(o["resolveComponent"])("el-button"),P=Object(o["resolveDirective"])("click-outside");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[s,Object(o["createElementVNode"])("div",r,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(["airdrop-type flex-row-between pointer MB-20",{"type-show":I.typesShow}]),onClick:t[2]||(t[2]=e=>I.typesShow=!I.typesShow)},[Object(o["createElementVNode"])("div",n,[l,Object(o["createElementVNode"])("div",d,Object(o["toDisplayString"])(1==I.type?"Aindrop Tokens":"BNB"),1)]),Object(o["createVNode"])(M,{color:"#fff",size:16},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(R)]),_:1}),Object(o["createVNode"])(o["Transition"],{name:"el-zoom-in-top"},{default:Object(o["withCtx"])(()=>[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",{class:"airdrop-type__list-item",onClick:t[0]||(t[0]=e=>_.toggleType(1))},"Aindrop Type"),Object(o["createElementVNode"])("div",{class:"airdrop-type__list-item",onClick:t[1]||(t[1]=e=>_.toggleType(2))},"BNB")],512),[[o["vShow"],I.typesShow]])]),_:1})],2)),[[P,_.clickOutside]]),b,Object(o["createElementVNode"])("div",f,"Airdrop Fees:"+Object(o["toDisplayString"])(1==I.type?I.utils.formatEther(I.feeAmount):I.utils.formatEther(I.feeBnBAmount))+" BNB",1),Object(o["createVNode"])(o["Transition"],{name:"el-zoom-in-top"},{default:Object(o["withCtx"])(()=>[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",h,[u,Object(o["createElementVNode"])("div",m,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>I.tokenAddr=e),class:"airdrop-type__input text-22 text-white flex-1",placeholder:"Please Enter Token Address"},null,512),[[o["vModelText"],I.tokenAddr,void 0,{trim:!0}]]),Object(o["withDirectives"])(Object(o["createVNode"])(M,{class:"is-loading",color:"#fff"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D)]),_:1},512),[[o["vShow"],I.searchLoading]])])],512),[[o["vShow"],1==I.type]])]),_:1}),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",O,[j,Object(o["createElementVNode"])("span",v,Object(o["toDisplayString"])(I.ERC20Info.symbol)+"("+Object(o["toDisplayString"])(I.ERC20Info.name||"--")+")",1)],512),[[o["vShow"],1==I.type]]),Object(o["createElementVNode"])("div",w,[y,1==I.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",g,Object(o["toDisplayString"])(I.utils.formatUnits(I.ERC20Info.balance,I.ERC20Info.decimals)),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",x,Object(o["toDisplayString"])(I.utils.formatEther(I.ERC20Info.balance)),1))]),Object(o["createElementVNode"])("div",k,[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>I.disListInfo=e),class:"airdrop-list__textarea text-white text-20",placeholder:"Enter Distribution List"},null,512),[[o["vModelText"],I.disListInfo,void 0,{trim:!0}]])]),E,Object(o["createElementVNode"])("div",C,[N,Object(o["createElementVNode"])("span",B,Object(o["toDisplayString"])(_.totalPrice),1)]),Object(o["createElementVNode"])("div",T,[I.isLogin?2==I.isApprove?(Object(o["openBlock"])(),Object(o["createBlock"])(H,{key:1,class:"btn btn-line color-text MR-20",loading:I.approveLoading,onClick:_.approveHandler},{default:Object(o["withCtx"])(()=>[A]),_:1},8,["loading","onClick"])):1==I.isApprove?(Object(o["openBlock"])(),Object(o["createBlock"])(H,{key:2,class:"btn",loading:I.airdropLoading,onClick:_.airdropHandler},{default:Object(o["withCtx"])(()=>[L]),_:1},8,["loading","onClick"])):Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(H,{key:0,class:"btn btn-line color-text MR-20",loading:I.loginLoading,onClick:_.loginHandler},{default:Object(o["withCtx"])(()=>[V]),_:1},8,["loading","onClick"])),0==I.isApprove&&2==I.type?(Object(o["openBlock"])(),Object(o["createBlock"])(H,{key:3,class:"btn",loading:I.airdropLoading,onClick:_.airdropETHHandler},{default:Object(o["withCtx"])(()=>[S]),_:1},8,["loading","onClick"])):Object(o["createCommentVNode"])("",!0)])])])}a("59eb");var _=a("4d90"),R=a("90fe"),M=a("eba7"),D=a("e5da"),H=a("25c2"),P=a("b6f8"),F=a("76a2"),U=a("c1e3"),z=a("dcd5"),$=a("272a");window.Contract=M["a"],window.IERC20ABI=P;let J,W=null,Z=null;var q={data(){return{utils:D["b"],typesShow:!1,type:1,isLogin:!1,isApprove:0,approveLoading:!1,loginLoading:!1,feeAmount:H["a"].from(0),feeBnBAmount:H["a"].from(0),tokenAddr:"",disListInfo:"",airdropLoading:!1,searchLoading:!1,ERC20Info:{name:"",symbol:"",decimals:0,balance:H["a"].from(0),allowance:H["a"].from(0)}}},computed:{disList(){let e=[];const t=[];this.disListInfo&&(e=this.disListInfo.split("\n"));for(let a=0;a<e.length;a++){const o=e[a],i=o.split(",");t.push({addr:i[0],price:i[1]})}return t},totalPrice(){let e=0;return this.disList.forEach(t=>{const a=t.price;a&&!isNaN(a)&&(e+=Number(a))}),e}},watch:{tokenAddr:Object(R["b"])((async function(){this.searchLoading=!0;try{const e=this.$wallet.initContract(this.tokenAddr,P),[t,a,o,i,c]=await Promise.all([e.name(),e.symbol(),e.decimals(),e.balanceOf(wallet.accounts[0]),e.allowance(wallet.accounts[0],J.address)]);this.ERC20Info={name:t,symbol:a,decimals:o,balance:i},this.isApprove=c.isZero()?2:1,Z=e}catch(e){console.error(e),this.ERC20Info={name:"",symbol:"",decimals:0,balance:H["a"].from(0),allowance:H["a"].from(0)},this.isApprove=2,Z=null}this.searchLoading=!1}),500)},created(){this.isLoginFn(),this.$wallet.on("accountChange",()=>{this.isLoginFn()})},methods:{...Object($["b"])(["setConnectDialog"]),async isLoginFn(){this.$wallet.accounts[0]?(this.isApprove=0,this.isLogin=!0,W=window.wallet.initContract(z["product"].SWAP_HELPER,F),J=window.wallet.initContract("0x9b74de695F70F6ecC6A0855b4523db6Fb64243d3",U),J.price().then(e=>{this.feeAmount=e}),W.callFee().then(e=>{this.feeBnBAmount=e})):this.isLogin=!1},getBnbBalance(){W.provider.getBalance(wallet.accounts[0]).then(e=>{this.ERC20Info={name:"BNB",balance:e}})},clickOutside(){this.typesShow=!1},toggleType(e){this.type=e,this.ERC20Info={name:"",symbol:"",decimals:0,balance:H["a"].from(0),allowance:H["a"].from(0)},2===e&&this.getBnbBalance()},loginHandler(){this.setConnectDialog(!0)},async approveHandler(){const e=this.dataVerify();if(e){this.approveLoading=!0;try{const e=await Z.totalSupply(),t=await Z.approve(J.address,e);await t.wait(),this.isApprove=1}catch(t){console.error(t),Object(R["a"])(t)}this.approveLoading=!1}},async airdropHandler(){this.airdropLoading=!0;try{const{address:e}=Z,t=this.disList.map(e=>e.addr),a=this.disList.map(e=>D["b"].parseUnits(e.price.toString(),this.ERC20Info.decimals)),o=a.reduce((e,t)=>e.add(t));console.log(D["b"].formatUnits(o,18),W,this.ERC20Info.decimals);const i=await J.batchSafeTransferFrom(e,t,a,{value:this.feeAmount});await i.wait(),Object(_["a"])({type:"success",title:"Success",message:"Airdrop Success"})}catch(e){console.error(e),Object(R["a"])(e)}this.airdropLoading=!1},async airdropETHHandler(){this.airdropLoading=!0;try{const e=this.disList.map(e=>e.addr),t=this.disList.map(e=>D["b"].parseEther(e.price.toString())),a=t.reduce((e,t)=>e.add(t),this.feeBnBAmount),o=await W.manyTransferETH(e,t,{value:a});await o.wait(),Object(_["a"])({type:"success",title:"Success",message:"Airdrop Success"})}catch(e){console.error(e),Object(R["a"])(e)}this.airdropLoading=!1},dataVerify(){if(!this.tokenAddr)return Object(_["a"])({type:"error",title:"Tips",message:"Please Enter Token Address"}),!1;if(this.disList.length<=0)return Object(_["a"])({type:"error",title:"Tips",message:"Please Enter Distribution List"}),!1;let e=!0;for(let t=0;t<this.disList.length;t++){const{addr:a,price:o}=this.disList[t];if("0x"!==a.substr(0,2)||42!==a.length||!o){Object(_["a"])({type:"error",title:"Tips",message:`The format of line ${t+1} is wrong, please check the vehicle`}),e=!1;break}}return e}}},G=(a("d8a3"),a("6dd4")),K=a.n(G);const Q=K()(q,[["render",I],["__scopeId","data-v-49efc99e"]]);t["default"]=Q},"536e":function(e,t,a){"use strict";var o=a("d73c");e.exports=function(e,t){var a=[][e];return!!a&&o((function(){a.call(null,t||function(){return 1},1)}))}},"59eb":function(e,t,a){"use strict";var o=a("acc7"),i=a("fb71").left,c=a("536e"),s=a("dbf3"),r=a("84cc"),n=c("reduce"),l=!r&&s>79&&s<83;o({target:"Array",proto:!0,forced:!n||l},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},"84cc":function(e,t,a){var o=a("adbe"),i=a("9a2f");e.exports="process"==o(i.process)},c1e3:function(e){e.exports=JSON.parse('["function price() external view returns(uint256)","function batchSafeTransferFrom(address tokenAddr, address[] calldata to, uint256[] calldata value) external payable","function batchSafeSendETH(address[] calldata to, uint256[] calldata value) external payable"]')},d8a3:function(e,t,a){"use strict";a("f5a7")},f5a7:function(e,t,a){},fb71:function(e,t,a){var o=a("49da"),i=a("a228"),c=a("9541"),s=a("c831"),r=TypeError,n=function(e){return function(t,a,n,l){o(a);var d=i(t),p=c(d),b=s(d),f=e?b-1:0,h=e?-1:1;if(n<2)while(1){if(f in p){l=p[f],f+=h;break}if(f+=h,e?f<0:b<=f)throw r("Reduce of empty array with no initial value")}for(;e?f>=0:b>f;f+=h)f in p&&(l=a(l,p[f],f,d));return l}};e.exports={left:n(!1),right:n(!0)}}}]);
//# sourceMappingURL=chunk-1b4d02ee.7df4ca0e.js.map