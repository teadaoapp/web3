(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7780a31c","chunk-2d0d7806","chunk-566a906a"],{"053f":function(e,t,a){"use strict";a.r(t);var s=a("33a9");const n={class:"tool"};function i(e,t){const a=Object(s["resolveComponent"])("ImputationVue"),i=Object(s["resolveComponent"])("el-tab-pane"),o=Object(s["resolveComponent"])("AirfropVue"),c=Object(s["resolveComponent"])("PresaleVue"),l=Object(s["resolveComponent"])("el-tabs");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",n,[Object(s["createVNode"])(l,{modelValue:e.activeName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.activeName=t),class:"swap-tabs",onTabClick:e.tabChange},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(i,{label:"归集",name:"Imputation",lazy:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(a)]),_:1}),Object(s["createVNode"])(i,{label:"空投",name:"Airdrop",lazy:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(o)]),_:1}),Object(s["createVNode"])(i,{label:"预售",name:"Presale",lazy:""},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(c)]),_:1})]),_:1},8,["modelValue","onTabClick"])])}var o=a("30ed"),c=a.n(o);const l=e=>(Object(s["pushScopeId"])("data-v-0ac1e4f6"),e=e(),Object(s["popScopeId"])(),e),r={class:"flex-row-center flex-1 flex-start wrapper"},d={class:"swap-info PB-20 imputation"},p={class:"swap-item"},b={class:"swap-item__top flex-row-between"},m={class:"flex-row-start align-center pointer"},u={class:"swap-item__top-icon MR-10"},h={class:"swap-item__top-name text-overflow__1"},O={class:"swap-item__desc text-20 flex-row-end align-center"},j=l(()=>Object(s["createElementVNode"])("img",{src:c.a,class:"swap-transform pointer"},null,-1)),g={key:0,class:"flex-1 wrapper-box__back flex-column-start"},y={class:"flex-h__1"},f={class:"imputation-table"},k=l(()=>Object(s["createElementVNode"])("th",null,"发送地址",-1)),w=l(()=>Object(s["createElementVNode"])("th",null,"接收地址",-1)),v=l(()=>Object(s["createElementVNode"])("th",null,"执行结果",-1)),x={class:"flex-row-start align-center MB-20 MT-20"},N=l(()=>Object(s["createElementVNode"])("div",{class:"text-16 MR-30"},"发送数量",-1)),V={class:"swap-item__input flex-1 flex-row-start align-center"},T={class:"swap-slippage MT-10 MB-20"},C={class:"swap-slippage__select flex-row-between pointer"},E=l(()=>Object(s["createElementVNode"])("div",{class:"text-16"},"GWEI",-1)),B={class:"flex-row-end"},L={class:"flex-row-start align-center"};function _(e,t){const a=Object(s["resolveComponent"])("ArrowDown"),n=Object(s["resolveComponent"])("el-icon"),i=Object(s["resolveComponent"])("CopyDocument"),o=Object(s["resolveComponent"])("el-switch"),c=Object(s["resolveComponent"])("el-button"),l=Object(s["resolveComponent"])("Loading"),_=Object(s["resolveComponent"])("el-tag"),M=Object(s["resolveComponent"])("Back"),D=Object(s["resolveComponent"])("Tokens"),A=Object(s["resolveDirective"])("lazy");return Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],null,[Object(s["createElementVNode"])("div",r,[Object(s["createElementVNode"])("div",{class:Object(s["normalizeClass"])(["wrapper-box",{back:e.isBack}])},[Object(s["createElementVNode"])("div",d,[Object(s["createElementVNode"])("div",p,[Object(s["createElementVNode"])("div",b,[Object(s["createElementVNode"])("div",m,[Object(s["createElementVNode"])("div",{class:"flex-row-start align-center",onClick:t[0]||(t[0]=t=>e.openTokensDialog("item1"))},[Object(s["withDirectives"])(Object(s["createElementVNode"])("img",u,null,512),[[A,e.getLogo(e.item1.address)]]),Object(s["createElementVNode"])("div",h,Object(s["toDisplayString"])(e.item1.symbol),1),Object(s["createVNode"])(n,{class:"ML-5"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(a)]),_:1})]),Object(s["createVNode"])(n,{class:"ML-5",onClick:t[1]||(t[1]=t=>e.copyHandler(e.item1.address))},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(i)]),_:1})]),Object(s["createElementVNode"])("div",O,[Object(s["createTextVNode"])(" 开启多对单"),Object(s["createVNode"])(o,{modelValue:e.toOne,"onUpdate:modelValue":t[2]||(t[2]=t=>e.toOne=t),class:"ML-10"},null,8,["modelValue"])])])]),Object(s["withDirectives"])(Object(s["createElementVNode"])("textarea",{class:"imputation-textarea","onUpdate:modelValue":t[3]||(t[3]=t=>e.sendAddress=t),placeholder:"请输入发送方私钥，一行一个"},null,512),[[s["vModelText"],e.sendAddress]]),j,e.toOne?Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("input",{key:1,type:"text",placeholder:"请输入接收方钱包地址","onUpdate:modelValue":t[5]||(t[5]=t=>e.getAddressOne=t),class:"imputation-input"},null,512)),[[s["vModelText"],e.getAddressOne]]):Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("textarea",{key:0,class:"imputation-textarea","onUpdate:modelValue":t[4]||(t[4]=t=>e.getAddress=t),placeholder:"请输入接收方钱包地址，一行一个"},null,512)),[[s["vModelText"],e.getAddress]]),Object(s["createVNode"])(c,{class:"swap-btn MT-10",disabled:!e.sendAddress||!e.getAddress&&!e.getAddressOne,loading:e.imputationLoading,onClick:e.imputationHandler},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("查询")]),_:1},8,["disabled","loading","onClick"])]),e.isBack?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",g,[Object(s["createElementVNode"])("div",y,[Object(s["createElementVNode"])("table",f,[Object(s["createElementVNode"])("thead",null,[Object(s["createElementVNode"])("tr",null,[k,w,Object(s["createElementVNode"])("th",null,Object(s["toDisplayString"])(e.item1.symbol)+"余额",1),v])]),Object(s["createElementVNode"])("tbody",null,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(e.tableList,(t,a)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("tr",{key:a},[Object(s["createElementVNode"])("td",null,Object(s["toDisplayString"])(t.provider?e.showAddress(t.provider.address):"--"),1),Object(s["createElementVNode"])("td",null,Object(s["toDisplayString"])(t.getAddress?e.showAddress(t.getAddress):"--"),1),Object(s["createElementVNode"])("td",null,Object(s["toDisplayString"])(t.balance||"--"),1),Object(s["createElementVNode"])("td",null,[t.loading?(Object(s["openBlock"])(),Object(s["createBlock"])(n,{key:0,class:"is-loading"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(l)]),_:1})):(Object(s["openBlock"])(),Object(s["createElementBlock"])(s["Fragment"],{key:1},[Object(s["createTextVNode"])(Object(s["toDisplayString"])(t.message),1)],64))])]))),128))])])]),Object(s["createElementVNode"])("div",x,[N,Object(s["createElementVNode"])("div",V,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{class:"text-right flex-1","onUpdate:modelValue":t[6]||(t[6]=t=>e.price=t),placeholder:"0.00"},null,512),[[s["vModelText"],e.price]])])]),Object(s["createElementVNode"])("div",T,[Object(s["createElementVNode"])("div",C,[E,Object(s["createElementVNode"])("div",B,[(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],null,Object(s["renderList"])(e.gWeiList,t=>(Object(s["openBlock"])(),Object(s["createBlock"])(_,{class:"swap-slippage__select-tag",type:"warning",effect:e.gWei==t?"dark":"light",onClick:a=>e.toggleGwei(t),key:t},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(t),1)]),_:2},1032,["effect","onClick"]))),128)),Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"number",class:"swap-slippage__select-input",placeholder:"5","onUpdate:modelValue":t[7]||(t[7]=t=>e.gWei=t)},null,512),[[s["vModelText"],e.gWei,void 0,{number:!0}]])])])]),Object(s["createElementVNode"])("div",L,[e.hasLoading?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createBlock"])(n,{key:0,size:40,class:"pointer",onClick:t[8]||(t[8]=t=>e.isBack=!1)},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(M)]),_:1})),Object(s["createVNode"])(c,{class:"flex-1 swap-btn ML-20",loading:e.hasLoading,disabled:!e.price,onClick:e.imputationConfitm},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("确认")]),_:1},8,["loading","disabled","onClick"])])])):Object(s["createCommentVNode"])("",!0)],2)]),Object(s["createVNode"])(D,{ref:"tokens",onChange:e.tokenChange,onUpdate:e.tokenUpdate},null,8,["onChange","onUpdate"])],64)}a("0e47");var M=a("c64b"),D=a("5f79"),A=a("b6f8"),S=a("8e44"),I=a("1630"),R=a("90fe"),P=a("767c"),H=a("6d13");const{t:U}=H["a"].global;var W={data(){return{t:U,utils:I["b"],getLogo:R["d"],getBit:R["c"],toOne:!0,isBack:!1,price:"",activeName:"imputation",progress:10,imputationLoading:!1,gWei:5,gWeiList:[5,7,10,15,20],type:"",sendAddress:"",getAddressOne:"",getAddress:"",tableList:[],item1:{name:"BNB",symbol:"BNB",address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",balance:"",price:"",loading:!1}}},components:{Tokens:M["a"]},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){const{Token:e}=this.currentNetwork,t=e[0],a=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...a},this.gWei=5*this.currentNetwork.GWEI,this.gWeiList=[5*this.currentNetwork.GWEI,7*this.currentNetwork.GWEI,10*this.currentNetwork.GWEI,15*this.currentNetwork.GWEI,20*this.currentNetwork.GWEI]}}},directives:{bit:{updated(e){e.value=e.value?Object(R["c"])(e.value,5):""}}},computed:{...Object(P["c"])(["currentNetwork","networkList","currentDex"]),hasLoading(){const e=this.tableList.find(e=>e.loading);return!!e}},methods:{...Object(P["b"])(["setCurrentDex","setConnectDialog"]),showAddress(e){return"0x..."+e.slice(-4)},async imputationHandler(){this.imputationLoading=!0;const e=this.sendAddress.split("\n");let t,a=this.getAddress.split("\n"),s=!0;if(this.toOne)42!=this.getAddressOne.length&&(Object(S["a"])({type:"error",title:"温馨提醒",message:"接收方账号错误，请检查"}),s=!1);else for(let l=0;l<a.length;l++){const e=a[l];if(42!=e.length){Object(S["a"])({type:"error",title:"温馨提醒",message:`第${l}行账号错误，请检查`}),s=!1;break}}if(!s)return;const n=[],i=[];for(let l=0;l<e.length;l++){const s=e[l];let o,r,d,p;try{o=window.wallet.getPrivateKeyProvider(s),p=window.wallet.initContract(this.item1.address,A,o),t||(t=await p.decimals()),this.item1.address==this.currentNetwork.MainCoin.address?i.push(o.getBalance()):i.push(p.balanceOf(o.address))}catch(c){console.log(c),r=-1,d=c.data?c.data.message||c.message:c.reason||c.message}n.push({provider:o,getAddress:this.toOne?this.getAddressOne:a[l],balance:0,status:r,message:d,contract:p,decimals:t,loading:!1})}const o=await Promise.allSettled(i);o.forEach((e,a)=>{"fulfilled"===e.status?(n[a].balance=Object(R["c"])(I["b"].formatUnits(e.value.toString(),t),6),n[a].status=0):(n[a].balance="",n[a].status=-1,n[a].message="余额查询失败")}),this.tableList=n,this.imputationLoading=!1,this.isBack=!0},async imputationConfitm(){this.tableList.forEach(async(e,t)=>{if(e=Object(s["toRaw"])(e),0==e.status){let a;this.tableList[t].loading=!0,a=this.item1.address==this.currentNetwork.MainCoin.address?e.provider.sendTransaction({from:e.provider.address,to:e.getAddress,value:I["b"].parseUnits(this.price.toString(),18)}):e.contract.transfer(e.getAddress,I["b"].parseUnits(this.price.toString(),e.decimals),{gasPrice:I["b"].parseUnits(this.gWei.toString(),9),gasLimit:2e5}),a.then(e=>{e.wait().then(()=>{this.tableList[t].status=1,this.tableList[t].message="发送成功",this.tableList[t].loading=!1}).catch(e=>{console.log(t,e),this.tableList[t].status=0,this.tableList[t].message="发送失败",this.tableList[t].loading=!1})}).catch(e=>{console.log(t,e),this.tableList[t].status=0,this.tableList[t].message="发送失败",this.tableList[t].loading=!1})}})},tokenUpdate({name:e,symbol:t}){this.item1.name=e,this.item1.symbol=t},async tokenChange(e){this.item1=e},copyHandler(e){Object(D["a"])(e),Object(S["a"])({type:U("swap.success"),title:U("swap.success"),message:U("swap.copySuccess")})},toggleGwei(e){this.gWei=e},openTokensDialog(e){this.type=e,this.$refs.tokens.open()},loginFn(){this.setConnectDialog(!0)}}};a("8481");W.render=_,W.__scopeId="data-v-0ac1e4f6";var F=W,z=a("2728"),$=a("135d"),G={data(){return{activeName:"Imputation"}},components:{ImputationVue:F,AirfropVue:z["default"],PresaleVue:$["default"]},methods:{tabChange(){Object(R["e"])("Tea Dao-"+this.activeName)}}};a("ddaa"),a("bb61");G.render=i;t["default"]=G},"0bd4":function(e,t,a){"use strict";var s=a("914a");e.exports=function(e,t){var a=[][e];return!!a&&s((function(){a.call(null,t||function(){return 1},1)}))}},"0c0d":function(e,t,a){},"1b14":function(e,t,a){"use strict";var s=a("dc35"),n=a("445d").left,i=a("0bd4"),o=a("669b"),c=a("e0f8"),l=i("reduce"),r=!c&&o>79&&o<83;s({target:"Array",proto:!0,forced:!l||r},{reduce:function(e){var t=arguments.length;return n(this,e,t,t>1?arguments[1]:void 0)}})},2728:function(e,t,a){"use strict";a.r(t);var s=a("33a9");const n=e=>(Object(s["pushScopeId"])("data-v-6a13b93f"),e=e(),Object(s["popScopeId"])(),e),i={class:"airdrop"},o=n(()=>Object(s["createElementVNode"])("p",{class:"text-20 text-white"},"使用TeaDrop将您的代币空投给您的所有用户",-1)),c={class:"airdrop-content MT-20"},l={class:"airdrop-type__left text-left"},r=n(()=>Object(s["createElementVNode"])("div",{class:"text-16 text-999"},"空投类型",-1)),d={class:"text-18 text-white MT-5"},p={class:"airdrop-type__list"},b=Object(s["createStaticVNode"])('<div class="airdrop-desc text-left text-16 text-999 MB-15" data-v-6a13b93f><div class="airdrop-desc__title text-18 text-white MB-10" data-v-6a13b93f>空投说明：</div><div class="MT-5" data-v-6a13b93f>- 向任意数量的用户空投代币</div><div class="MT-5" data-v-6a13b93f>- 如果您正在进行销售，请确保代币没有空投</div><div class="MT-5" data-v-6a13b93f>- 先输入你的代币地址</div><div class="MT-5" data-v-6a13b93f>- 输入要空投的用户列表，后跟金额（逗号分隔）</div></div>',1),m={class:"text-16 text-999 MB-15"},u={class:"airdrop-type text-left MB-15"},h=n(()=>Object(s["createElementVNode"])("div",{class:"text-16 text-999"},"请输入令牌地址",-1)),O={class:"flex-row-start MT-5 align-center"},j={class:"text-18 text-999 text-left"},g=n(()=>Object(s["createElementVNode"])("span",{class:"MR-5"},"代币:",-1)),y={class:"text-yellow"},f={class:"flex-row-between align-center"},k={class:"text-18 text-999 text-left MT-10"},w=n(()=>Object(s["createElementVNode"])("span",{class:"MR-5"},"余额:",-1)),v={key:0,class:"text-yellow"},x={key:1,class:"text-yellow"},N={class:"flex-row-end"},V={class:"airdrop-list MT-20"},T=n(()=>Object(s["createElementVNode"])("p",{class:"text-yellow text-18 MT-10 MB-20"},"为了获得最佳效果，我们建议您一次最多处理500个地址！",-1)),C={class:"text-18 text-999"},E={class:"text-yellow"},B={class:"flex-row-center MT-15"};function L(e,t){const a=Object(s["resolveComponent"])("caret-bottom"),n=Object(s["resolveComponent"])("el-icon"),L=Object(s["resolveComponent"])("loading"),_=Object(s["resolveComponent"])("QuestionFilled"),M=Object(s["resolveComponent"])("el-tooltip"),D=Object(s["resolveComponent"])("el-button"),A=Object(s["resolveDirective"])("click-outside");return Object(s["openBlock"])(),Object(s["createElementBlock"])("div",i,[o,Object(s["createElementVNode"])("div",c,[Object(s["withDirectives"])((Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:Object(s["normalizeClass"])(["airdrop-type flex-row-between pointer MB-20",{"type-show":e.typesShow}]),onClick:t[2]||(t[2]=t=>e.typesShow=!e.typesShow)},[Object(s["createElementVNode"])("div",l,[r,Object(s["createElementVNode"])("div",d,Object(s["toDisplayString"])(1==e.type?"其他代币":"BNB"),1)]),Object(s["createVNode"])(n,{color:"#fff",size:16},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(a)]),_:1}),Object(s["createVNode"])(s["Transition"],{name:"el-zoom-in-top"},{default:Object(s["withCtx"])(()=>[Object(s["withDirectives"])(Object(s["createElementVNode"])("div",p,[Object(s["createElementVNode"])("div",{class:"airdrop-type__list-item",onClick:t[0]||(t[0]=t=>e.toggleType(1))},"其他代币"),Object(s["createElementVNode"])("div",{class:"airdrop-type__list-item",onClick:t[1]||(t[1]=t=>e.toggleType(2))},"BNB")],512),[[s["vShow"],e.typesShow]])]),_:1})],2)),[[A,e.clickOutside]]),b,Object(s["createElementVNode"])("div",m,"空投费用:"+Object(s["toDisplayString"])(e.utils.formatEther(e.feeAmount))+" BNB",1),Object(s["createVNode"])(s["Transition"],{name:"el-zoom-in-top"},{default:Object(s["withCtx"])(()=>[Object(s["withDirectives"])(Object(s["createElementVNode"])("div",u,[h,Object(s["createElementVNode"])("div",O,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.tokenAddr=t),class:"airdrop-type__input text-18 text-white flex-1",placeholder:"请输入令牌地址"},null,512),[[s["vModelText"],e.tokenAddr,void 0,{trim:!0}]]),Object(s["withDirectives"])(Object(s["createVNode"])(n,{class:"is-loading",color:"#fff"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(L)]),_:1},512),[[s["vShow"],e.searchLoading]])])],512),[[s["vShow"],1==e.type]])]),_:1}),Object(s["withDirectives"])(Object(s["createElementVNode"])("div",j,[g,Object(s["createElementVNode"])("span",y,Object(s["toDisplayString"])(e.ERC20Info.symbol)+"("+Object(s["toDisplayString"])(e.ERC20Info.name||"--")+")",1)],512),[[s["vShow"],1==e.type]]),Object(s["createElementVNode"])("div",f,[Object(s["createElementVNode"])("div",k,[w,1==e.type?(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",v,Object(s["toDisplayString"])(e.utils.formatUnits(e.ERC20Info.balance,e.ERC20Info.decimals)),1)):(Object(s["openBlock"])(),Object(s["createElementBlock"])("span",x,Object(s["toDisplayString"])(e.utils.formatEther(e.ERC20Info.balance)),1))]),Object(s["createElementVNode"])("div",N,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"text",placeholder:"请输入代币数量",class:"airdrop-input text-16 MR-10","onUpdate:modelValue":t[4]||(t[4]=t=>e.price=t)},null,512),[[s["vModelText"],e.price,void 0,{trim:!0}]]),Object(s["createVNode"])(M,{class:"box-item",effect:"dark",content:"统一发放数量，为空则按照默认规则发放",placement:"top"},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(n,null,{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(_)]),_:1})]),_:1})])]),Object(s["createElementVNode"])("div",V,[Object(s["withDirectives"])(Object(s["createElementVNode"])("textarea",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.disListInfo=t),class:"airdrop-list__textarea text-white text-18",placeholder:"输入分发列表"},null,512),[[s["vModelText"],e.disListInfo,void 0,{trim:!0}]])]),T,Object(s["createElementVNode"])("div",C,[Object(s["createTextVNode"])(" 空投的代币总数: "),Object(s["createElementVNode"])("span",E,Object(s["toDisplayString"])(e.totalPrice),1)]),Object(s["createElementVNode"])("div",B,[e.isLogin?2==e.isApprove?(Object(s["openBlock"])(),Object(s["createBlock"])(D,{key:1,class:"btn btn-line color-text MR-18",loading:e.approveLoading,onClick:e.approveHandler},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("APPROVE")]),_:1},8,["loading","onClick"])):1==e.isApprove?(Object(s["openBlock"])(),Object(s["createBlock"])(D,{key:2,class:"btn",loading:e.airdropLoading,onClick:e.airdropHandler},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("AIRDROP")]),_:1},8,["loading","onClick"])):Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createBlock"])(D,{key:0,class:"btn btn-line color-text MR-18",loading:e.loginLoading,onClick:e.loginHandler},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("Connect")]),_:1},8,["loading","onClick"])),0==e.isApprove&&2==e.type?(Object(s["openBlock"])(),Object(s["createBlock"])(D,{key:3,class:"btn",loading:e.airdropLoading,onClick:e.airdropETHHandler},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])("AIRDROP")]),_:1},8,["loading","onClick"])):Object(s["createCommentVNode"])("",!0)])])])}a("0e47"),a("1b14");var _=a("8e44"),M=a("90fe"),D=a("86bf"),A=a("1630"),S=a("d17b"),I=a("b6f8"),R=a("76a2"),P=a("dcd5"),H=a("767c");window.Contract=D["a"],window.IERC20ABI=I;let U=null,W=null;var F={data(){return{utils:A["b"],typesShow:!1,type:1,isLogin:!1,isApprove:0,approveLoading:!1,loginLoading:!1,feeAmount:S["a"].from(0),tokenAddr:"",disListInfo:"",airdropLoading:!1,searchLoading:!1,price:"",ERC20Info:{name:"",symbol:"",decimals:0,balance:S["a"].from(0),allowance:S["a"].from(0)}}},computed:{disList(){let e=[];const t=[];this.disListInfo&&(e=this.disListInfo.split("\n"));for(let a=0;a<e.length;a++){const s=e[a],n=s.split(",");t.push({addr:n[0],price:this.price||n[1]})}return t},totalPrice(){let e=0;return this.disList.forEach(t=>{const a=t.price;a&&!isNaN(a)&&(e+=Number(a))}),e}},watch:{tokenAddr:Object(M["b"])((async function(){this.searchLoading=!0;try{const e=this.$wallet.initContract(this.tokenAddr,I),[t,a,s,n,i]=await Promise.all([e.name(),e.symbol(),e.decimals(),e.balanceOf(wallet.accounts[0]),e.allowance(wallet.accounts[0],U.address)]);this.ERC20Info={name:t,symbol:a,decimals:s,balance:n},this.isApprove=i.isZero()?2:1,W=e}catch(e){console.error(e),this.ERC20Info={name:"",symbol:"",decimals:0,balance:S["a"].from(0),allowance:S["a"].from(0)},this.isApprove=2,W=null}this.searchLoading=!1}),500)},created(){this.isLoginFn(),this.$wallet.on("accountChange",()=>{this.isLoginFn()})},methods:{...Object(H["b"])(["setConnectDialog"]),async isLoginFn(){this.$wallet.accounts[0]?(this.isApprove=0,this.isLogin=!0,U=window.wallet.initContract(P["product"].SWAP_HELPER,R),U.callFee().then(e=>{this.feeAmount=e})):this.isLogin=!1},getBnbBalance(){U.provider.getBalance(wallet.accounts[0]).then(e=>{this.ERC20Info={name:"BNB",balance:e}})},clickOutside(){this.typesShow=!1},toggleType(e){this.type=e,this.ERC20Info={name:"",symbol:"",decimals:0,balance:S["a"].from(0),allowance:S["a"].from(0)},2===e&&this.getBnbBalance()},loginHandler(){this.setConnectDialog(!0)},async approveHandler(){const e=this.dataVerify();if(e){this.approveLoading=!0;try{const e=await W.totalSupply(),t=await W.approve(U.address,e);await t.wait(),this.isApprove=1}catch(t){console.error(t),Object(M["a"])(t)}this.approveLoading=!1}},async airdropHandler(){this.airdropLoading=!0;try{const{address:e}=W,t=this.disList.map(e=>e.addr),a=this.disList.map(e=>A["b"].parseUnits(e.price.toString(),this.ERC20Info.decimals)),s=(a.reduce((e,t)=>e.add(t)),await U.manyTransferToken(e,t,a,{value:this.feeAmount}));await s.wait(),Object(_["a"])({type:"success",title:"Success",message:"Airdrop Success"})}catch(e){console.error(e),Object(M["a"])(e)}this.airdropLoading=!1},async airdropETHHandler(){this.airdropLoading=!0;try{const e=this.disList.map(e=>e.addr),t=this.disList.map(e=>A["b"].parseEther(e.price.toString())),a=t.reduce((e,t)=>e.add(t),this.feeAmount),s=await U.manyTransferETH(e,t,{value:a});await s.wait(),Object(_["a"])({type:"success",title:"Success",message:"Airdrop Success"})}catch(e){console.error(e),Object(M["a"])(e)}this.airdropLoading=!1},dataVerify(){if(!this.tokenAddr)return Object(_["a"])({type:"error",title:"Tips",message:"Please Enter Token Address"}),!1;if(this.disList.length<=0)return Object(_["a"])({type:"error",title:"Tips",message:"Please Enter Distribution List"}),!1;let e=!0;for(let t=0;t<this.disList.length;t++){const{addr:a,price:s}=this.disList[t];if("0x"!==a.substr(0,2)||42!==a.length||!s){Object(_["a"])({type:"error",title:"Tips",message:`The format of line ${t+1} is wrong, please check the vehicle`}),e=!1;break}}return e}}};a("6116");F.render=L,F.__scopeId="data-v-6a13b93f";t["default"]=F},"2b76":function(e,t,a){},"30ed":function(e,t){e.exports="./images/transform5dc41586b2a3ba671b8cb88580863420.png"},"445d":function(e,t,a){var s=a("0518"),n=a("6f48"),i=a("d9fa"),o=a("dcd5e"),c=TypeError,l=function(e){return function(t,a,l,r){s(a);var d=n(t),p=i(d),b=o(d),m=e?b-1:0,u=e?-1:1;if(l<2)while(1){if(m in p){r=p[m],m+=u;break}if(m+=u,e?m<0:b<=m)throw c("Reduce of empty array with no initial value")}for(;e?m>=0:b>m;m+=u)m in p&&(r=a(r,p[m],m,d));return r}};e.exports={left:l(!1),right:l(!0)}},"48ec":function(e,t,a){},5475:function(e,t,a){},6116:function(e,t,a){"use strict";a("2b76")},"76a2":function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"callFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"checkTxPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getUnlockTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"time","type":"uint256"}],"name":"lock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"count","type":"uint256"},{"internalType":"uint256","name":"slippage","type":"uint256"},{"internalType":"bool","name":"checkTax","type":"bool"},{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"manyTokensBuy","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"manyTransferETH","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"name":"manyTransferToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"receiveERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"receiveETH","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setCallFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setTxPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unlock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},8481:function(e,t,a){"use strict";a("5475")},"9d65":function(e,t,a){},b468:function(e,t,a){"use strict";a("0c0d")},bb61:function(e,t,a){"use strict";a("48ec")},c64b:function(e,t,a){"use strict";var s=a("33a9");const n={class:"flex-column-start tokens-content"},i={class:"flex-row-start align-center"},o={class:"flex-h__1 tokens-list"},c={key:0,class:"tokens-list__import flex-row-start align-center PL-30 PR-30 PB-30 PT-30"},l={class:"flex-row-start flex-1 align-center"},r={class:"tokens-list__item-icon MR-10"},d={class:"tokens-list__import-name MR-10"},p={class:"tokens-list__import-desc"},b=["onClick"],m={class:"tokens-list__item-icon MR-10"},u={class:"flex-1"},h={class:"token-list__item-title"},O={class:"token-list__item-desc"},j={class:"token-list__item-price"};function g(e,t){const a=Object(s["resolveComponent"])("el-button"),g=Object(s["resolveComponent"])("Close"),y=Object(s["resolveComponent"])("el-icon"),f=Object(s["resolveComponent"])("el-dialog"),k=Object(s["resolveDirective"])("lazy");return Object(s["openBlock"])(),Object(s["createBlock"])(f,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),title:e.$t("swap.selectToken"),width:"420px","custom-class":"tokens"},{default:Object(s["withCtx"])(()=>[Object(s["createElementVNode"])("div",n,[Object(s["createElementVNode"])("div",i,[Object(s["withDirectives"])(Object(s["createElementVNode"])("input",{type:"text",class:"tokens-input flex-1","onUpdate:modelValue":t[0]||(t[0]=t=>e.searchTxt=t),placeholder:"Search name or paste address"},null,512),[[s["vModelText"],e.searchTxt,void 0,{trim:!0}]]),Object(s["createVNode"])(a,{class:"MR-20",onClick:t[1]||(t[1]=t=>e.fastImport()),disabled:!e.searchTxt||42!=e.searchTxt.length&&!e.importTokens.name},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.t("swap.fastImport")),1)]),_:1},8,["disabled"])]),Object(s["createElementVNode"])("div",o,[e.importTokens.name?(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",c,[Object(s["createElementVNode"])("div",l,[Object(s["withDirectives"])(Object(s["createElementVNode"])("img",r,null,512),[[k,e.getLogo(e.importTokens.address)]]),Object(s["createElementVNode"])("div",d,Object(s["toDisplayString"])(e.importTokens.name),1),Object(s["createElementVNode"])("div",p,Object(s["toDisplayString"])(e.importTokens.symbol),1)]),Object(s["createVNode"])(a,{class:"tokens-list__import-btn",onClick:e.importHandler},{default:Object(s["withCtx"])(()=>[Object(s["createTextVNode"])(Object(s["toDisplayString"])(e.t("swap.import")),1)]),_:1},8,["onClick"])])):(Object(s["openBlock"])(!0),Object(s["createElementBlock"])(s["Fragment"],{key:1},Object(s["renderList"])(e.getTokens,(t,a)=>(Object(s["openBlock"])(),Object(s["createElementBlock"])("div",{class:"tokens-list__item pointer flex-row-start align-center pointer",key:t.address,onClick:a=>e.selectHandler(t)},[Object(s["withDirectives"])(Object(s["createElementVNode"])("img",m,null,512),[[k,e.getLogo(t.address)]]),Object(s["createElementVNode"])("div",u,[Object(s["createElementVNode"])("div",h,Object(s["toDisplayString"])(t.name),1),Object(s["createElementVNode"])("div",O,Object(s["toDisplayString"])(t.symbol),1)]),Object(s["createElementVNode"])("div",j,Object(s["toDisplayString"])(t.balance?e.getBit(e.utils.formatUnits(t.balance,t.decimals||18),5):""),1),t.isAdd?(Object(s["openBlock"])(),Object(s["createBlock"])(y,{key:0,size:30,color:"#fff",class:"ML-10",onClick:Object(s["withModifiers"])(t=>e.removeTokens(a),["stop"])},{default:Object(s["withCtx"])(()=>[Object(s["createVNode"])(g)]),_:2},1032,["onClick"])):Object(s["createCommentVNode"])("",!0)],8,b))),128))])])]),_:1},8,["modelValue","title"])}a("0e47");var y=a("1630"),f=a("90fe"),k=a("767c"),w={name:"Tokens",data(){return{utils:y["b"],getBit:f["c"],getLogo:f["d"],dialogVisible:!1,activeAddress:[],searchTxt:"",getTokens:[],importTokens:{},tokens:[],type:""}},computed:{...Object(k["c"])(["currentNetwork"])},async mounted(){const{outputCurrency:e,inputCurrency:t}=this.$route.query;e&&42==e.length&&(this.type="item2",await this.getCurrencyInfo(e),this.importHandler()),t&&42==t.length&&(this.type="item1",await this.getCurrencyInfo(t),this.importHandler()),this.type=""},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){let e=localStorage.getItem(this.currentNetwork.ChainID+"tokens");this.tokens=e?JSON.parse(e):this.currentNetwork.Token,this.getTokens=Object(s["toRaw"])(this.tokens),this.getBalance()}},searchTxt(e){this.searchTxtChange(e)}},methods:{searchTxtChange(e){e||(this.getTokens=Object(s["toRaw"])(this.tokens));const t=this.tokens.filter(t=>{const{name:a,address:s}=t;return!(!a.toLocaleLowerCase().includes(e.toLocaleLowerCase())&&!s.toLocaleLowerCase().includes(e.toLocaleLowerCase()))});this.importTokens={},this.getTokens=Object(s["toRaw"])(t),t.length<=0&&42===e.length&&this.getCurrencyInfo(e)},fastImport(e,t=!0){e=e||this.searchTxt;const a=this.tokens.find(t=>t.address===e);if(a)this.selectHandler(a);else{this.importTokens={name:e.slice(0,6),symbol:e.slice(0,6),address:e,isAdd:!0},this.importHandler(t);const a=window.wallet.initContract(e),s=[a.name(),a.symbol()];Promise.all(s).then(([t,a])=>{this.updateTokenInfo(e,t,a)})}},updateTokenInfo(e,t,a){const s=this.tokens.findIndex(t=>t.address===e);s>=0&&(this.tokens[s].name=t,this.tokens[s].symbol=a);const n=this.getTokens.findIndex(t=>t.address===e);n>=0&&(this.getTokens[n].name=t,this.getTokens[n].symbol=a),this.$emit("update",{address:e,name:t,symbol:a}),localStorage.setItem(this.currentNetwork.ChainID+"tokens",JSON.stringify(this.tokens))},removeTokens(e){const t=this.getTokens[e],a=this.tokens.findIndex(e=>t.address==e.address);this.tokens.splice(a,1),this.searchTxtChange(this.searchTxt),localStorage.setItem(this.currentNetwork.ChainID+"tokens",JSON.stringify(this.tokens))},async getCurrencyInfo(e){const t=window.wallet.initContract(e),a=[t.name(),t.symbol(),t.decimals()];try{await Promise.all(a).then(([t,a,s])=>{this.importTokens={name:t,symbol:a,decimals:s,address:e,isAdd:!0}})}catch(s){Object(f["a"])(s)}},async getBalance(){if(!window.wallet.accounts[0]){for(let e=0;e<this.getTokens.length;e++)this.getTokens[e].balance="";return}let e=[];for(let t=0;t<this.getTokens.length;t++){const a=this.getTokens[t];let s;if(a.address===this.currentNetwork.MainCoin.address)s=window.wallet.provider.getBalance();else{const e=window.wallet.initContract(a.address);s=e.balanceOf(window.wallet.accounts[0])}e.push(s)}Promise.allSettled(e).then(e=>{e.forEach((e,t)=>{const{status:a,value:s}=e;this.getTokens[t].balance="fulfilled"===a?s:""})})},importHandler(e=!0){const t=this.tokens.find(e=>e.address===this.importTokens.address);!t&&e&&(this.tokens.push(this.importTokens),this.searchTxt="",localStorage.setItem(this.currentNetwork.ChainID+"tokens",JSON.stringify(this.tokens))),this.selectHandler(this.importTokens)},open(e){this.activeAddress=e,this.dialogVisible=!0,this.importTokens={},this.getBalance()},selectHandler(e){this.$emit("change",e,this.type),this.dialogVisible=!1,this.importTokens={}}}};a("b468");w.render=g;t["a"]=w},ddaa:function(e,t,a){"use strict";a("9d65")},e0f8:function(e,t,a){var s=a("afe3"),n=a("49f2");e.exports="process"==s(n.process)}}]);
//# sourceMappingURL=chunk-7780a31c.704d4ef8.js.map