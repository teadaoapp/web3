(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a15eff44"],{"2cc5":function(e,t,a){},"323d":function(e,t,a){"use strict";a("d8b6")},"359a":function(e,t,a){},4296:function(e,t,a){"use strict";a("e1e9")},"4db2":function(e,t,a){"use strict";a("7aa9")},5493:function(e,t,a){"use strict";a("2cc5")},"5abd":function(e,t,a){},"5ac6":function(e,t,a){},6005:function(e,t,a){"use strict";a("5ac6")},"6c6a":function(U,e,t){"use strict";t.r(e);var C=t("33a9"),a=t("2a1b"),x=t.n(a),a=t("30ed"),E=t.n(a),a=t("4126"),_=t.n(a);const B={class:"swap flex-row-start"},T={key:0,class:"swap-left MR-20"},H={class:"flex-row-start align-center rank-lst__info"},W=["onClick"],R=["src"],I={key:1,class:"rank-lst__item--logo"},P={class:"rank-lst"},A={class:"flex-row-start align-center rank-lst__info",style:{"font-size":"0.15rem"}},F=["src"],G={class:"swap-info PB-20"},z={class:"swap-top"},$={class:"swap-info__title MB-10"},J={class:"swap-info__title-info"},q={class:"swap-item"},Q={class:"swap-item__top flex-row-between"},K={class:"flex-row-start align-center pointer"},X={class:"swap-item__top-icon MR-10"},Y={class:"swap-item__top-name text-overflow__1"},Z={key:0},ee=["disabled"],te={class:"swap-item__input-usdt"},ae={class:"swap-item"},se={class:"swap-item__top flex-row-between"},ie={class:"flex-row-start align-center pointer"},ce={class:"swap-item__top-icon MR-10"},oe={class:"swap-item__top-name text-overflow__1"},le={key:0},ne=["disabled"],re={class:"swap-item__input-usdt"},de={class:"swap-slippage PL-20 PR-20 MT-10"},me={class:"swap-slippage__select flex-row-between pointer"},be=Object(C.createElementVNode)("div",{class:"text-16"},"GWEI",-1),pe={class:"flex-row-end"},he={class:"PL-30 PR-30 MT-15"},Oe={class:"flex-row-between MB-10"},ue={class:"text-yellow"},je={class:"text-blue"},ge={class:"flex-row-between ML-30 MR-30 MT-20"},we={class:"flex-row-center"},fe={target:"_blank",href:"https://docs.teadao.app/chan-pin/jiao-huan/ru-he-jiao-yi-how-to-trade#zhuan-ye-mo-shi"},ke={class:"flex-row-start align-center MB-5 MT-20 MR-20"},Ne={class:"flex-row-start align-center rank-lst__info"},ve=["onClick"],Ve=["src"],ye={key:1,class:"rank-lst__item--logo"},Ce=["src"];t("0e47");a=t("c64b");const xe={class:"flex-row-between confirm-item"},Ee={class:"flex-row-start align-center"},_e={class:"confirm-item__icon MR-5"},Be={class:"flex-row-between confirm-item"},Te={class:"flex-row-start align-center"},Le={class:"confirm-item__icon MR-5"},Se={class:"confirm-info"},De={class:"flex-row-between MB-10"},Me={class:"flex-row-end"},Ue={class:"flex-row-between MB-10"},He={class:"flex-row-start align-center"},We=Object(C.createElementVNode)("br",null,null,-1),Re={class:"flex-row-end"};var d=t("1630"),m=t("90fe"),s={name:"swapConfirm",props:{amountOutMin:String,confirm:Function},data(){return{utils:d.b,getBit:m.c,getLogo:m.d,dialogVisible:!1,item1:{},item2:{},loading:!1}},methods:{open(e,t){this.item1=e,this.item2=t,this.dialogVisible=!0},confirmHandler(){this.loading=!0,this.confirm().finally(()=>{this.loading=!1,this.dialogVisible=!1})}}},i=(t("752b"),s.render=function(t,e){const a=Object(C.resolveComponent)("Bottom"),s=Object(C.resolveComponent)("el-icon"),i=Object(C.resolveComponent)("QuestionFilled"),c=Object(C.resolveComponent)("el-tooltip"),o=Object(C.resolveComponent)("el-button"),l=Object(C.resolveComponent)("el-dialog"),n=Object(C.resolveDirective)("lazy");return Object(C.openBlock)(),Object(C.createBlock)(l,{modelValue:t.dialogVisible,"onUpdate:modelValue":e[0]||(e[0]=e=>t.dialogVisible=e),title:t.$t("swap.confirmSwap"),width:"620px","custom-class":"confirm"},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",xe,[Object(C.createElementVNode)("div",Ee,[Object(C.withDirectives)(Object(C.createElementVNode)("img",_e,null,512),[[n,t.getLogo(t.item1.address)]]),Object(C.createTextVNode)(" "+Object(C.toDisplayString)(t.getBit(t.item1.price,9)),1)]),Object(C.createElementVNode)("div",null,Object(C.toDisplayString)(t.item1.symbol),1)]),Object(C.createVNode)(s,{color:"#fff",size:20,class:"MT-20 MB-20"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(a)]),_:1}),Object(C.createElementVNode)("div",Be,[Object(C.createElementVNode)("div",Te,[Object(C.withDirectives)(Object(C.createElementVNode)("img",Le,null,512),[[n,t.getLogo(t.item2.address)]]),Object(C.createTextVNode)(" "+Object(C.toDisplayString)(t.getBit(t.item2.price,9)),1)]),Object(C.createElementVNode)("div",null,Object(C.toDisplayString)(t.item2.symbol),1)]),Object(C.createElementVNode)("div",Se,[Object(C.createElementVNode)("div",De,[Object(C.createElementVNode)("div",null,Object(C.toDisplayString)(t.t("swap.price")),1),Object(C.createElementVNode)("div",Me,Object(C.toDisplayString)(t.getBit(t.item2.price/t.item1.price,5))+" "+Object(C.toDisplayString)(t.item2.symbol)+" / "+Object(C.toDisplayString)(t.item1.symbol),1)]),Object(C.createElementVNode)("div",Ue,[Object(C.createElementVNode)("div",He,[Object(C.createElementVNode)("div",null,Object(C.toDisplayString)(t.t("swap.minimum")),1),Object(C.createVNode)(c,{placement:"right"},{content:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(t.t("swap.tips1"))+",",1),We,Object(C.createTextVNode)(" "+Object(C.toDisplayString)(t.t("swap.tips2"))+". ",1)]),default:Object(C.withCtx)(()=>[Object(C.createVNode)(s,{class:"ML-5 pointer"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(i)]),_:1})]),_:1})]),Object(C.createElementVNode)("div",Re,Object(C.toDisplayString)(t.amountOutMin)+" "+Object(C.toDisplayString)(t.item2.symbol),1)])]),Object(C.createVNode)(o,{class:"confirm-btn MT-30",loading:t.loading,onClick:t.confirmHandler},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(t.t("swap.confirmSwap")),1)]),_:1},8,["loading","onClick"])]),_:1},8,["modelValue","title"])},t("13c1c")),c=t("5f79"),o=t("8e44"),l=t("d17b"),n=t("767c"),r=t("841c");const Ie={class:"flex-column-start tokens-content"},Pe={class:"flex-h__1 tokens-list"},Ae=["onClick"],Fe={class:"flex-1"},Ge={class:"token-list__item-title"};var b={name:"History",data(){return{utils:d.b,getBit:m.c,dialogVisible:!1,history:[]}},computed:{...Object(n.c)(["currentNetwork","currentDex"])},methods:{open(){this.dialogVisible=!0;var e=localStorage.getItem(window.wallet.accounts[0]+this.currentDex.address+"swapHistory");this.history=e?JSON.parse(e):[],this.history=this.history.reverse()},selectHandler(e){window.open("https://bscscan.com/tx/"+e.tx.hash)}}},p=(t("5493"),b.render=function(a,e){const s=Object(C.resolveComponent)("Close"),i=Object(C.resolveComponent)("el-icon"),c=Object(C.resolveComponent)("Check"),t=Object(C.resolveComponent)("el-empty"),o=Object(C.resolveComponent)("el-dialog");return Object(C.openBlock)(),Object(C.createBlock)(o,{modelValue:a.dialogVisible,"onUpdate:modelValue":e[0]||(e[0]=e=>a.dialogVisible=e),title:a.$t("swap.history"),width:"420px","custom-class":"tokens"},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",Ie,[Object(C.createElementVNode)("div",Pe,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.history,(t,e)=>(Object(C.openBlock)(),Object(C.createElementBlock)("div",{class:Object(C.normalizeClass)(["tokens-list__item pointer flex-row-start align-center pointer",{"text-red":0==t.status}]),key:e,onClick:e=>a.selectHandler(t)},[Object(C.createElementVNode)("div",Fe,[Object(C.createElementVNode)("div",Ge,"Swap "+Object(C.toDisplayString)(t.item1.price)+" "+Object(C.toDisplayString)(t.item1.symbol)+" for "+Object(C.toDisplayString)(t.item2.price)+" "+Object(C.toDisplayString)(t.item2.symbol),1)]),0==t.status?(Object(C.openBlock)(),Object(C.createBlock)(i,{key:0,size:30,color:"red",class:"ML-10"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(s)]),_:1})):(Object(C.openBlock)(),Object(C.createBlock)(i,{key:1,size:30,color:"#fff",class:"ML-10"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(c)]),_:1}))],10,Ae))),128))]),a.history.length<=0?(Object(C.openBlock)(),Object(C.createBlock)(t,{key:0,description:"Empty History"})):Object(C.createCommentVNode)("",!0)])]),_:1},8,["modelValue","title"])},t("6d13")),h=t("9035"),O=t.n(h);const u=e=>(Object(C.pushScopeId)("data-v-aef711f0"),e=e(),Object(C.popScopeId)(),e),ze={class:"swap-auto flex-row-start"},$e={class:"swap-info PB-20 MR-20"},Je={class:"swap-top"},qe=u(()=>Object(C.createElementVNode)("div",{class:"swap-info__title MB-10"},"限价交换",-1)),Qe=u(()=>Object(C.createElementVNode)("div",{class:"swap-info__title-info"},"提交限制订单以指定的条件完成交易",-1)),Ke={class:"swap-item"},Xe={class:"swap-item__top flex-row-between"},Ye={class:"flex-row-start align-center pointer"},Ze={class:"swap-item__top-icon MR-10"},et={class:"swap-item__top-name text-overflow__1"},tt={key:0},at=["disabled"],st={class:"swap-item"},it={class:"swap-item__top flex-row-between"},ct={class:"flex-row-start align-center pointer"},ot={class:"swap-item__top-icon MR-10"},lt={class:"swap-item__top-name text-overflow__1"},nt={key:0},rt={class:"swap-slippage PL-20 PR-20 MT-10"},dt={class:"swap-slippage__select flex-row-between pointer"},mt=u(()=>Object(C.createElementVNode)("div",{class:"text-16"},"GWEI",-1)),bt={class:"flex-row-end"},pt=["disabled"],ht={class:"PL-20 PR-20 MT-15"},Ot={class:"flex-row-between MB-10"},ut=u(()=>Object(C.createElementVNode)("div",{class:"text-yellow"},"滑点容差（燃烧上限比例）",-1)),jt={class:"text-blue"},gt={class:"MT-15"},wt=u(()=>Object(C.createElementVNode)("span",{class:"text-fff"},"智能检测流动性",-1)),ft={class:"flex-row-between align-center"},kt={class:"flex-row-start buy-item align-center"},Nt=u(()=>Object(C.createElementVNode)("span",null,"交换次数",-1)),vt=["disabled"],Vt={class:"flex-row-end"},yt=u(()=>Object(C.createElementVNode)("span",{class:"text-18 MR-10"},"限价模式",-1)),Ct={class:"flex-row-start align-center"},xt={class:"flex-row-start buy-item align-center"},Et=u(()=>Object(C.createElementVNode)("span",null,"池子大于",-1)),_t=["disabled"],Bt=u(()=>Object(C.createElementVNode)("span",{class:"MR-10 MT-10"},"且",-1)),Tt={class:"flex-row-start buy-item align-center"},Lt=u(()=>Object(C.createElementVNode)("span",null,"池子小于",-1)),St=["disabled"],Dt={class:"flex-row-start buy-item align-center"},Mt=u(()=>Object(C.createElementVNode)("span",null,"数量小于",-1)),Ut=["disabled"],Ht=u(()=>Object(C.createElementVNode)("span",{class:"MR-10 MT-10"},"或",-1)),Wt={class:"flex-row-start buy-item align-center"},Rt=u(()=>Object(C.createElementVNode)("span",null,"数量大于",-1)),It=["disabled"],Pt={key:0,class:"buy-tips MT-15"},At={key:1,class:"buy-tips MT-15"},Ft={class:"flex-row-center"},Gt={class:"auto"},zt={class:"auto-tab__list"},$t={class:"MR-20"},Jt={class:"flex-1 text-overflow__1"},qt={class:"account"},Qt={class:"flex-row-between MB-20"},Kt={class:"text-24 flex-row-start align-center"},Xt={href:"https://docs.teadao.app/gong-shi-jia-zhi/shen-me-shi-gu-quan",class:"MT-5",target:"_blank"},Yt={class:"flex-row-between MT-20 MB-10"},Zt={class:"text-24 flex-row-start align-center"},ea={class:"MT-5",href:"https://docs.teadao.app/chan-pin/xian-jia-jiao-huan/gao-ji-gong-neng#gong-neng-duo-zhang-hao-gou-mai",target:"_blank"},ta=u(()=>Object(C.createElementVNode)("div",{class:"buy-tips MT-15"},"账号列表格式:1行1个账号,使用钱包地址即可不需要秘钥!;",-1)),aa=u(()=>Object(C.createElementVNode)("div",{class:"buy-tips MT-15"},"多账号购买例如: 设置买入1USDT 账号有10个 那么每个账号会购买1 USDT 代币;",-1)),sa=[ta,aa],ia={class:"flex-row-between MT-15"},ca={class:"text-24 flex-row-start align-center"},oa=u(()=>Object(C.createElementVNode)("span",{class:"text-18 MR-10"},"抢链模式",-1)),la={class:"text-24 flex-row-end align-center"},na=u(()=>Object(C.createElementVNode)("span",{class:"text-18 MR-10"},"貔貅检测",-1)),ra={class:"MT-15"},da={class:"flex-row-between MT-20"},ma={class:"text-24 flex-row-start align-center"},ba=u(()=>Object(C.createElementVNode)("span",{class:"text-18 MR-10"},"极速模式",-1)),pa={class:"buy-input flex-row-between text-16 MT-20"},ha=u(()=>Object(C.createElementVNode)("span",{class:"text-999"},"gasLimit",-1)),Oa=["disabled"],ua={class:"flex-row-between MT-15"},ja=u(()=>Object(C.createElementVNode)("div",{class:"text-24"},"延迟购买（秒）",-1)),ga={class:"buy-input flex-row-end text-16"},wa=["disabled"],fa=u(()=>Object(C.createElementVNode)("div",{class:"buy-tips MT-15"},"指定延迟时间购买，0为不延迟。比如输入1，则在延迟1秒后买入。",-1)),ka=u(()=>Object(C.createElementVNode)("div",{class:"buy-tips MT-15"},"BSC链1个区块3秒，如果你期望延迟1区块以后买入，就输入3。(该功能只在普通模式下生效)",-1));t("d980");var j=t("dcd5"),g=t("76a2"),w=t("e0c3"),h=t("2f42"),Na=t.n(h),va=t("e970"),Va=t("6d3c");let f,k=[],N=[];h={data(){return{getLogo:m.d,getBit:m.c,moment:Na.a,utils:d.b,activeName:"address",gWei:5,gWeiList:[5,7,10,15,20],progress:10,fee:null,txPrice:null,priceLimitMode:!1,balanceTimer:null,accountBuy:!1,buyLoading:!1,intellectTest:!1,item1:{name:"BNB",symbol:"BNB",address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",balance:"",price:"",loading:!1},item2:{name:"BUSD",symbol:"BUSD",address:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",balance:"",price:"",loading:!1},accounts:"",isLogin:!1,buyNum:1,circulation:"",circulationLt:"",circulationGt:"",numLt:"",numGt:"",logList:[],hignTest:!1,speedMode:!1,hignRate:2e6,braveTroopsTest:!1,delayTime:"",isOpen:!1,hignTestTimer:!1}},components:{Tokens:a.a,RpcList:i.a},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){var e=this.currentNetwork["Token"],t=e[0],e=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...e},this.gWei=5*this.currentNetwork.GWEI,this.gWeiList=[5*this.currentNetwork.GWEI,7*this.currentNetwork.GWEI,10*this.currentNetwork.GWEI,15*this.currentNetwork.GWEI,20*this.currentNetwork.GWEI]}}},directives:{bit:{updated(e){e.value=e.value?Object(m.c)(e.value,5):""}}},computed:{...Object(n.c)(["currentNetwork","networkList","currentDex","hasPledge"])},beforeUnmount(){clearInterval(this.hignTestTimer),clearTimeout(this.balanceTimer),this.hignTestTimer=null,this.balanceTimer=null},mounted(){window.wallet.accounts[0]&&3==window.wallet.connectState&&(this.isLogin=!0),this.isLogin&&this.loginCallBack(),window.wallet.on("accountChange",()=>{window.wallet.accounts[0]&&3==window.wallet.connectState?this.isLogin=!0:this.isLogin=!1,this.isLogin&&this.loginCallBack()})},methods:{transformHandler(){var e=Object(C.toRaw)(this.item1);this.item1=Object(C.toRaw)(this.item2),this.item2=e},getColor(e){return-1==e?"red":1==e?"green":void 0},openRpcList(){this.$refs.rpcList.open(window.wallet.connectState)},beforeChange(){return this.isLogin?!!this.hasPledge||(w.a.confirm("需要质押$50资产，或者10个下级质押过$10资产才能使用该功能","Warning",{confirmButtonText:"质押",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$router.push({name:"stake"})}),!1):(this.$refs.account.blur(),w.a.confirm("请先用私钥连接","Warning",{confirmButtonText:"连接",cancelButtonText:"取消",type:"warning"}).then(()=>{this.loginFn()}),!1)},tokenUpdate({address:e,name:t,symbol:a}){this.item1.address==e?(this.item1.name=t,this.item1.symbol=a):this.item2.address==e&&(this.item2.name=t,this.item2.symbol=a)},async tokenChange(e){"item1"==this.type?this.item2.address==e.address&&(this.item2=Object(C.toRaw)(this.item1)):this.item1.address==e.address&&this.item1.address==e.address&&(this.item1=Object(C.toRaw)(this.item2)),e.price=e.price||"0",this[this.type]=e,this.isLogin&&this.loginCallBack()},toggleGwei(e){this.isOpen||(this.gWei=e)},startHandler(){if(clearInterval(this.hignTestTimer),this.isOpen=!this.isOpen,this.isOpen){if(!this.hignTest)if(this.priceLimitMode){if(!this.numLt&&!this.numGt)return void Object(o.a)({type:"error",title:"温馨提示",message:"请输入数量范围"})}else if(!this.circulationLt&&!this.circulationGt)return void Object(o.a)({type:"error",title:"温馨提示",message:"请输入池子范围"});!this.speedMode||this.hignRate?this.hignTest?this.hignTestTimer=setInterval(()=>{this.confirmBuy()},300):setTimeout(()=>{this.priceLimitMode||this.refreshCirculation()},this.delayTime):Object(o.a)({type:"error",title:"温馨提示",message:"极速模式下请输入Gas上限"})}},loginFn(){w.a.prompt("请输入私钥","Tip",{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then(({value:e})=>{window.wallet.connect(3,e)})},async price1Change(c){let o="item1"==c?"item2":"item1";if(this[c].price=Object(m.c)(this[c].price.replace(/[^0-9.]/g,""),5),""==this[c].price)this[c].price="";else{const i=this[c].price.toString();if("0."!==i&&!this.buyLoading){clearInterval(this.timer),this.timer=setInterval(()=>{this.price1Change(c)},1e3);const e=this.currentNetwork.TransferTokens.find(e=>e.address.toLocaleLowerCase()===this.item2.address.toLocaleLowerCase());let a="item1"==c?"getAmountsOut":"getAmountsIn",s=[];s=[window.wallet.ContractWETH[a](d.b.parseUnits(i,this[c].decimals),[this.item1.address,this.item2.address])],k=[[this.item1.address,this.item2.address]],this.intellectTest&&this.currentNetwork.TransferTokens.forEach(t=>{t.address!=this[c].address&&t.address!=this[o].address&&(k.push([this.item1.address,t.address,this.item2.address]),s.push(window.wallet.ContractWETH[a](d.b.parseUnits(i,this[c].decimals),[this.item1.address,t.address,this.item2.address])),e||this.currentNetwork.TransferTokens.forEach(e=>{t.address!=e.address&&(k.push([this.item1.address,t.address,e.address,this.item2.address]),s.push(window.wallet.ContractWETH[a](d.b.parseUnits(i,this[c].decimals),[this.item1.address,t.address,e.address,this.item2.address])))}))}),Promise.allSettled(s).then(e=>{let s,i="";e.forEach((e,t)=>{var{status:e,value:a}=e;if("fulfilled"==e){const e="item1"==c?a[a.length-1]:a[0];i&&!e.gt(i)||(i=e,s=t)}}),i&&this[c].price&&"0"!=this[c].price&&(this[o].price=d.b.formatUnits(i,this[o].decimals),N=k[s],this.priceLimitMode&&this.isOpen)&&(this.logList.unshift({type:0,date:new Date,message:`检测可获得数量: ${this[o].price} `+this[o].symbol}),this.numLt&&this[o].price<=this.numLt||this.numGt&&this[o].price>=this.numGt?this.confirmBuy():this.logList.unshift({type:-1,date:new Date,message:"可获得数量不满足需求，稍后重试"}))})}}},async loginCallBack(e=!0){if(clearTimeout(this.balanceTimer),this.isLogin&&(this.item1.loading=e,this.item2.loading=e,this.getItemBalance(this.item1.address,"item1").then(({balance:e,decimals:t})=>{this.item1.balance=e,this.item1.decimals=t,this.item1.loading=!1}),this.getItemBalance(this.item2.address,"item2").then(({balance:e,decimals:t})=>{this.item2.balance=e,this.item2.decimals=t,this.item2.loading=!1}),this.balanceTimer=setTimeout(()=>{this.loginCallBack(!1)},3e3),!f)){f=window.wallet.initContract(j.product.SWAP_HELPER,g);const[e,t]=await Promise.all([f.callFee(),f.checkTxPrice()]);this.fee=e,this.txPrice=t,window._contract=f}},async confirmBuy(){if(this.hignTest||!this.buyLoading&&this.isOpen){this.logList.unshift({type:0,date:new Date,message:"满足条件，开始购买"});let t=window.wallet.accounts;if(this.accounts&&this.accountBuy){const s=this.accounts.split("\n");t=s}const s=d.b.parseUnits(this.item1.price.toString(),this.item1.decimals),e=this.item1.price*this.buyNum*t.length;let a=d.b.parseUnits("0",18);a=a.add(this.fee),this.braveTroopsTest&&(a=a.add(this.txPrice)),this.item1.address===this.currentNetwork.MainCoin.address&&(a=a.add(d.b.parseUnits(e.toString(),this.item1.decimals))),this.buyLoading=!0;try{let e;e=this.speedMode?this.hignRate:(e=await f.estimateGas.manyTokensBuy(s,this.buyNum,this.progress,this.braveTroopsTest,t,N,{value:a,gasPrice:d.b.parseUnits(this.gWei.toString(),9)})).mul(135).div(100),await(await f.manyTokensBuy(s,this.buyNum,this.progress,this.braveTroopsTest,t,N,{value:a,gasPrice:d.b.parseUnits(this.gWei.toString(),9),gasLimit:e})).wait(),this.logList.unshift({type:1,date:new Date,message:`Swap ${this.item1.price} ${this.item1.symbol} for ${this.item2.price} `+this.item2.symbol}),this.isOpen=!1,clearInterval(this.hignTestTimer)}catch(e){this.logList.unshift({type:-1,date:new Date,message:e.reason})}this.buyLoading=!1,this.refreshCirculation()}},async getItemBalance(e,t){let a;if(e){var s=window.wallet.initContract(e),i=await s.decimals();if(e==this.currentNetwork.MainCoin.address)a=await window.wallet.provider.getBalance();else{if("item1"==t)try{const e=await s.allowance(window.wallet.accounts[0],j.product.SWAP_HELPER),t=Math.floor(Number(d.b.formatUnits(e,i)));t<=0&&(this.hasApprove=!1,await this.approveHandler(),this.hasApprove=!0)}catch(e){Object(m.a)(e)}a=await s.balanceOf(window.wallet.accounts[0])}return{balance:a,decimals:i}}},async approveHandler(){try{await(await window.wallet.initContract(this.item1.address).approve(j.product.SWAP_HELPER,l.a.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0),{gasPrice:d.b.parseUnits("10",9)})).wait(),this.hasApprove=!0}catch(e){Object(m.a)(e)}},maxHandler(){var e;this.isOpen||(e=Object(C.toRaw)(this.item1.balance),this.item1.price=d.b.formatUnits(e,this.item1.decimals),this.price1Change("item1"))},openTokensDialog(e){this.isOpen||(this.type=e,this.$refs.tokens.open([this.item1.address,this.item2.address]))},copyHandler(e){this.$emit("copy",e)},async getPondData(e,a){var s=window.wallet.initContract("0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73",Va.default);if(!(N.length<=0)){var s=await s.getPair(N[N.length-2],N[N.length-1]),s=window.wallet.initContract(s,va.default),i=await s.token0(),c=await s.token1(),o=await s.getReserves(),s=await s.decimals();let e,t;return i.toLocaleLowerCase()===a.toLocaleLowerCase()?(t=o._reserve1,e=c):c.toLocaleLowerCase()===a.toLocaleLowerCase()&&(t=o._reserve0,e=i),{token:e,circulation:t,decimals:s}}},async refreshCirculation(){if(this.isOpen&&!this.buyLoading&&!this.hignTest&&!this.priceLimitMode)try{var{token:e,decimals:t,circulation:a}=await this.getPondData(this.item1.address,this.item2.address),s=await window.wallet.initContract(e).symbol();if(this.circulation=a,this.logList.unshift({type:0,date:new Date,message:`检测流动性: ${Object(m.c)(d.b.formatUnits(this.circulation.toString(),t))} `+s}),this.circulationLt){var i=d.b.parseUnits(this.circulationLt.toString(),t);if(!this.circulation.lte(i))return this.logList.unshift({type:-1,date:new Date,message:"资金池流通量不满足需求，稍后重试"}),void this.refreshCirculation()}if(this.circulationGt){var c=d.b.parseUnits(this.circulationGt.toString(),t);if(!this.circulation.gte(c))return this.logList.unshift({type:-1,date:new Date,message:"资金池流通量不满足需求，稍后重试"}),void this.refreshCirculation()}this.confirmBuy()}catch(e){this.logList.unshift({type:-1,date:new Date,message:"资金池流通量不满足需求，稍后重试"}),this.refreshCirculation()}}}},t("4296"),t("4db2"),h.render=function(a,e){const t=Object(C.resolveComponent)("ArrowDown"),s=Object(C.resolveComponent)("el-icon"),i=Object(C.resolveComponent)("CopyDocument"),c=Object(C.resolveComponent)("Loading"),o=Object(C.resolveComponent)("el-tag"),l=Object(C.resolveComponent)("el-slider"),n=Object(C.resolveComponent)("el-checkbox"),r=Object(C.resolveComponent)("el-switch"),d=Object(C.resolveComponent)("el-button"),m=Object(C.resolveComponent)("Clock"),b=Object(C.resolveComponent)("Warning"),p=Object(C.resolveComponent)("el-tab-pane"),h=Object(C.resolveComponent)("QuestionFilled"),O=Object(C.resolveComponent)("el-input"),u=Object(C.resolveComponent)("el-tabs"),j=Object(C.resolveComponent)("Tokens"),g=Object(C.resolveComponent)("RpcList"),w=Object(C.resolveDirective)("lazy"),f=Object(C.resolveDirective)("bit");return Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,null,[Object(C.createElementVNode)("div",ze,[Object(C.createElementVNode)("div",$e,[Object(C.createElementVNode)("div",Je,[qe,Qe,Object(C.createElementVNode)("img",{src:x.a,class:"swap-top__icon auto-rpc pointer",onClick:e[0]||(e[0]=(...e)=>a.openRpcList&&a.openRpcList(...e))})]),Object(C.createElementVNode)("div",Ke,[Object(C.createElementVNode)("div",Xe,[Object(C.createElementVNode)("div",Ye,[Object(C.createElementVNode)("div",{class:"flex-row-start align-center",onClick:e[1]||(e[1]=e=>a.openTokensDialog("item1"))},[Object(C.withDirectives)(Object(C.createElementVNode)("img",Ze,null,512),[[w,a.getLogo(a.item1.address)]]),Object(C.createElementVNode)("div",et,Object(C.toDisplayString)(a.item1.symbol),1),Object(C.createVNode)(s,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(t)]),_:1})]),Object(C.createVNode)(s,{class:"ML-5",onClick:e[2]||(e[2]=e=>a.copyHandler(a.item1.address))},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(i)]),_:1})]),a.isLogin?(Object(C.openBlock)(),Object(C.createElementBlock)("div",tt,[a.item1.loading?(Object(C.openBlock)(),Object(C.createBlock)(s,{key:0,class:"is-loading"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(c)]),_:1})):a.item1.balance?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:1},[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.balance"))+"："+Object(C.toDisplayString)(a.getBit(a.utils.formatUnits(a.item1.balance,a.item1.decimals),5)),1)],64)):Object(C.createCommentVNode)("",!0)])):Object(C.createCommentVNode)("",!0)]),Object(C.createElementVNode)("div",{class:Object(C.normalizeClass)(["swap-item__input MT-10 flex-row-start align-center",{"is-disabled":!a.isLogin}])},[Object(C.withDirectives)(Object(C.createElementVNode)("input",{disabled:!a.isLogin||a.isOpen,class:"text-right flex-1","onUpdate:modelValue":e[3]||(e[3]=e=>a.item1.price=e),onInput:e[4]||(e[4]=e=>a.price1Change("item1")),placeholder:"0.00"},null,40,at),[[f],[C.vModelText,a.item1.price]]),a.isLogin?(Object(C.openBlock)(),Object(C.createBlock)(o,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:a.maxHandler,type:"warning",size:"small"},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)("MAX")]),_:1},8,["onClick"])):Object(C.createCommentVNode)("",!0)],2)]),Object(C.createElementVNode)("img",{src:E.a,class:"swap-transform pointer",onClick:e[5]||(e[5]=(...e)=>a.transformHandler&&a.transformHandler(...e))}),Object(C.createElementVNode)("div",st,[Object(C.createElementVNode)("div",it,[Object(C.createElementVNode)("div",ct,[Object(C.createElementVNode)("div",{class:"flex-row-start align-center",onClick:e[6]||(e[6]=e=>a.openTokensDialog("item2"))},[Object(C.withDirectives)(Object(C.createElementVNode)("img",ot,null,512),[[w,a.getLogo(a.item2.address)]]),Object(C.createElementVNode)("div",lt,Object(C.toDisplayString)(a.item2.symbol),1),Object(C.createVNode)(s,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(t)]),_:1})]),Object(C.createVNode)(s,{class:"ML-5",onClick:e[7]||(e[7]=e=>a.copyHandler(a.item2.address))},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(i)]),_:1})]),a.isLogin?(Object(C.openBlock)(),Object(C.createElementBlock)("div",nt,[a.item2.loading?(Object(C.openBlock)(),Object(C.createBlock)(s,{key:0,class:"is-loading"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(c)]),_:1})):a.item2.balance?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:1},[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.balance"))+"："+Object(C.toDisplayString)(a.getBit(a.utils.formatUnits(a.item2.balance,a.item2.decimals),5)),1)],64)):Object(C.createCommentVNode)("",!0)])):Object(C.createCommentVNode)("",!0)])]),Object(C.createElementVNode)("div",rt,[Object(C.createElementVNode)("div",dt,[mt,Object(C.createElementVNode)("div",bt,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.gWeiList,t=>(Object(C.openBlock)(),Object(C.createBlock)(o,{class:"swap-slippage__select-tag",type:"warning",effect:a.gWei==t?"dark":"light",onClick:e=>a.toggleGwei(t),key:t},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(t),1)]),_:2},1032,["effect","onClick"]))),128)),Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"number",class:"swap-slippage__select-input",disabled:a.isOpen,placeholder:"5","onUpdate:modelValue":e[8]||(e[8]=e=>a.gWei=e)},null,8,pt),[[C.vModelText,a.gWei,void 0,{number:!0}]])])])]),Object(C.createElementVNode)("div",ht,[Object(C.createElementVNode)("div",Ot,[ut,Object(C.createElementVNode)("div",jt,Object(C.toDisplayString)(a.progress)+"%",1)]),Object(C.createElementVNode)("div",null,[Object(C.createVNode)(l,{modelValue:a.progress,"onUpdate:modelValue":e[9]||(e[9]=e=>a.progress=e),disabled:a.isOpen,min:1,max:99},null,8,["modelValue","disabled"])]),Object(C.createElementVNode)("div",gt,[Object(C.createVNode)(n,{modelValue:a.intellectTest,"onUpdate:modelValue":e[10]||(e[10]=e=>a.intellectTest=e)},{default:Object(C.withCtx)(()=>[wt]),_:1},8,["modelValue"])]),Object(C.createElementVNode)("div",ft,[Object(C.createElementVNode)("div",kt,[Nt,Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"text",disabled:a.isOpen,"onUpdate:modelValue":e[11]||(e[11]=e=>a.buyNum=e),placeholder:"0.00",class:"buy-item__input flex-1"},null,8,vt),[[C.vModelText,a.buyNum]])]),Object(C.createElementVNode)("div",Vt,[yt,Object(C.createVNode)(r,{modelValue:a.priceLimitMode,"onUpdate:modelValue":e[12]||(e[12]=e=>a.priceLimitMode=e),disabled:a.isOpen},null,8,["modelValue","disabled"])])]),Object(C.createElementVNode)("div",Ct,[a.priceLimitMode?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:1},[Object(C.createElementVNode)("div",Dt,[Mt,Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"text",disabled:a.isOpen,placeholder:"0.00",class:"buy-item__input flex-1","onUpdate:modelValue":e[15]||(e[15]=e=>a.numLt=e)},null,8,Ut),[[C.vModelText,a.numLt]])]),Ht,Object(C.createElementVNode)("div",Wt,[Rt,Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"text",disabled:a.isOpen,placeholder:"0.00",class:"buy-item__input flex-1","onUpdate:modelValue":e[16]||(e[16]=e=>a.numGt=e)},null,8,It),[[C.vModelText,a.numGt]])])],64)):(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:0},[Object(C.createElementVNode)("div",xt,[Et,Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"text",disabled:a.isOpen,placeholder:"0.00",class:"buy-item__input flex-1","onUpdate:modelValue":e[13]||(e[13]=e=>a.circulationGt=e)},null,8,_t),[[C.vModelText,a.circulationGt]])]),Bt,Object(C.createElementVNode)("div",Tt,[Lt,Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"text",disabled:a.isOpen,placeholder:"0.00",class:"buy-item__input flex-1","onUpdate:modelValue":e[14]||(e[14]=e=>a.circulationLt=e)},null,8,St),[[C.vModelText,a.circulationLt]])])],64))]),a.priceLimitMode?(Object(C.openBlock)(),Object(C.createElementBlock)("div",At,"例如BNB兑换USDT，设置价值大于280，当USDT数量大于或等于280时将触发此事件")):(Object(C.openBlock)(),Object(C.createElementBlock)("div",Pt,"池子是指的代币中的流动性,例如 TeaDAO/BNB 一般是指BNB"))]),a.isLogin?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:1},[a.item1.price?(Object(C.openBlock)(),Object(C.createBlock)(d,{key:1,class:"swap-btn MT-15",onClick:a.startHandler},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",Ft,[a.isOpen?(Object(C.openBlock)(),Object(C.createBlock)(s,{key:0,class:"is-loading MR-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(c)]),_:1})):Object(C.createCommentVNode)("",!0),Object(C.createElementVNode)("span",null,Object(C.toDisplayString)(a.isOpen?"停止":"开始"),1)])]),_:1},8,["onClick"])):(Object(C.openBlock)(),Object(C.createBlock)(d,{key:0,disabled:"",class:"swap-btn MT-15"},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.enterAmount")),1)]),_:1}))],64)):(Object(C.openBlock)(),Object(C.createBlock)(d,{key:0,class:"swap-btn MT-15",onClick:a.loginFn},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.connectWallet")),1)]),_:1},8,["onClick"]))]),Object(C.createElementVNode)("div",Gt,[Object(C.createVNode)(u,{modelValue:a.activeName,"onUpdate:modelValue":e[19]||(e[19]=e=>a.activeName=e),class:"swap-tabs auto-tabs"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(p,{label:"控制面板",name:"address"},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",zt,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.logList,(e,t)=>(Object(C.openBlock)(),Object(C.createElementBlock)("div",{class:"auto-list__item flex-row-start align-center",key:t},[Object(C.createVNode)(s,{class:"MR-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(m)]),_:1}),Object(C.createElementVNode)("div",$t,Object(C.toDisplayString)(a.moment(e.date).format("HH:mm:ss")),1),Object(C.createVNode)(s,{class:"MR-10"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(b,{color:a.getColor(e.type)},null,8,["color"])]),_:2},1024),Object(C.createElementVNode)("div",Jt,Object(C.toDisplayString)(e.message),1)]))),128))])]),_:1}),Object(C.createVNode)(p,{label:"高级功能",name:"account"},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",qt,[Object(C.createElementVNode)("div",Qt,[Object(C.createElementVNode)("div",Kt,[Object(C.createTextVNode)(" 友情提示[高级功能]（股权≥50 || 10个下级股权≥ 10） "),Object(C.createElementVNode)("a",Xt,[Object(C.createVNode)(s,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(h)]),_:1})])])]),Object(C.createElementVNode)("div",Yt,[Object(C.createElementVNode)("div",Zt,[Object(C.createTextVNode)(" 多账号购买 "),Object(C.createElementVNode)("a",ea,[Object(C.createVNode)(s,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(h)]),_:1})])]),Object(C.createVNode)(r,{modelValue:a.accountBuy,"onUpdate:modelValue":e[17]||(e[17]=e=>a.accountBuy=e),disabled:a.isOpen,size:"large","before-change":a.beforeChange},null,8,["modelValue","disabled","before-change"])]),Object(C.withDirectives)(Object(C.createVNode)(O,{type:"textarea",ref:"account",disabled:a.isOpen,modelValue:a.accounts,"onUpdate:modelValue":e[18]||(e[18]=e=>a.accounts=e),resize:"none",class:"auto-tab__account"},null,8,["disabled","modelValue"]),[[C.vShow,a.accountBuy]])])]),_:1})]),_:1},8,["modelValue"]),Object(C.withDirectives)(Object(C.createElementVNode)("div",null,sa,512),[[C.vShow,"account"===a.activeName]]),Object(C.withDirectives)(Object(C.createElementVNode)("div",null,[Object(C.createElementVNode)("div",ia,[Object(C.createElementVNode)("div",ca,[oa,Object(C.createVNode)(r,{modelValue:a.hignTest,"onUpdate:modelValue":e[20]||(e[20]=e=>a.hignTest=e),disabled:a.isOpen,size:"large"},null,8,["modelValue","disabled"])]),Object(C.createElementVNode)("div",la,[na,Object(C.createVNode)(r,{disabled:a.isOpen,modelValue:a.braveTroopsTest,"onUpdate:modelValue":e[21]||(e[21]=e=>a.braveTroopsTest=e),size:"large"},null,8,["disabled","modelValue"])])]),Object(C.createElementVNode)("div",ra,[Object(C.createElementVNode)("div",da,[Object(C.createElementVNode)("div",ma,[ba,Object(C.createVNode)(r,{modelValue:a.speedMode,"onUpdate:modelValue":e[22]||(e[22]=e=>a.speedMode=e),disabled:a.isOpen,size:"large"},null,8,["modelValue","disabled"])])]),Object(C.createElementVNode)("div",pa,[ha,Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"text",disabled:a.isOpen,"onUpdate:modelValue":e[23]||(e[23]=e=>a.hignRate=e),class:"buy-input__info text-right",placeholder:"0"},null,8,Oa),[[C.vModelText,a.hignRate]])])]),Object(C.createElementVNode)("div",ua,[ja,Object(C.createElementVNode)("div",ga,[Object(C.createElementVNode)("input",{type:"text",disabled:a.isOpen,class:"buy-input__info text-right",placeholder:"0"},null,8,wa)])]),fa,ka],512),[[C.vShow,"address"===a.activeName]])])]),Object(C.createVNode)(j,{ref:"tokens",onChange:a.tokenChange,onUpdate:a.tokenUpdate},null,8,["onChange","onUpdate"]),Object(C.createVNode)(g,{ref:"rpcList"},null,512)],64)},h.__scopeId="data-v-aef711f0";const v=e=>(Object(C.pushScopeId)("data-v-da4f8920"),e=e(),Object(C.popScopeId)(),e),ya={class:"flex-row-center flex-1 flex-start wrapper"},Ca={class:"swap-info PB-20 imputation"},xa={class:"swap-item"},Ea={class:"swap-item__top flex-row-between"},_a={class:"flex-row-start align-center pointer"},Ba={class:"swap-item__top-icon MR-10"},Ta={class:"swap-item__top-name text-overflow__1"},La={class:"swap-item"},Sa={class:"swap-item__top flex-row-between"},Da={class:"flex-row-start align-center pointer"},Ma={class:"swap-item__top-icon MR-10"},Ua={class:"swap-item__top-name text-overflow__1"},Ha={key:0,class:"flex-1 wrapper-box__back flex-column-start"},Wa={class:"flex-h__1"},Ra={class:"imputation-table"},Ia=v(()=>Object(C.createElementVNode)("th",null,"转换币",-1)),Pa=v(()=>Object(C.createElementVNode)("th",null,"被转换币",-1)),Aa=v(()=>Object(C.createElementVNode)("th",null,"转换账号",-1)),Fa=v(()=>Object(C.createElementVNode)("th",null,"执行结果",-1)),Ga={class:"swap-slippage MT-20"},za={class:"swap-slippage__select flex-row-between pointer"},$a=v(()=>Object(C.createElementVNode)("div",{class:"text-18"},"貔貅检测",-1)),Ja={class:"flex-row-end"},qa={class:"swap-slippage MT-20"},Qa={class:"swap-slippage__select flex-row-between pointer"},Ka=v(()=>Object(C.createElementVNode)("div",{class:"text-18"},"转换模式",-1)),Xa={class:"flex-row-end"},Ya={class:"swap-slippage MT-20 MB-20"},Za={class:"swap-slippage__select flex-row-between pointer"},es=v(()=>Object(C.createElementVNode)("div",{class:"text-18"},"GWEI",-1)),ts={class:"flex-row-end"},as={class:"flex-row-between"},ss={class:"text-blue"},is={key:0,class:"MT-10"},cs={class:"flex-row-between"},os=v(()=>Object(C.createElementVNode)("div",null,"转换比例",-1)),ls={class:"text-blue"},ns={key:1,class:"flex-row-start align-center MB-10 MT-10"},rs=v(()=>Object(C.createElementVNode)("div",{class:"text-18 MR-30"},"转换数量",-1)),ds={class:"swap-item__input flex-1 flex-row-start align-center"},ms={class:"flex-row-start align-center"};var bs=t("b6f8");const V=p.a.global["t"];var y={data(){return{t:V,utils:d.b,getLogo:m.d,getBit:m.c,progress:10,loading:!1,searchLoading:!1,transformMode:!1,braveTroopsTest:!1,transformRate:10,isBack:!1,gWei:5,gWeiList:[5,7,10,15,20],type:"",price:"",fee:"",txPrice:"",sendAddress:"",tableList:[],item1:{name:"BNB",symbol:"BNB",address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",balance:"",price:"",loading:!1},item2:{name:"BUSD",symbol:"BUSD",address:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",balance:"",price:"",loading:!1}}},components:{Tokens:a.a},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){var e=this.currentNetwork["Token"],t=e[0],e=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...e},this.gWei=5*this.currentNetwork.GWEI,this.gWeiList=[5*this.currentNetwork.GWEI,7*this.currentNetwork.GWEI,10*this.currentNetwork.GWEI,15*this.currentNetwork.GWEI,20*this.currentNetwork.GWEI]}}},directives:{bit:{updated(e){e.value=e.value?Object(m.c)(e.value,5):""}}},computed:{...Object(n.c)(["currentNetwork","networkList","currentDex"]),hasLoading(){return!!this.tableList.find(e=>e.loading)}},methods:{...Object(n.b)(["setCurrentDex","setConnectDialog"]),async searchHandler(){this.searchLoading=!0;var c=this.sendAddress.split("\n");let o;const l=[],n=[];for(let i=0;i<c.length;i++){const r=c[i];let e,t,a,s;try{e=window.wallet.getPrivateKeyProvider(r),s=window.wallet.initContract(this.item1.address,bs,e),o=o||await s.decimals(),this.item1.address==this.currentNetwork.MainCoin.address?n.push(e.getBalance()):n.push(s.balanceOf(e.address))}catch(e){t=-1,a=e.data?e.data.message||e.message:e.reason||e.message}l.push({provider:e,balance:0,status:t,message:a,contract:s,decimals:o,loading:!1})}const r=await Promise.allSettled(n);r.forEach((e,t)=>{"fulfilled"===e.status?(l[t].balance=Object(m.c)(d.b.formatUnits(e.value.toString(),o),6),l[t].status=0):(l[t].balance="",l[t].status=-1,l[t].message="余额查询失败")}),this.tableList=l,this.searchLoading=!1,this.isBack=!0},async getPath(a){const e=this.currentNetwork.TransferTokens.find(e=>e.address.toLocaleLowerCase()===this.item2.address.toLocaleLowerCase());let s=[],i=(s=[window.wallet.ContractWETH.getAmountsOut(d.b.parseUnits("1",a),[this.item1.address,this.item2.address])],[[this.item1.address,this.item2.address]]);this.intellectTest&&this.currentNetwork.TransferTokens.forEach(t=>{t.address!=this.item1.address&&t.address!=this.item2.address&&(i.push([this.item1.address,t.address,this.item2.address]),s.push(window.wallet.ContractWETH.getAmountsOut(d.b.parseUnits("1",a),[this.item1.address,t.address,this.item2.address])),e||this.currentNetwork.TransferTokens.forEach(e=>{t.address!=e.address&&(i.push([this.item1.address,t.address,e.address,this.item2.address]),s.push(window.wallet.ContractWETH.getAmountsOut(d.b.parseUnits("1",a),[this.item1.address,t.address,e.address,this.item2.address])))}))});var t=await Promise.allSettled(s);let c,o="";return t.forEach((e,t)=>{var{status:e,value:a}=e;if("fulfilled"==e){const e=a[a.length-1];o&&!e.gt(o)||(o=e,c=t)}}),i[c]},getPrice(e,t){if(this.transformMode)return d.b.parseUnits(this.price.toString(),e);t=d.b.parseUnits(t.toString(),e);var a=d.b.parseUnits(this.transformRate.toString(),e),e=d.b.parseUnits("100",e);return t.mul(a).div(e)},async swapHandler(){let s,e,i;for(let a=0;a<this.tableList.length;a++){this.tableList[a].loading=!0;const c=Object(C.toRaw)(this.tableList[a]),o=window.wallet.initContract(j.product.SWAP_HELPER,g,c.provider);if(!e){const[s,C]=await Promise.all([o.callFee(),o.checkTxPrice()]);e=s,i=C}s=s||await this.getPath(c.decimals);const l=this.getPrice(c.decimals,c.balance);let t=d.b.parseUnits("0",18);t=t.add(e),this.braveTroopsTest&&(t=t.add(i)),this.item1.address===this.currentNetwork.MainCoin.address&&(t=t.add(l));try{o.estimateGas.manyTokensBuy(l,1,this.progress,this.braveTroopsTest,[c.provider.address],s,{value:t,gasPrice:d.b.parseUnits(this.gWei.toString(),9)}).then(e=>{o.manyTokensBuy(l,1,this.progress,this.braveTroopsTest,[c.provider.address],s,{value:t,gasPrice:d.b.parseUnits(this.gWei.toString(),9),gasLimit:e.mul(135).div(100)}).then(e=>{e.wait().then(()=>{this.tableList[a].status=1,this.tableList[a].loading=!1,this.tableList[a].message="转换成功"}).catch(e=>{this.tableList[a].status=-1,this.tableList[a].loading=!1,this.tableList[a].message=e.data?e.data.message||e.message:e.reason||e.message})}).catch(e=>{this.tableList[a].status=-1,this.tableList[a].loading=!1,this.tableList[a].message=e.data?e.data.message||e.message:e.reason||e.message})}).catch(e=>{this.tableList[a].status=-1,this.tableList[a].loading=!1,this.tableList[a].message=e.data?e.data.message||e.message:e.reason||e.message})}catch(e){this.tableList[a].status=-1,this.tableList[a].loading=!1,this.tableList[a].message=e.data?e.data.message||e.message:e.reason||e.message}}},showAddress(e){return"0x..."+e.slice(-4)},tokenUpdate({name:e,symbol:t}){this.item1.name=e,this.item1.symbol=t},async tokenChange(e){this.item1=e},copyHandler(e){Object(c.a)(e),Object(o.a)({type:V("swap.success"),title:V("swap.success"),message:V("swap.copySuccess")})},toggleGwei(e){this.gWei=e},openTokensDialog(e){this.type=e,this.$refs.tokens.open()},transformHandler(){var e=Object(C.toRaw)(this.item1);this.item1=Object(C.toRaw)(this.item2),this.item2=e}}};t("6005"),t("323d"),y.render=function(a,e){const t=Object(C.resolveComponent)("ArrowDown"),s=Object(C.resolveComponent)("el-icon"),i=Object(C.resolveComponent)("CopyDocument"),c=Object(C.resolveComponent)("el-button"),o=Object(C.resolveComponent)("Loading"),l=Object(C.resolveComponent)("el-switch"),n=Object(C.resolveComponent)("el-tag"),r=Object(C.resolveComponent)("el-slider"),d=Object(C.resolveComponent)("Back"),m=Object(C.resolveComponent)("Tokens"),b=Object(C.resolveDirective)("lazy");return Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,null,[Object(C.createElementVNode)("div",ya,[Object(C.createElementVNode)("div",{class:Object(C.normalizeClass)(["wrapper-box",{back:a.isBack}])},[Object(C.createElementVNode)("div",Ca,[Object(C.createElementVNode)("div",xa,[Object(C.createElementVNode)("div",Ea,[Object(C.createElementVNode)("div",_a,[Object(C.createElementVNode)("div",{class:"flex-row-start align-center",onClick:e[0]||(e[0]=e=>a.openTokensDialog("item1"))},[Object(C.withDirectives)(Object(C.createElementVNode)("img",Ba,null,512),[[b,a.getLogo(a.item1.address)]]),Object(C.createElementVNode)("div",Ta,Object(C.toDisplayString)(a.item1.symbol),1),Object(C.createVNode)(s,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(t)]),_:1})]),Object(C.createVNode)(s,{class:"ML-5",onClick:e[1]||(e[1]=e=>a.copyHandler(a.item1.address))},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(i)]),_:1})])])]),Object(C.createElementVNode)("img",{src:E.a,class:"swap-transform pointer",onClick:e[2]||(e[2]=(...e)=>a.transformHandler&&a.transformHandler(...e))}),Object(C.createElementVNode)("div",La,[Object(C.createElementVNode)("div",Sa,[Object(C.createElementVNode)("div",Da,[Object(C.createElementVNode)("div",{class:"flex-row-start align-center",onClick:e[3]||(e[3]=e=>a.openTokensDialog("item2"))},[Object(C.withDirectives)(Object(C.createElementVNode)("img",Ma,null,512),[[b,a.getLogo(a.item2.address)]]),Object(C.createElementVNode)("div",Ua,Object(C.toDisplayString)(a.item2.symbol),1),Object(C.createVNode)(s,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(t)]),_:1})]),Object(C.createVNode)(s,{class:"ML-5",onClick:e[4]||(e[4]=e=>a.copyHandler(a.item2.address))},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(i)]),_:1})])])]),Object(C.withDirectives)(Object(C.createElementVNode)("textarea",{class:"imputation-textarea","onUpdate:modelValue":e[5]||(e[5]=e=>a.sendAddress=e),placeholder:"请输入需要交换的私钥，一行一个"},null,512),[[C.vModelText,a.sendAddress]]),Object(C.createVNode)(c,{class:"swap-btn MT-10",disabled:!a.sendAddress,loading:a.searchLoading,onClick:a.searchHandler},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)("查询")]),_:1},8,["disabled","loading","onClick"])]),a.isBack?(Object(C.openBlock)(),Object(C.createElementBlock)("div",Ha,[Object(C.createElementVNode)("div",Wa,[Object(C.createElementVNode)("table",Ra,[Object(C.createElementVNode)("thead",null,[Object(C.createElementVNode)("tr",null,[Ia,Pa,Aa,Object(C.createElementVNode)("th",null,Object(C.toDisplayString)(a.item1.symbol)+"余额",1),Fa])]),Object(C.createElementVNode)("tbody",null,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.tableList,(e,t)=>(Object(C.openBlock)(),Object(C.createElementBlock)("tr",{key:t},[Object(C.createElementVNode)("td",null,Object(C.toDisplayString)(a.item1.symbol),1),Object(C.createElementVNode)("td",null,Object(C.toDisplayString)(a.item2.symbol),1),Object(C.createElementVNode)("td",null,Object(C.toDisplayString)(e.provider?a.showAddress(e.provider.address):"--"),1),Object(C.createElementVNode)("td",null,Object(C.toDisplayString)(e.balance||"--"),1),Object(C.createElementVNode)("td",null,[e.loading?(Object(C.openBlock)(),Object(C.createBlock)(s,{key:0,class:"is-loading"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(o)]),_:1})):(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:1},[Object(C.createTextVNode)(Object(C.toDisplayString)(e.message),1)],64))])]))),128))])])]),Object(C.createElementVNode)("div",Ga,[Object(C.createElementVNode)("div",za,[$a,Object(C.createElementVNode)("div",Ja,[Object(C.createVNode)(l,{modelValue:a.braveTroopsTest,"onUpdate:modelValue":e[6]||(e[6]=e=>a.braveTroopsTest=e),size:"large",class:"swap-switch"},null,8,["modelValue"])])])]),Object(C.createElementVNode)("div",qa,[Object(C.createElementVNode)("div",Qa,[Ka,Object(C.createElementVNode)("div",Xa,[Object(C.createVNode)(l,{modelValue:a.transformMode,"onUpdate:modelValue":e[7]||(e[7]=e=>a.transformMode=e),size:"large",class:"swap-switch","active-text":"数量模式","inactive-text":"比例模式"},null,8,["modelValue"])])])]),Object(C.createElementVNode)("div",Ya,[Object(C.createElementVNode)("div",Za,[es,Object(C.createElementVNode)("div",ts,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.gWeiList,t=>(Object(C.openBlock)(),Object(C.createBlock)(n,{class:"swap-slippage__select-tag",type:"warning",effect:a.gWei==t?"dark":"light",onClick:e=>a.toggleGwei(t),key:t},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(t),1)]),_:2},1032,["effect","onClick"]))),128)),Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"number",class:"swap-slippage__select-input",placeholder:"5","onUpdate:modelValue":e[8]||(e[8]=e=>a.gWei=e)},null,512),[[C.vModelText,a.gWei,void 0,{number:!0}]])])])]),Object(C.createElementVNode)("div",null,[Object(C.createElementVNode)("div",as,[Object(C.createElementVNode)("div",null,Object(C.toDisplayString)(a.t("swap.tolerance")),1),Object(C.createElementVNode)("div",ss,Object(C.toDisplayString)(a.progress)+"%",1)]),Object(C.createElementVNode)("div",null,[Object(C.createVNode)(r,{modelValue:a.progress,"onUpdate:modelValue":e[9]||(e[9]=e=>a.progress=e),min:1,max:99,onInput:a.progressChange},null,8,["modelValue","onInput"])])]),a.transformMode?(Object(C.openBlock)(),Object(C.createElementBlock)("div",ns,[rs,Object(C.createElementVNode)("div",ds,[Object(C.withDirectives)(Object(C.createElementVNode)("input",{class:"text-right flex-1","onUpdate:modelValue":e[11]||(e[11]=e=>a.price=e),placeholder:"0.00"},null,512),[[C.vModelText,a.price]])])])):(Object(C.openBlock)(),Object(C.createElementBlock)("div",is,[Object(C.createElementVNode)("div",cs,[os,Object(C.createElementVNode)("div",ls,Object(C.toDisplayString)(a.transformRate)+"%",1)]),Object(C.createElementVNode)("div",null,[Object(C.createVNode)(r,{modelValue:a.transformRate,"onUpdate:modelValue":e[10]||(e[10]=e=>a.transformRate=e),min:1,max:99,onInput:a.progressChange},null,8,["modelValue","onInput"])])])),Object(C.createElementVNode)("div",ms,[a.hasLoading?Object(C.createCommentVNode)("",!0):(Object(C.openBlock)(),Object(C.createBlock)(s,{key:0,size:40,class:"pointer",onClick:e[12]||(e[12]=e=>a.isBack=!1)},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(d)]),_:1})),Object(C.createVNode)(c,{class:"swap-btn MT-10",loading:a.hasLoading,disabled:a.transformMode&&!a.price,onClick:a.swapHandler},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)("交换")]),_:1},8,["loading","disabled","onClick"])])])):Object(C.createCommentVNode)("",!0)],2)]),Object(C.createVNode)(m,{ref:"tokens",onChange:a.tokenChange,onUpdate:a.tokenUpdate},null,8,["onChange","onUpdate"])],64)},y.__scopeId="data-v-da4f8920";const L=p.a.global["t"];let S="0x55d398326f99059fF775485246999027B3197955";let D=[],M=[];p={data(){return{t:L,utils:d.b,getLogo:m.d,getBit:m.c,chartShow:!1,intellectRouter:!0,professional:!1,swapLoading:!1,approveLoading:!1,hasApprove:!1,activeName:"Swap",progress:10,isLogin:!1,rankList:[],gWei:5,gWeiList:[5,7,10,15,20],coininfo:{buy_tax:"",sell_tax:"",is_open_source:!1,hidden_owner:!1,owner_address:"",is_proxy:!1,slippage_modifiable:!1},swapHistory:[],type:"",timer:null,balanceTimer:null,rankTimer:null,connectState:"",item1:{name:"BNB",symbol:"BNB",address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",balance:"",price:"",loading:!1},item2:{name:"BUSD",symbol:"BUSD",address:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",balance:"",price:"",loading:!1}}},components:{Tokens:a.a,History:b,SwapConfirm:s,RpcList:i.a,AutoSetting:h,SwapVue:y},watch:{"currentNetwork.ChainID":{immediate:!0,handler(){var e=this.currentNetwork["Token"],t=e[0],e=e[1]||e[0];this.item1={...this.item1,...t},this.item2={...this.item2,...e},this.gWei=5*this.currentNetwork.GWEI,this.gWeiList=[5*this.currentNetwork.GWEI,7*this.currentNetwork.GWEI,10*this.currentNetwork.GWEI,15*this.currentNetwork.GWEI,20*this.currentNetwork.GWEI]}}},directives:{bit:{updated(e){e.value=e.value?Object(m.c)(e.value,5):""}}},computed:{...Object(n.c)(["currentNetwork","networkList","currentDex"]),amountOutMin(){var e,t,a,s;return this.item2.price?(e=d.b.parseUnits(this.item2.price.toString(),this.item2.decimals),t=d.b.parseUnits(this.item2.price.toString(),this.item2.decimals),a=d.b.parseUnits(this.progress.toString(),this.item2.decimals),s=d.b.parseUnits("100",this.item2.decimals),t.sub(e.mul(a).div(s))):l.a.from(0)},getChartUrl(){return this.currentNetwork.transferChartToken.find(e=>e.address===this.item2.address)?(O.a.get("https://api.gopluslabs.io/api/v1/token_security/56?contract_addresses="+this.item1.address).then(e=>{this.coininfo=e.data.result[this.item1.address],this.coininfo.buy_tax=null==this.coininfo.buy_tax?0:this.coininfo.buy_tax,this.coininfo.sell_tax=null==this.coininfo.sell_tax?0:this.coininfo.sell_tax}),`https://coinbrain.com/embed/bnb-${this.item1.address}?theme=custom&accent=3f3f3f&padding=16&background=242424&chart=1&trades=1&ratio=0.7`):(O.a.get("https://api.gopluslabs.io/api/v1/token_security/56?contract_addresses="+this.item2.address).then(e=>{this.coininfo=e.data.result[this.item2.address],this.coininfo.buy_tax=null==this.coininfo.buy_tax?0:this.coininfo.buy_tax,this.coininfo.sell_tax=null==this.coininfo.sell_tax?0:this.coininfo.sell_tax}),`https://coinbrain.com/embed/bnb-${this.item2.address}?theme=custom&accent=3f3f3f&padding=16&background=242424&chart=1&trades=1&ratio=0.7`)}},beforeMount(){var{chart:e,type:t}=this.$route.query;this.chartShow=1==e,this.activeName=t||this.activeName;const a=this.$route.params.key||r.default[0].Dex[0].symbol;let s;e=r.default.findIndex(e=>{if(0<=(s=e.Dex.findIndex(e=>e.symbol===a)))return e});this.setCurrentDex({netWorkIndex:e,dexIndex:s})},mounted(){"0x7d0"===this.currentNetwork.ChainID&&(S="0x765277EebeCA2e31912C9946eAe1021199B39C61");var e=localStorage.getItem("progress");this.progress=e?JSON.parse(e):10,this.isLogin=!!window.wallet.accounts[0],this.isLogin&&this.loginCallBack(),window.wallet.on("accountChange",()=>{this.isLogin=!!window.wallet.accounts[0],this.isLogin||this.clearTimer(),this.isLogin&&this.loginCallBack()}),this.getRankList(),this.rankTimer=setInterval(()=>{this.getRankList()},3e5)},beforeUnmount(){this.clearTimer()},methods:{...Object(n.b)(["setCurrentDex","setConnectDialog"]),tabChange(){Object(m.e)("Tea Dao-"+this.activeName)},getUsdt(a,s,i){if(a&&s.toLocaleLowerCase()!="0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56".toLocaleLowerCase()&&s.toLocaleLowerCase()!=S.toLocaleLowerCase()){let t=[];t=[window.wallet.ContractWETH.getAmountsOut(d.b.parseUnits(a,this[i].decimals),[s,S])],this.currentNetwork.TransferTokens.forEach(e=>{e.address!=s&&e.address!=S&&t.push(window.wallet.ContractWETH.getAmountsOut(d.b.parseUnits(a,this[i].decimals),[s,e.address,S]))}),Promise.allSettled(t).then(e=>{let a="";e.forEach(e=>{var{status:e,value:t}=e;if("fulfilled"==e){const e=t[t.length-1];a&&!e.gt(a)||(a=e)}}),window.wallet.initContract(S).decimals().then(e=>{this[i].usdt=Object(m.c)(d.b.formatUnits(a.toString(),e),3)})})}else this[i].usdt=""},checkChange(){this.professional||(this.intellectRouter=!0)},openRpcList(){this.$refs.rpcList.open(window.wallet.connectState)},getRankList(){O.a.post("https://api.coinbrain.com/cointoaster/coins?size=100&sort=priceChange24h%3Adesc",{searchPhrase:"",priceUsd:{},marketCapUsd:{},volume24hUsd:{from:5e4},totalLiquidityUsd:{from:4e4},trades24h:{from:200},firstTradingDate:{},chainId:56}).then(e=>{e=e.data.items.filter(e=>e);this.rankList=e.slice(0,10)})},refreshPage(e){this.type="item2",this.$refs.tokens.fastImport(e.address,!1)},clearTimer(){clearInterval(this.timer),clearTimeout(this.balanceTimer),clearInterval(this.rankTimer),this.timer=null,this.balanceTimer=null,this.rankTimer=null},addTokenHandler(){var{symbol:e,address:t}=this.item2;window.wallet.addTokenToMeta(t,e,Object(m.d)(t))},progressChange(){localStorage.setItem("progress",this.progress)},transformHandler(){var e=Object(C.toRaw)(this.item1);this.item1=Object(C.toRaw)(this.item2),this.item2=e},maxHandler(){let e=Object(C.toRaw)(this.item1.balance);var t;this.item1.address===this.currentNetwork.MainCoin.address&&(t=d.b.parseUnits("0.01",this.item1.decimals),e=e.sub(t)),this.item1.price=d.b.formatUnits(e,this.item1.decimals),this.price1Change("item1")},async swapHandler(){let e,t;var a=d.b.parseUnits(this.item1.price.toString(),this.item1.decimals),s=this.amountOutMin,i=window.wallet.accounts[0],c=d.b.parseUnits(((new Date).getTime()+9e5).toString(),this.item1.decimals);if(this.item1.address==this.currentNetwork.MainCoin.address)try{t=await window.wallet.ContractWETH.estimateGas[this.currentNetwork.MainCoin_TO_OTHER](s,D,i,c,{value:a,gasPrice:d.b.parseUnits(this.gWei.toString(),9)}),e=window.wallet.ContractWETH[this.currentNetwork.MainCoin_TO_OTHER](s,D,i,c,{value:a,gasPrice:d.b.parseUnits(this.gWei.toString(),9),gasLimit:t.mul(135).div(100)})}catch(e){Object(m.a)(e)}else if(this.item2.address==this.currentNetwork.MainCoin.address)try{t=await window.wallet.ContractWETH.estimateGas[this.currentNetwork.OTHER_TO_MainCoin](a,s,D,i,c,{gasPrice:d.b.parseUnits(this.gWei.toString(),9)}),e=window.wallet.ContractWETH[this.currentNetwork.OTHER_TO_MainCoin](a,s,D,i,c,{gasPrice:d.b.parseUnits(this.gWei.toString(),9),gasLimit:t.mul(135).div(100)})}catch(e){Object(m.a)(e)}else try{t=await window.wallet.ContractWETH.estimateGas.swapExactTokensForTokensSupportingFeeOnTransferTokens(a,s,D,i,c,{gasPrice:d.b.parseUnits(this.gWei.toString(),9)}),e=window.wallet.ContractWETH.swapExactTokensForTokensSupportingFeeOnTransferTokens(a,s,D,i,c,{gasPrice:d.b.parseUnits(this.gWei.toString(),9),gasLimit:t.mul(135).div(100)})}catch(e){Object(m.a)(e)}if(e){this.swapLoading=!0;try{const t=await e;try{clearInterval(this.timer),await t.wait(),Object(o.a)({type:L("swap.success"),title:L("swap.success"),message:L("swap.tradeSuccess")}),this.loginCallBack(),this.swapHistory.push({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),tx:JSON.parse(JSON.stringify(t)),status:1})}catch(e){this.swapHistory.push({item1:JSON.parse(JSON.stringify(this.item1)),item2:JSON.parse(JSON.stringify(this.item2)),tx:JSON.parse(JSON.stringify(t)),status:0}),Object(m.a)(e)}this.price1Change("item1"),localStorage.setItem(window.wallet.accounts[0]+this.currentDex.address+"swapHistory",JSON.stringify(this.swapHistory))}catch(e){Object(m.a)(e)}this.swapLoading=!1}},async price1Change(c){let o="item1"==c?"item2":"item1";if(this[c].price=Object(m.c)(this[c].price.replace(/[^0-9.]/g,""),5),""==this[c].price)this[c].price="",this[o].price="";else{const i=this[c].price.toString();if("0."!==i){clearInterval(this.timer),this.timer=setInterval(()=>{this.price1Change(c)},300);const e=this.currentNetwork.TransferTokens.find(e=>e.address.toLocaleLowerCase()===this.item2.address.toLocaleLowerCase());let a="item1"==c?"getAmountsOut":"getAmountsIn",s=[];s=[window.wallet.ContractWETH[a](d.b.parseUnits(i,this[c].decimals),[this.item1.address,this.item2.address])],M=[[this.item1.address,this.item2.address]],this.intellectRouter&&this.currentNetwork.TransferTokens.forEach(t=>{t.address!=this[c].address&&t.address!=this[o].address&&(M.push([this.item1.address,t.address,this.item2.address]),s.push(window.wallet.ContractWETH[a](d.b.parseUnits(i,this[c].decimals),[this.item1.address,t.address,this.item2.address])),e||this.currentNetwork.TransferTokens.forEach(e=>{t.address!=e.address&&(M.push([this.item1.address,t.address,e.address,this.item2.address]),s.push(window.wallet.ContractWETH[a](d.b.parseUnits(i,this[c].decimals),[this.item1.address,t.address,e.address,this.item2.address])))}))}),Promise.allSettled(s).then(e=>{let s,i="";e.forEach((e,t)=>{var{status:e,value:a}=e;if("fulfilled"==e){const e="item1"==c?a[a.length-1]:a[0];i&&!e.gt(i)||(i=e,s=t)}}),i&&this[c].price&&"0"!=this[c].price&&(this[o].price=d.b.formatUnits(i,this[o].decimals),D=M[s])})}}},async loginCallBack(e=!0){clearTimeout(this.balanceTimer),this.item1.loading=e,this.item2.loading=e,this.connectState=window.wallet.connectState;e=localStorage.getItem(window.wallet.accounts[0]+this.currentDex.address+"swapHistory");this.swapHistory=e?JSON.parse(e):[],this.getItemBalance(this.item1.address,"item1").then(({balance:e,decimals:t})=>{this.item1.balance=e,this.item1.decimals=t,this.item1.loading=!1}),this.getItemBalance(this.item2.address,"item2").then(({balance:e,decimals:t})=>{this.item2.balance=e,this.item2.decimals=t,this.item2.loading=!1}),this.balanceTimer=setTimeout(()=>{this.loginCallBack(!1)},3e3)},async getItemBalance(t,a){if(t){let e;var s=window.wallet.initContract(t),i=await s.decimals();if(t==this.currentNetwork.MainCoin.address)this.hasApprove=!0,e=await window.wallet.provider.getBalance();else{if("item1"==a)try{const t=await s.allowance(window.wallet.accounts[0],this.currentDex.address),a=Math.floor(Number(d.b.formatUnits(t,i)));a<=0?(this.hasApprove=!1,3==this.connectState&&await this.approveHandler()):this.hasApprove=!0}catch(e){Object(m.a)(e)}e=await s.balanceOf(window.wallet.accounts[0])}return{balance:e,decimals:i}}},async approveHandler(){this.approveLoading=!0;try{await(await window.wallet.initContract(this.item1.address).approve(this.currentDex.address,l.a.from("115792089237316195423570985008687907853269984665640564039457584007913129639935",0),{gasPrice:d.b.parseUnits("10",9)})).wait(),this.hasApprove=!0}catch(e){Object(m.a)(e)}this.approveLoading=!1},tokenUpdate({address:e,name:t,symbol:a}){this.item1.address==e?(this.item1.name=t,this.item1.symbol=a):this.item2.address==e&&(this.item2.name=t,this.item2.symbol=a)},async tokenChange(e,t){"item1"==(t=t||this.type)?this.item2.address==e.address&&(this.item2=JSON.parse(JSON.stringify(this.item1))):this.item1.address==e.address&&this.item1.address==e.address&&(this.item1=JSON.parse(JSON.stringify(this.item2))),e.price=e.price||"0",this[t]=e,this.isLogin&&this.loginCallBack(),this.price1Change("item1"==t?"item2":"item1")},copyHandler(e){Object(c.a)(e),Object(o.a)({type:L("swap.success"),title:L("swap.success"),message:L("swap.copySuccess")})},toggleGwei(e){this.gWei=e},openHistory(){this.$refs.history.open()},openTokensDialog(e){this.type=e,this.$refs.tokens.open([this.item1.address,this.item2.address])},swapSubmit(){this.professional?this.swapHandler():this.$refs.swapConfirm.open(this.item1,this.item2)},loginFn(){this.setConnectDialog(!0)}}};t("ff7e"),p.render=function(a,e){const t=Object(C.resolveComponent)("marquee"),s=Object(C.resolveComponent)("Histogram"),i=Object(C.resolveComponent)("el-icon"),c=Object(C.resolveComponent)("Clock"),o=Object(C.resolveComponent)("ArrowDown"),l=Object(C.resolveComponent)("CopyDocument"),n=Object(C.resolveComponent)("Loading"),r=Object(C.resolveComponent)("el-tag"),d=Object(C.resolveComponent)("el-slider"),m=Object(C.resolveComponent)("el-button"),b=Object(C.resolveComponent)("QuestionFilled"),p=Object(C.resolveComponent)("el-checkbox"),h=Object(C.resolveComponent)("el-tab-pane"),O=Object(C.resolveComponent)("AutoSetting"),u=Object(C.resolveComponent)("SwapVue"),j=Object(C.resolveComponent)("el-tabs"),g=Object(C.resolveComponent)("Tokens"),w=Object(C.resolveComponent)("SwapConfirm"),f=Object(C.resolveComponent)("History"),k=Object(C.resolveComponent)("RpcList"),N=Object(C.resolveComponent)("CircleCloseFilled"),v=Object(C.resolveComponent)("el-drawer"),V=Object(C.resolveDirective)("lazy"),y=Object(C.resolveDirective)("bit");return Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,null,[Object(C.createElementVNode)("div",B,[Object(C.createVNode)(j,{modelValue:a.activeName,"onUpdate:modelValue":e[16]||(e[16]=e=>a.activeName=e),class:"swap-tabs",onTabClick:a.tabChange},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(h,{label:a.$t("swap.title"),name:"Swap",lazy:""},{default:Object(C.withCtx)(()=>[a.chartShow?(Object(C.openBlock)(),Object(C.createElementBlock)("div",T,[Object(C.createVNode)(t,{class:"rank-lst flex-row-center",behavior:"scroll",onmouseover:"this.stop()",onmouseout:"this.start()"},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",H,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.rankList,t=>(Object(C.openBlock)(),Object(C.createElementBlock)("div",{class:"rank-lst__item flex-row-start align-center pointer",key:t.address,onClick:e=>a.refreshPage(t)},[t.logo?(Object(C.openBlock)(),Object(C.createElementBlock)("img",{key:0,src:t.logo,class:"rank-lst__item--logo"},null,8,R)):(Object(C.openBlock)(),Object(C.createElementBlock)("div",I,Object(C.toDisplayString)(t.symbol.substr(0,1)),1)),Object(C.createElementVNode)("div",null,Object(C.toDisplayString)(t.symbol),1)],8,W))),128))])]),_:1}),Object(C.createElementVNode)("div",P,[Object(C.createElementVNode)("div",A," 买卖税:"+Object(C.toDisplayString)((100*a.coininfo.buy_tax).toFixed(1))+"%/"+Object(C.toDisplayString)((100*a.coininfo.sell_tax).toFixed(1))+"% 可调税:"+Object(C.toDisplayString)(0==a.coininfo.slippage_modifiable?"否":"是")+"; 开源:"+Object(C.toDisplayString)(0==a.coininfo.is_open_source?"否":"是")+"; 弃权:"+Object(C.toDisplayString)("0x0000000000000000000000000000000000000000"==a.coininfo.owner_address||"0x000000000000000000000000000000000000dead"==a.coininfo.owner_address||""==a.coininfo.owner_address?"是":"否")+"; 假弃权:"+Object(C.toDisplayString)(0==a.coininfo.hidden_owner?"否":"是")+"; 代理:"+Object(C.toDisplayString)(0==a.coininfo.is_proxy?"否":"是")+"; ",1)]),Object(C.createElementVNode)("iframe",{class:"swap-iframe",src:a.getChartUrl,frameborder:"0"},null,8,F)])):Object(C.createCommentVNode)("",!0),Object(C.createElementVNode)("div",G,[Object(C.createElementVNode)("div",z,[Object(C.createVNode)(i,{size:30,class:"swap-top__icon",onClick:e[0]||(e[0]=e=>a.chartShow=!a.chartShow)},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(s)]),_:1}),Object(C.createElementVNode)("div",$,Object(C.toDisplayString)(a.t("swap.title")),1),Object(C.createElementVNode)("div",J,Object(C.toDisplayString)(a.t("swap.desc")),1),Object(C.createElementVNode)("img",{src:x.a,class:"swap-top__icon rpc pointer",onClick:e[1]||(e[1]=(...e)=>a.openRpcList&&a.openRpcList(...e))}),a.isLogin?(Object(C.openBlock)(),Object(C.createBlock)(i,{key:0,size:30,class:"swap-top__icon right pointer",onClick:a.openHistory},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(c)]),_:1},8,["onClick"])):Object(C.createCommentVNode)("",!0)]),Object(C.createElementVNode)("div",q,[Object(C.createElementVNode)("div",Q,[Object(C.createElementVNode)("div",K,[Object(C.createElementVNode)("div",{class:"flex-row-start align-center",onClick:e[2]||(e[2]=e=>a.openTokensDialog("item1"))},[Object(C.withDirectives)(Object(C.createElementVNode)("img",X,null,512),[[V,a.getLogo(a.item1.address)]]),Object(C.createElementVNode)("div",Y,Object(C.toDisplayString)(a.item1.symbol),1),Object(C.createVNode)(i,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(o)]),_:1})]),Object(C.createVNode)(i,{class:"ML-5",onClick:e[3]||(e[3]=e=>a.copyHandler(a.item1.address))},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(l)]),_:1})]),a.isLogin?(Object(C.openBlock)(),Object(C.createElementBlock)("div",Z,[a.item1.loading?(Object(C.openBlock)(),Object(C.createBlock)(i,{key:0,class:"is-loading"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(n)]),_:1})):a.item1.balance?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:1},[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.balance"))+"："+Object(C.toDisplayString)(a.getBit(a.utils.formatUnits(a.item1.balance,a.item1.decimals),5)),1)],64)):Object(C.createCommentVNode)("",!0)])):Object(C.createCommentVNode)("",!0)]),Object(C.createElementVNode)("div",{class:Object(C.normalizeClass)(["swap-item__input MT-10 flex-row-start align-center",{"is-disabled":!a.isLogin}])},[Object(C.withDirectives)(Object(C.createElementVNode)("input",{disabled:!a.isLogin||a.approveLoading,class:"text-right flex-1",onInput:e[4]||(e[4]=e=>a.price1Change("item1")),"onUpdate:modelValue":e[5]||(e[5]=e=>a.item1.price=e),placeholder:"0.00"},null,40,ee),[[y],[C.vModelText,a.item1.price]]),a.isLogin?(Object(C.openBlock)(),Object(C.createBlock)(r,{key:0,class:"ML-10 ml-2 pointer",effect:"light",onClick:a.maxHandler,type:"warning",size:"small"},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)("MAX")]),_:1},8,["onClick"])):Object(C.createCommentVNode)("",!0),Object(C.createElementVNode)("div",te,[Object(C.createTextVNode)(Object(C.toDisplayString)(a.getUsdt(a.item1.price,a.item1.address,"item1"))+" ",1),a.item1.usdt&&a.item1.price?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:0},[Object(C.createTextVNode)("~$"+Object(C.toDisplayString)(a.item1.usdt),1)],64)):Object(C.createCommentVNode)("",!0)])],2)]),Object(C.createElementVNode)("img",{src:E.a,class:"swap-transform pointer",onClick:e[6]||(e[6]=(...e)=>a.transformHandler&&a.transformHandler(...e))}),Object(C.createElementVNode)("div",ae,[Object(C.createElementVNode)("div",se,[Object(C.createElementVNode)("div",ie,[Object(C.createElementVNode)("div",{class:"flex-row-start align-center",onClick:e[7]||(e[7]=e=>a.openTokensDialog("item2"))},[Object(C.withDirectives)(Object(C.createElementVNode)("img",ce,null,512),[[V,a.getLogo(a.item2.address)]]),Object(C.createElementVNode)("div",oe,Object(C.toDisplayString)(a.item2.symbol),1),Object(C.createVNode)(i,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(o)]),_:1})]),Object(C.createVNode)(i,{class:"ML-5",onClick:e[8]||(e[8]=e=>a.copyHandler(a.item2.address))},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(l)]),_:1}),a.isLogin&&1==a.connectState?(Object(C.openBlock)(),Object(C.createElementBlock)("img",{key:0,class:"ML-5 swap-item__top-wallet",src:_.a,onClick:e[9]||(e[9]=(...e)=>a.addTokenHandler&&a.addTokenHandler(...e))})):Object(C.createCommentVNode)("",!0)]),a.isLogin?(Object(C.openBlock)(),Object(C.createElementBlock)("div",le,[a.item2.loading?(Object(C.openBlock)(),Object(C.createBlock)(i,{key:0,class:"is-loading"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(n)]),_:1})):a.item2.balance?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:1},[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.balance"))+"："+Object(C.toDisplayString)(a.getBit(a.utils.formatUnits(a.item2.balance,a.item2.decimals),5)),1)],64)):Object(C.createCommentVNode)("",!0)])):Object(C.createCommentVNode)("",!0)]),Object(C.createElementVNode)("div",{class:Object(C.normalizeClass)(["swap-item__input MT-10 flex-row-start align-center",{"is-disabled":!a.isLogin}])},[Object(C.withDirectives)(Object(C.createElementVNode)("input",{disabled:!a.isLogin||a.approveLoading,"onUpdate:modelValue":e[10]||(e[10]=e=>a.item2.price=e),class:"text-right flex-1",onInput:e[11]||(e[11]=e=>a.price1Change("item2")),placeholder:"0.00"},null,40,ne),[[C.vModelText,a.item2.price],[y]]),Object(C.createElementVNode)("div",re,[Object(C.createTextVNode)(Object(C.toDisplayString)(a.getUsdt(a.item2.price,a.item2.address,"item2"))+" ",1),a.item2.usdt&&a.item2.price?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:0},[Object(C.createTextVNode)("~$"+Object(C.toDisplayString)(a.item2.usdt),1)],64)):Object(C.createCommentVNode)("",!0)])],2)]),Object(C.createElementVNode)("div",de,[Object(C.createElementVNode)("div",me,[be,Object(C.createElementVNode)("div",pe,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.gWeiList,t=>(Object(C.openBlock)(),Object(C.createBlock)(r,{class:"swap-slippage__select-tag",type:"warning",effect:a.gWei==t?"dark":"light",onClick:e=>a.toggleGwei(t),key:t},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(t),1)]),_:2},1032,["effect","onClick"]))),128)),Object(C.withDirectives)(Object(C.createElementVNode)("input",{type:"number",class:"swap-slippage__select-input",placeholder:"5","onUpdate:modelValue":e[12]||(e[12]=e=>a.gWei=e)},null,512),[[C.vModelText,a.gWei,void 0,{number:!0}]])])])]),Object(C.createElementVNode)("div",he,[Object(C.createElementVNode)("div",Oe,[Object(C.createElementVNode)("div",ue,Object(C.toDisplayString)(a.t("swap.tolerance")),1),Object(C.createElementVNode)("div",je,Object(C.toDisplayString)(a.progress)+"%",1)]),Object(C.createElementVNode)("div",null,[Object(C.createVNode)(d,{modelValue:a.progress,"onUpdate:modelValue":e[13]||(e[13]=e=>a.progress=e),min:1,max:99,onInput:a.progressChange},null,8,["modelValue","onInput"])])]),a.isLogin?a.hasApprove?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:2},[a.item1.price?(Object(C.openBlock)(),Object(C.createBlock)(m,{key:1,class:"swap-btn MT-15",loading:a.swapLoading,onClick:a.swapSubmit},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.title")),1)]),_:1},8,["loading","onClick"])):(Object(C.openBlock)(),Object(C.createBlock)(m,{key:0,disabled:"",class:"swap-btn MT-15"},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.enterAmount")),1)]),_:1}))],64)):(Object(C.openBlock)(),Object(C.createBlock)(m,{key:1,loading:a.approveLoading,class:"swap-btn MT-30",onClick:a.approveHandler},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("pledge.approve")),1)]),_:1},8,["loading","onClick"])):(Object(C.openBlock)(),Object(C.createBlock)(m,{key:0,class:"swap-btn MT-30",onClick:a.loginFn},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.connectWallet")),1)]),_:1},8,["onClick"])),Object(C.createElementVNode)("div",ge,[Object(C.createVNode)(p,{modelValue:a.professional,"onUpdate:modelValue":e[14]||(e[14]=e=>a.professional=e),onChange:a.checkChange,size:"large"},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",we,[Object(C.createTextVNode)(Object(C.toDisplayString)(a.$t("swap.professional"))+" ",1),Object(C.createElementVNode)("a",fe,[Object(C.createVNode)(i,{class:"ML-5"},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(b)]),_:1})])])]),_:1},8,["modelValue","onChange"]),Object(C.createVNode)(p,{modelValue:a.intellectRouter,"onUpdate:modelValue":e[15]||(e[15]=e=>a.intellectRouter=e),disabled:!a.professional,label:"智能路由",size:"large"},null,8,["modelValue","disabled"])])])]),_:1},8,["label"]),Object(C.createVNode)(h,{label:a.$t("swap.limit"),name:"Limit",lazy:""},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(O,{class:"swap-left MR-20",onCopy:a.copyHandler},null,8,["onCopy"])]),_:1},8,["label"]),Object(C.createVNode)(h,{label:"批量Swap",name:"BulkSwap",lazy:""},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(u)]),_:1})]),_:1},8,["modelValue","onTabClick"])]),Object(C.createVNode)(g,{ref:"tokens",onChange:a.tokenChange,onUpdate:a.tokenUpdate},null,8,["onChange","onUpdate"]),Object(C.createVNode)(w,{ref:"swapConfirm",confirm:a.swapHandler,amountOutMin:a.getBit(a.utils.formatUnits(a.amountOutMin.toString(),a.item2.decimals),5)},null,8,["confirm","amountOutMin"]),Object(C.createVNode)(f,{ref:"history"},null,512),Object(C.createVNode)(k,{ref:"rpcList"},null,512),Object(C.createVNode)(v,{modelValue:a.chartShow,"onUpdate:modelValue":e[18]||(e[18]=e=>a.chartShow=e),direction:"btt","show-close":!1,"custom-class":"swap-drawer","modal-class":"swap-drawer__modal","append-to-body":"","with-header":!1},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",ke,[a.isLogin?a.hasApprove?(Object(C.openBlock)(),Object(C.createElementBlock)(C.Fragment,{key:2},[a.item1.price?(Object(C.openBlock)(),Object(C.createBlock)(m,{key:1,class:"swap-btn",loading:a.swapLoading,onClick:a.swapSubmit},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.title")),1)]),_:1},8,["loading","onClick"])):(Object(C.openBlock)(),Object(C.createBlock)(m,{key:0,disabled:"",class:"swap-btn"},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.enterAmount")),1)]),_:1}))],64)):(Object(C.openBlock)(),Object(C.createBlock)(m,{key:1,loading:a.approveLoading,class:"swap-btn",onClick:a.approveHandler},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("pledge.approve")),1)]),_:1},8,["loading","onClick"])):(Object(C.openBlock)(),Object(C.createBlock)(m,{key:0,class:"swap-btn",onClick:a.loginFn},{default:Object(C.withCtx)(()=>[Object(C.createTextVNode)(Object(C.toDisplayString)(a.t("swap.connectWallet")),1)]),_:1},8,["onClick"])),Object(C.createVNode)(i,{size:30,color:"#fff",class:"el-icon--left",onClick:e[17]||(e[17]=e=>a.chartShow=!1)},{default:Object(C.withCtx)(()=>[Object(C.createVNode)(N)]),_:1})]),Object(C.createVNode)(t,{class:"rank-lst flex-row-center",behavior:"scroll",onmouseover:"this.stop()",onmouseout:"this.start()"},{default:Object(C.withCtx)(()=>[Object(C.createElementVNode)("div",Ne,[(Object(C.openBlock)(!0),Object(C.createElementBlock)(C.Fragment,null,Object(C.renderList)(a.rankList,t=>(Object(C.openBlock)(),Object(C.createElementBlock)("div",{class:"rank-lst__item flex-row-start align-center pointer",key:t.address,onClick:e=>a.refreshPage(t)},[t.logo?(Object(C.openBlock)(),Object(C.createElementBlock)("img",{key:0,src:t.logo,class:"rank-lst__item--logo"},null,8,Ve)):(Object(C.openBlock)(),Object(C.createElementBlock)("div",ye,Object(C.toDisplayString)(t.symbol.substr(0,1)),1)),Object(C.createElementVNode)("div",null,Object(C.toDisplayString)(t.symbol),1)],8,ve))),128))])]),_:1}),Object(C.createElementVNode)("iframe",{class:"swap-iframe",src:a.getChartUrl,frameborder:"0"},null,8,Ce)]),_:1},8,["modelValue"])],64)},e.default=p},"752b":function(e,t,a){"use strict";a("5abd")},"7aa9":function(e,t,a){},d8b6:function(e,t,a){},e1e9:function(e,t,a){},ff7e:function(e,t,a){"use strict";a("359a")}}]);