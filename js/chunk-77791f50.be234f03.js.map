{"version":3,"sources":["webpack:///./src/assets/images/transform.png","webpack:///./src/views/tools/components/Swap.vue?8479","webpack:///./src/views/swap/auto.vue?33a1","webpack:///./src/views/swap/modal/history.vue?0a0c","webpack:///./src/views/tools/components/Swap.vue?454d","webpack:///./src/views/swap/index.vue","webpack:///./src/views/swap/modal/swapConfirm.vue","webpack:///./src/views/swap/modal/swapConfirm.vue?e8f6","webpack:///./src/views/swap/modal/history.vue","webpack:///./src/views/swap/modal/history.vue?858f","webpack:///./src/views/swap/auto.vue","webpack:///./src/views/swap/auto.vue?3c40","webpack:///./src/views/tools/components/Swap.vue","webpack:///./src/views/tools/components/Swap.vue?b98b","webpack:///./src/views/swap/index.vue?aff9","webpack:///./src/views/swap/modal/swapConfirm.vue?0879","webpack:///./src/views/swap/modal/tokens.vue?1f29","webpack:///./src/views/swap/modal/tokens.vue","webpack:///./src/views/swap/modal/tokens.vue?8430","webpack:///./src/views/swap/auto.vue?bddb","webpack:///./src/views/swap/index.vue?36ca"],"names":["module","exports","class","_createElementVNode","target","href","_createVNode","_component_el_tabs","_ctx","$event","onTabClick","_component_el_tab_pane","label","name","lazy","_createElementBlock","_component_marquee","behavior","onmouseover","onmouseout","_Fragment","_renderList","item","key","address","onClick","logo","src","_toDisplayString","symbol","substr","frameborder","_component_el_icon","size","_component_Histogram","_imports_0","_createBlock","_component_Clock","_component_ArrowDown","_component_CopyDocument","_hoisted_17","loading","_component_Loading","balance","formatUnits","decimals","disabled","onInput","price","placeholder","_component_el_tag","effect","type","usdt","_imports_1","_imports_2","_hoisted_25","_hoisted_30","_component_el_slider","min","max","_component_el_button","_component_el_checkbox","onChange","_component_QuestionFilled","_component_AutoSetting","onCopy","_component_SwapVue","_component_Tokens","ref","onUpdate","_component_SwapConfirm","confirm","amountOutMin","toString","_component_History","_component_RpcList","_component_el_drawer","direction","show-close","custom-class","modal-class","append-to-body","with-header","color","_component_CircleCloseFilled","_component_el_dialog","title","width","_component_Bottom","_component_el_tooltip","placement","content","_hoisted_12","props","String","Function","data","utils","getBit","getLogo","dialogVisible","item1","item2","methods","open","this","confirmHandler","finally","render","index","status","_component_Close","_component_Check","length","_component_el_empty","description","history","computed","mapGetters","localStorage","getItem","window","wallet","accounts","currentDex","JSON","parse","reverse","selectHandler","tx","hash","_hoisted_65","_hoisted_66","_hoisted_4","_hoisted_5","_hoisted_11","_hoisted_18","_hoisted_21","_hoisted_26","_hoisted_29","_hoisted_32","_hoisted_35","_component_el_switch","_hoisted_45","_hoisted_47","_hoisted_49","_hoisted_38","_hoisted_40","_hoisted_42","date","format","_component_Warning","message","before-change","_component_el_input","resize","_hoisted_67","_hoisted_70","_hoisted_72","_hoisted_76","_hoisted_78","_hoisted_81","_hoisted_84","_hoisted_85","contract","addressPath","path","moment","activeName","gWei","gWeiList","progress","fee","txPrice","priceLimitMode","balanceTimer","accountBuy","buyLoading","intellectTest","isLogin","buyNum","circulation","circulationLt","circulationGt","numLt","numGt","logList","hignTest","speedMode","hignRate","braveTroopsTest","delayTime","isOpen","components","Tokens","RpcList","watch","immediate","handler","Token","currentNetwork","GWEI","directives","bit","updated","el","value","mounted","connectState","loginCallBack","on","transformHandler","res","toRaw","getColor","openRpcList","$refs","rpcList","beforeChange","hasPledge","ElMessageBox","confirmButtonText","cancelButtonText","then","$router","push","account","blur","loginFn","tokenUpdate","toggleGwei","startHandler","ElNotification","confirmBuy","setTimeout","refreshCirculation","prompt","connect","otherKey","replace","clearInterval","timer","setInterval","price1Change","bool","TransferTokens","find","toLocaleLowerCase","funKey","promises","ContractWETH","parseUnits","forEach","sub","Promise","allSettled","lastIndex","result","last","gt","unshift","Date","console","log","clearTimeout","getItemBalance","initContract","product","SWAP_HELPER","ABI","all","callFee","checkTxPrice","_contract","arr","split","valueBigNumber","add","MainCoin","gasLimit","estimateGas","manyTokensBuy","gasPrice","mul","div","wait","error","reason","keyType","provider","getBalance","allowance","Math","floor","Number","hasApprove","approveHandler","Tips","balanceOf","approve","parseEther","maxHandler","openTokensDialog","tokens","copyHandler","$emit","address1","address2","pairContract","PAIR_ABI","getPair","POOL_ABI","token0","token1","getReserves","token","_reserve1","_reserve0","getPondData","circulationContract","lte","gte","__scopeId","_hoisted_16","_hoisted_19","_hoisted_22","active-text","inactive-text","_hoisted_39","_hoisted_36","_component_Back","t","i18n","global","searchLoading","transformMode","transformRate","isBack","sendAddress","tableList","hasLoading","mapActions","sendList","list","i","getPrivateKeyProvider","BLKTokenABI","getAmountsOut","getPrice","hundred","one","two","getPath","catch","showAddress","slice","text","copy","USDT_ADDRESS","BUSD_ADDRESS","chartShow","intellectRouter","professional","swapLoading","approveLoading","rankList","swapHistory","rankTimer","History","SwapConfirm","AutoSetting","SwapVue","BigNumber","from","price1","num100","getChartUrl","transferChartToken","beforeMount","chart","$route","query","params","networkList","Dex","dexIndex","netWorkIndex","findIndex","setCurrentDex","ChainID","clearTimer","getRankList","beforeUnmount","tabChange","setDocumentTitle","getUsdt","checkChange","axios","post","items","filter","totalLiquidityUsd","trades24h","sort","a","b","refreshPage","fastImport","addTokenHandler","addTokenToMeta","progressChange","setItem","promise","gaslimit","payableAmount","to","deadline","getTime","MainCoin_TO_OTHER","OTHER_TO_MainCoin","swapExactTokensForTokensSupportingFeeOnTransferTokens","stringify","openHistory","swapSubmit","swapHandler","swapConfirm","setConnectDialog","isAdd","activeAddress","searchTxt","getTokens","importTokens","outputCurrency","inputCurrency","getCurrencyInfo","importHandler","val","searchTxtChange","includes","addr","updateTokenInfo","tokensIndex","removeTokens","tokenIndex","child","splice"],"mappings":"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","file":"js/chunk-77791f50.be234f03.js","sourcesContent":["module.exports = \"./images/transform5dc41586b2a3ba671b8cb88580863420.png\";","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Swap.vue?vue&type=style&index=1&id=da4f8920&lang=scss&scoped=true\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Swap.vue?vue&type=style&index=1&id=da4f8920&lang=scss&scoped=true\"","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./auto.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./auto.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./history.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./history.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Swap.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Swap.vue?vue&type=style&index=0&lang=scss\"","<template>\r\n  \r\n  <div class=\"swap flex-row-start\">\r\n    <el-tabs v-model=\"activeName\" class=\"swap-tabs\" @tab-click=\"tabChange\">\r\n      <el-tab-pane :label=\"$t('swap.title')\" name=\"Swap\" lazy>\r\n        <div class=\"swap-left MR-20\" v-if=\"chartShow\">\r\n          <marquee\r\n            class=\"rank-lst flex-row-center\"\r\n            behavior=\"scroll\"\r\n            onmouseover=\"this.stop()\"\r\n            onmouseout=\"this.start()\">\r\n            <div class=\"flex-row-start align-center rank-lst__info\">\r\n              <div \r\n                class=\"rank-lst__item flex-row-start align-center pointer\" \r\n                v-for=\"item in rankList\" :key=\"item.address\"\r\n                @click=\"refreshPage(item)\">\r\n                <img :src=\"item.logo\" class=\"rank-lst__item--logo\" v-if=\"item.logo\"/>\r\n                <div class=\"rank-lst__item--logo\" v-else>{{item.symbol.substr(0,1)}}</div>\r\n                <div>{{ item.symbol }}</div>\r\n              </div>\r\n            </div>\r\n          </marquee>\r\n          <iframe class=\"swap-iframe\" :src=\"getChartUrl\" frameborder=\"0\"></iframe>  \r\n        </div>\r\n        <div class=\"swap-info PB-20\">\r\n          <div class=\"swap-top\">\r\n            <el-icon :size=\"30\" class=\"swap-top__icon\" @click=\"chartShow = !chartShow\"><Histogram /></el-icon>\r\n            <div class=\"swap-info__title MB-10\">{{ t('swap.title') }}</div>\r\n            <div class=\"swap-info__title-info\">{{ t('swap.desc') }}</div>\r\n            <img src=\"@/assets/images/rpc.png\" class=\"swap-top__icon rpc pointer\" @click=\"openRpcList\"/>\r\n            <el-icon :size=\"30\" class=\"swap-top__icon right pointer\" v-if=\"isLogin\" @click=\"openHistory\"><Clock /></el-icon>\r\n          </div>\r\n          <div class=\"swap-item\">\r\n            <div class=\"swap-item__top flex-row-between\">\r\n              <div class=\"flex-row-start align-center pointer\">\r\n                <div class=\"flex-row-start align-center\" @click=\"openTokensDialog('item1')\">\r\n                  <img v-lazy=\"getLogo(item1.address)\" class=\"swap-item__top-icon MR-10\"/>\r\n                  <div class=\"swap-item__top-name text-overflow__1\">{{item1.symbol}}</div>\r\n                  \r\n                  <el-icon class=\"ML-5\">\r\n                    <ArrowDown />\r\n                  </el-icon>\r\n                </div>\r\n                <el-icon class=\"ML-5\" @click=\"copyHandler(item1.address)\"><CopyDocument /></el-icon>\r\n              </div>\r\n              <div v-if=\"isLogin\">\r\n                <el-icon class=\"is-loading\" v-if=\"item1.loading\">\r\n                  <Loading />\r\n                </el-icon>\r\n                <template v-else-if=\"item1.balance\">\r\n                  {{ t('swap.balance') }}：{{getBit(utils.formatUnits(item1.balance, item1.decimals), 5) }}\r\n                </template>\r\n              </div>\r\n            </div>\r\n            <div class=\"swap-item__input MT-10 flex-row-start align-center\" :class=\"{'is-disabled': !isLogin}\">\r\n              <input :disabled=\"!isLogin || approveLoading\" class=\"text-right flex-1\" v-bit @input=\"price1Change('item1')\" v-model=\"item1.price\" placeholder=\"0.00\">\r\n              <el-tag class=\"ML-10 ml-2 pointer\" effect=\"light\" v-if=\"isLogin\" @click=\"maxHandler\" type=\"warning\" size=\"small\">MAX</el-tag>\r\n              <div class=\"swap-item__input-usdt\">\r\n                {{ getUsdt(item1.price, item1.address, 'item1') }}\r\n                <template v-if=\"item1.usdt && item1.price\">~${{ item1.usdt }}</template>\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n          <img src=\"@/assets/images/transform.png\" class=\"swap-transform pointer\" @click=\"transformHandler\" />\r\n          <div class=\"swap-item\">\r\n            <div class=\"swap-item__top flex-row-between\">\r\n              <div class=\"flex-row-start align-center pointer\">\r\n                <div class=\"flex-row-start align-center\" @click=\"openTokensDialog('item2')\">\r\n                  <img v-lazy=\"getLogo(item2.address)\" class=\"swap-item__top-icon MR-10\"/>\r\n                  <div class=\"swap-item__top-name text-overflow__1\">{{item2.symbol}}</div>\r\n                  <el-icon class=\"ML-5\">\r\n                    <ArrowDown />\r\n                  </el-icon>\r\n                </div>\r\n                <el-icon class=\"ML-5\" @click=\"copyHandler(item2.address)\"><CopyDocument /></el-icon>\r\n                <img class=\"ML-5 swap-item__top-wallet\" v-if=\"isLogin && connectState == 1\" src=\"@/assets/images/metamask.png\" @click=\"addTokenHandler\"/>\r\n              </div>\r\n              <div v-if=\"isLogin\">\r\n                <el-icon class=\"is-loading\" v-if=\"item2.loading\">\r\n                  <Loading />\r\n                </el-icon>\r\n                <template v-else-if=\"item2.balance\">\r\n                  {{ t('swap.balance') }}：{{getBit(utils.formatUnits(item2.balance, item2.decimals), 5)}}\r\n                </template>\r\n              </div>\r\n            </div>\r\n            <div class=\"swap-item__input MT-10 flex-row-start align-center\" :class=\"{'is-disabled': !isLogin}\">\r\n              <input :disabled=\"!isLogin || approveLoading\" v-model=\"item2.price\"  v-bit class=\"text-right flex-1\" @input=\"price1Change('item2')\" placeholder=\"0.00\">\r\n              <div class=\"swap-item__input-usdt\">\r\n                {{ getUsdt(item2.price, item2.address, 'item2') }}\r\n                <template v-if=\"item2.usdt && item2.price\">~${{ item2.usdt }}</template>\r\n              </div>\r\n            </div>\r\n           \r\n          </div>\r\n          <div class=\"swap-slippage PL-20 PR-20 MT-10\">\r\n            \r\n            <div class=\"swap-slippage__select flex-row-between pointer\">\r\n              <div class=\"text-16\">GWEI</div>\r\n              <div class=\"flex-row-end\">\r\n                <el-tag \r\n                  class=\"swap-slippage__select-tag\" \r\n                  type=\"warning\" \r\n                  :effect=\"gWei == item ? 'dark' : 'light'\" \r\n                  @click=\"toggleGwei(item)\"\r\n                  v-for=\"item in gWeiList\"\r\n                  :key=\"item\">\r\n                  {{ item }}\r\n                </el-tag>\r\n                <input type=\"number\" class=\"swap-slippage__select-input\" placeholder=\"5\" v-model.number=\"gWei\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"PL-30 PR-30 MT-15\">\r\n            <div class=\"flex-row-between MB-10\">\r\n              <div class=\"text-yellow\">{{ t('swap.tolerance') }}</div>\r\n              <div class=\"text-blue\">{{progress}}%</div>\r\n            </div>\r\n            <div>\r\n              <el-slider v-model=\"progress\" :min=\"1\" :max=\"99\" @input=\"progressChange\"/>\r\n              <!--div class=\"flex-row-between text-yellow\">\r\n                <div>0%</div>\r\n                <div>100%</div>\r\n              </div-->\r\n            </div>\r\n          </div>\r\n          <el-button v-if=\"!isLogin\" class=\"swap-btn MT-30\" @click=\"loginFn\">{{ t('swap.connectWallet') }}</el-button>\r\n          <el-button v-else-if=\"!hasApprove\" :loading=\"approveLoading\" class=\"swap-btn MT-30\" @click=\"approveHandler\">{{ t('pledge.approve') }}</el-button>\r\n          <template v-else>\r\n            <el-button v-if=\"!item1.price\" disabled class=\"swap-btn MT-15\"> {{ t('swap.enterAmount') }} </el-button>\r\n            <el-button v-else class=\"swap-btn MT-15\" :loading=\"swapLoading\" @click=\"swapSubmit\">{{ t('swap.title') }}</el-button>\r\n          </template>\r\n          <div class=\"flex-row-between ML-30 MR-30 MT-20\">\r\n            <el-checkbox v-model=\"professional\" @change=\"checkChange\" size=\"large\">\r\n              <div class=\"flex-row-center\">\r\n                {{ $t('swap.professional') }}\r\n                <a target=\"_blank\" href=\"https://docs.teadao.app/chan-pin/jiao-huan/ru-he-jiao-yi-how-to-trade#zhuan-ye-mo-shi\">\r\n                  <el-icon class=\"ML-5\"><QuestionFilled /></el-icon>\r\n                </a>\r\n              </div>\r\n            </el-checkbox>\r\n            <el-checkbox v-model=\"intellectRouter\" :disabled=\"!professional\" label=\"智能路由\" size=\"large\" />\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n      <el-tab-pane :label=\"$t('swap.limit')\" name=\"Limit\" lazy>\r\n        <AutoSetting class=\"swap-left MR-20\" @copy=\"copyHandler\"/>\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"批量Swap\" name=\"BulkSwap\" lazy>\r\n        <SwapVue />\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n  <Tokens ref=\"tokens\" @change=\"tokenChange\" @update=\"tokenUpdate\"/>\r\n  <SwapConfirm ref=\"swapConfirm\" :confirm=\"swapHandler\" :amountOutMin=\"getBit(utils.formatUnits(amountOutMin.toString(), item2.decimals), 5)\"/>\r\n  <History ref=\"history\" />\r\n  <RpcList ref=\"rpcList\" />\r\n\r\n  <el-drawer\r\n    v-model=\"chartShow\"\r\n    direction=\"btt\"\r\n    :show-close=\"false\"\r\n    custom-class=\"swap-drawer\"\r\n    modal-class=\"swap-drawer__modal\"\r\n    append-to-body\r\n    :with-header=\"false\"\r\n  >\r\n    <div class=\"flex-row-start align-center MB-5 MT-20 MR-20\">\r\n      <el-button v-if=\"!isLogin\" class=\"swap-btn\" @click=\"loginFn\">{{ t('swap.connectWallet') }}</el-button>\r\n      <el-button v-else-if=\"!hasApprove\" :loading=\"approveLoading\" class=\"swap-btn\" @click=\"approveHandler\">{{ t('pledge.approve') }}</el-button>\r\n      <template v-else>\r\n        <el-button v-if=\"!item1.price\" disabled class=\"swap-btn\"> {{ t('swap.enterAmount') }} </el-button>\r\n        <el-button v-else class=\"swap-btn\" :loading=\"swapLoading\" @click=\"swapSubmit\">{{ t('swap.title') }}</el-button>\r\n      </template>\r\n      <el-icon :size=\"30\" color=\"#fff\" class=\"el-icon--left\" @click=\"chartShow = false\"><CircleCloseFilled /></el-icon>\r\n    </div>\r\n    <marquee\r\n        class=\"rank-lst flex-row-center\"\r\n        behavior=\"scroll\"\r\n        onmouseover=\"this.stop()\"\r\n        onmouseout=\"this.start()\">\r\n        <div class=\"flex-row-start align-center rank-lst__info\">\r\n          <div \r\n            class=\"rank-lst__item flex-row-start align-center pointer\" \r\n            v-for=\"item in rankList\" :key=\"item.address\"\r\n            @click=\"refreshPage(item)\">\r\n            <img :src=\"item.logo\" class=\"rank-lst__item--logo\" v-if=\"item.logo\"/>\r\n            <div class=\"rank-lst__item--logo\" v-else>{{item.symbol.substr(0,1)}}</div>\r\n            <div>{{ item.symbol }}</div>\r\n          </div>\r\n        </div>\r\n      </marquee>\r\n    <iframe class=\"swap-iframe\" :src=\"getChartUrl\" frameborder=\"0\"></iframe>\r\n  </el-drawer>\r\n</template>\r\n\r\n<script>\r\nimport Tokens from './modal/tokens.vue'\r\nimport SwapConfirm from './modal/swapConfirm.vue'\r\nimport RpcList from './modal/rpcList.vue'\r\nimport copy from 'copy-text-to-clipboard'\r\nimport { ElNotification } from 'element-plus'\r\nimport { utils, BigNumber } from 'ethers'\r\nimport { getBit, Tips, getLogo, setDocumentTitle } from '../../libs/utils'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport networkList from '@/api/abis/network.js'\r\nimport History from './modal/history.vue'\r\nimport i18n from '@/locals/index.js'\r\nimport { toRaw } from 'vue'\r\nimport axios from 'axios'\r\nimport AutoSetting from './auto.vue'\r\nimport SwapVue from '../tools/components/Swap.vue'\r\nconst { t } = i18n.global\r\nlet USDT_ADDRESS = '0x55d398326f99059fF775485246999027B3197955'\r\nconst BUSD_ADDRESS = '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56'\r\nlet path = [];\r\nlet addressPath = [];\r\nexport default {\r\n  data() {\r\n    return {\r\n      t,\r\n      utils,\r\n      getLogo,\r\n      getBit,\r\n      chartShow: false,\r\n      // 是否开启智能路由\r\n      intellectRouter: true,\r\n      // 是否开启专家模式\r\n      professional: false,\r\n      // 交易中loading\r\n      swapLoading: false,\r\n      // 授权中loading\r\n      approveLoading: false,\r\n      // 当前是否有授权\r\n      hasApprove: false,\r\n      activeName: 'Swap',\r\n      progress: 10,\r\n      // 是否登录\r\n      isLogin: false,\r\n      // 排行榜前10名\r\n      rankList: [],\r\n      gWei: 5,\r\n      gWeiList: [5, 7, 10, 15, 20],\r\n      // 交换记录\r\n      swapHistory: [],\r\n      type: '',\r\n      timer: null,\r\n      balanceTimer: null,\r\n      rankTimer: null,\r\n      // 登录类型\r\n      connectState: '',\r\n      // 第一个币种信息\r\n      item1: {\r\n        name: \"BNB\",\r\n        symbol: \"BNB\",\r\n        address: \"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\",\r\n        balance: '',\r\n        price: '',\r\n        loading: false\r\n      },\r\n      // 第二个币种信息\r\n      item2: {\r\n        name: \"BUSD\",\r\n        symbol: \"BUSD\",\r\n        address: \"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56\",\r\n        balance: '',\r\n        price: '',\r\n        loading: false\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Tokens,\r\n    History,\r\n    SwapConfirm,\r\n    RpcList,\r\n    AutoSetting,\r\n    SwapVue\r\n  },\r\n  watch: {\r\n    'currentNetwork.ChainID': {\r\n      immediate: true,\r\n      handler() {\r\n        const { Token } = this.currentNetwork\r\n        const item1 = Token[0]\r\n        const item2 = Token[1] || Token[0]\r\n        this.item1 = {...this.item1, ...item1}\r\n        this.item2 = {...this.item2, ...item2}\r\n        this.gWei = 5 * this.currentNetwork.GWEI\r\n        this.gWeiList = [\r\n          5 * this.currentNetwork.GWEI, \r\n          7 * this.currentNetwork.GWEI, \r\n          10 * this.currentNetwork.GWEI, \r\n          15 * this.currentNetwork.GWEI, \r\n          20 * this.currentNetwork.GWEI\r\n        ]\r\n      }\r\n    },\r\n  },\r\n  directives: {\r\n    bit: {\r\n      updated(el) {\r\n        el.value = el.value ? getBit(el.value, 5) : ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentNetwork', 'networkList', 'currentDex']),\r\n    amountOutMin() {\r\n      if (!this.item2.price) {\r\n        return BigNumber.from(0)\r\n      }\r\n      let price = utils.parseUnits(this.item2.price.toString(), this.item2.decimals)\r\n      let price1 = utils.parseUnits(this.item2.price.toString(), this.item2.decimals)\r\n      let progress = utils.parseUnits((this.progress).toString(), this.item2.decimals)\r\n      let num100 = utils.parseUnits('100', this.item2.decimals)\r\n      return price1.sub(price.mul(progress).div(num100))\r\n    },\r\n    getChartUrl() {\r\n      // 如果当前第二个币是属于特殊币种，则展示第一个币的图表信息\r\n      const list = this.currentNetwork.transferChartToken\r\n      const item = list.find(item => {\r\n        return item.address === this.item2.address\r\n      })\r\n      if (item) {\r\n        return `https://coinbrain.com/embed/bnb-${this.item1.address}?theme=custom&accent=3f3f3f&padding=16&background=242424&chart=1&trades=1&ratio=0.7`\r\n      } else {\r\n        return `https://coinbrain.com/embed/bnb-${this.item2.address}?theme=custom&accent=3f3f3f&padding=16&background=242424&chart=1&trades=1&ratio=0.7`\r\n      }\r\n      \r\n    }\r\n  },\r\n  beforeMount() {    \r\n    const { chart, type } = this.$route.query\r\n    this.chartShow = chart == 1 ? true : false\r\n    this.activeName = type ? type : this.activeName\r\n    // 定位dex\r\n    const key = this.$route.params.key || networkList[0].Dex[0].symbol\r\n    let dexIndex;\r\n    const netWorkIndex = networkList.findIndex(item => {\r\n      dexIndex = item.Dex.findIndex(sub => {\r\n        return sub.symbol === key\r\n      })\r\n      if (dexIndex >= 0) {\r\n        return item\r\n      }\r\n    })\r\n    this.setCurrentDex({\r\n      netWorkIndex,\r\n      dexIndex\r\n    })\r\n  },\r\n  mounted() {\r\n    // 狗链usdt需要用其他合约显示\r\n    if (this.currentNetwork.ChainID === '0x7d0') {\r\n      USDT_ADDRESS = '0x765277EebeCA2e31912C9946eAe1021199B39C61'\r\n    }\r\n    \r\n    const progress = localStorage.getItem('progress')\r\n    this.progress = progress ? JSON.parse(progress) : 10\r\n    this.isLogin = window.wallet.accounts[0] ? true : false\r\n    this.isLogin && this.loginCallBack()\r\n    window.wallet.on('accountChange', () => {\r\n      this.isLogin = window.wallet.accounts[0] ? true : false\r\n      if (!this.isLogin) {\r\n        this.clearTimer()\r\n      }\r\n      this.isLogin && this.loginCallBack()\r\n    })\r\n    this.getRankList()\r\n    this.rankTimer = setInterval(() => {\r\n      this.getRankList()\r\n    }, 5 * 60 * 1000)\r\n  },\r\n  beforeUnmount () {\r\n    this.clearTimer()\r\n  },\r\n  methods: {\r\n    ...mapActions(['setCurrentDex', 'setConnectDialog']),\r\n    tabChange() {\r\n      setDocumentTitle(`Tea Dao-${this.activeName}`)\r\n    },\r\n    getUsdt(price, address, key) {\r\n      if (!price || address.toLocaleLowerCase() == BUSD_ADDRESS.toLocaleLowerCase() || address.toLocaleLowerCase() == USDT_ADDRESS.toLocaleLowerCase()) {\r\n        this[key].usdt = ''\r\n        return\r\n      }\r\n      let promises = []\r\n      promises = [window.wallet.ContractWETH.getAmountsOut(utils.parseUnits(price, this[key].decimals), [\r\n        address,\r\n        USDT_ADDRESS\r\n      ])]\r\n      this.currentNetwork.TransferTokens.forEach(item => {\r\n        if (item.address != address && item.address != USDT_ADDRESS) {\r\n          promises.push(window.wallet.ContractWETH.getAmountsOut(utils.parseUnits(price, this[key].decimals), [\r\n            address,\r\n            item.address,\r\n            USDT_ADDRESS\r\n          ]))\r\n        }\r\n      })\r\n      Promise.allSettled(promises).then(data => {\r\n        let result = '';\r\n        data.forEach((item) => {\r\n          const {status, value} = item\r\n          if (status == \"fulfilled\") {\r\n            const last = value[value.length - 1]\r\n            if (!result) {\r\n              result = last\r\n            } else if (last.gt(result)) {\r\n              result = last\r\n            }\r\n          }\r\n        })\r\n        const contract = window.wallet.initContract(USDT_ADDRESS)\r\n        contract.decimals().then(decimals => {\r\n          this[key].usdt = getBit(utils.formatUnits(result.toString(), decimals), 3)\r\n        })\r\n      })\r\n    },\r\n    checkChange() {\r\n      if (!this.professional) {\r\n        this.intellectRouter = true\r\n      }\r\n    },\r\n    // 打开rpclist\r\n    openRpcList() {\r\n      this.$refs.rpcList.open(window.wallet.connectState)\r\n    },\r\n    // 获取排行榜列表\r\n    getRankList() {\r\n      axios.post('https://api.coinbrain.com/cointoaster/coins?size=100&sort=priceChange24h%3Adesc').then(data => {\r\n        let res = data.data.items.filter(item => {\r\n          const { totalLiquidityUsd, trades24h, logo } = item\r\n          if (totalLiquidityUsd > 10000 && trades24h > 50 && logo ) {\r\n            return item\r\n          }\r\n        })\r\n        this.rankList = res.sort((a, b) => b.trades24h - a.trades24h).slice(0, 10)\r\n      })\r\n    },\r\n    refreshPage(data) {\r\n      this.type = 'item2'\r\n      this.$refs.tokens.fastImport(data.address, false)\r\n    },\r\n    clearTimer() {\r\n      clearInterval(this.timer)\r\n      clearTimeout(this.balanceTimer)\r\n      clearInterval(this.rankTimer)\r\n      this.timer = null \r\n      this.balanceTimer = null\r\n      this.rankTimer = null\r\n    },\r\n    // 添加代币到钱包\r\n    addTokenHandler() {\r\n      const { symbol, address } = this.item2\r\n      window.wallet.addTokenToMeta(address, symbol, getLogo(address));\r\n    },\r\n    // 记录用户滑点\r\n    progressChange() {\r\n      localStorage.setItem('progress', this.progress)\r\n    },\r\n    // 切换上下币种\r\n    transformHandler(){\r\n      const res = toRaw(this.item1)\r\n      this.item1 = toRaw(this.item2)\r\n      this.item2 = res\r\n    },\r\n    maxHandler() {\r\n      let price = toRaw(this.item1.balance)\r\n      // 主网币需要留0.01\r\n      if (this.item1.address === this.currentNetwork.MainCoin.address) {\r\n        const data = utils.parseUnits('0.01', this.item1.decimals)\r\n        price = price.sub(data)\r\n      }\r\n      this.item1.price = utils.formatUnits(price, this.item1.decimals)\r\n      this.price1Change('item1')\r\n    },\r\n    // 交换\r\n    async swapHandler () {\r\n      let promise;\r\n      let gaslimit\r\n      const payableAmount = utils.parseUnits(this.item1.price.toString(), this.item1.decimals)\r\n      const amountOutMin = this.amountOutMin\r\n      const to = window.wallet.accounts[0]\r\n      const deadline = utils.parseUnits((new Date().getTime() + 15 * 60 * 1000).toString(), this.item1.decimals)\r\n      // 主网币换其他币\r\n      if (this.item1.address == this.currentNetwork.MainCoin.address) {\r\n        try {\r\n          gaslimit = await window.wallet.ContractWETH.estimateGas[this.currentNetwork.MainCoin_TO_OTHER](\r\n            amountOutMin,\r\n            path,\r\n            to,\r\n            deadline,\r\n            {\r\n              value: payableAmount,\r\n              gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n            }\r\n          )\r\n          promise = window.wallet.ContractWETH[this.currentNetwork.MainCoin_TO_OTHER](\r\n            amountOutMin,\r\n            path,\r\n            to,\r\n            deadline,\r\n            {\r\n              value: payableAmount,\r\n              gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n              gasLimit: gaslimit.mul(135).div(100)\r\n            }\r\n          )\r\n        } catch (error) {\r\n          Tips(error)\r\n        }\r\n        \r\n      } else if(this.item2.address == this.currentNetwork.MainCoin.address){\r\n        try{\r\n          gaslimit = await window.wallet.ContractWETH.estimateGas[this.currentNetwork.OTHER_TO_MainCoin](\r\n            payableAmount,\r\n            amountOutMin,\r\n            path,\r\n            to,\r\n            deadline,\r\n            {\r\n              gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n            }\r\n          )\r\n          \r\n          // 其他币换主网币\r\n          promise = window.wallet.ContractWETH[this.currentNetwork.OTHER_TO_MainCoin](\r\n            payableAmount,\r\n            amountOutMin,\r\n            path,\r\n            to,\r\n            deadline,\r\n            {\r\n              gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n              gasLimit: gaslimit.mul(135).div(100)\r\n            }\r\n          )\r\n        } catch (error) {\r\n          Tips(error)\r\n        }\r\n      } else {\r\n        try{\r\n          gaslimit = await window.wallet.ContractWETH.estimateGas.swapExactTokensForTokensSupportingFeeOnTransferTokens(\r\n            payableAmount,\r\n            amountOutMin,\r\n            path,\r\n            to,\r\n            deadline,\r\n            {\r\n              gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n            }\r\n          )\r\n          // 其他币之间互换\r\n          promise = window.wallet.ContractWETH.swapExactTokensForTokensSupportingFeeOnTransferTokens(\r\n            payableAmount,\r\n            amountOutMin,\r\n            path,\r\n            to,\r\n            deadline,\r\n            {\r\n              gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n              gasLimit: gaslimit.mul(135).div(100)\r\n            }\r\n          )\r\n        } catch (error) {\r\n          Tips(error)\r\n        }\r\n      }\r\n      if (!promise) {\r\n        return\r\n      }\r\n      this.swapLoading = true\r\n      try {\r\n        const tx = await promise\r\n        try {\r\n          clearInterval(this.timer)\r\n          await tx.wait()\r\n          ElNotification({\r\n            type: t('swap.success'),\r\n            title: t('swap.success'),\r\n            message: t('swap.tradeSuccess')\r\n          })\r\n          this.loginCallBack()\r\n          this.swapHistory.push({\r\n            item1: JSON.parse(JSON.stringify(this.item1)),\r\n            item2: JSON.parse(JSON.stringify(this.item2)),\r\n            tx: JSON.parse(JSON.stringify(tx)),\r\n            status: 1\r\n          })\r\n        } catch (error) {\r\n          this.swapHistory.push({\r\n            item1: JSON.parse(JSON.stringify(this.item1)),\r\n            item2: JSON.parse(JSON.stringify(this.item2)),\r\n            tx: JSON.parse(JSON.stringify(tx)),\r\n            status: 0\r\n          })\r\n          Tips(error)\r\n        }\r\n        this.price1Change('item1')\r\n        localStorage.setItem(window.wallet.accounts[0]+this.currentDex.address+'swapHistory', JSON.stringify(this.swapHistory))\r\n      } catch (error) {\r\n        Tips(error)\r\n      }\r\n      \r\n      this.swapLoading = false\r\n    },\r\n    // 价格变化\r\n    async price1Change(key) {\r\n      let otherKey = key == 'item1' ? 'item2' : 'item1'\r\n      this[key].price = getBit(this[key].price.replace(/[^0-9.]/g,''), 5) \r\n      if (this[key].price == '') {\r\n        this[key].price = ''\r\n        this[otherKey].price = ''\r\n        return\r\n      }\r\n      const price = this[key].price.toString()\r\n      if (price === '0.') {\r\n        return\r\n      }\r\n      clearInterval(this.timer)\r\n      this.timer = setInterval(() => {\r\n        this.price1Change(key)\r\n      }, 300)\r\n  \r\n      const bool = this.currentNetwork.TransferTokens.find(item => {\r\n        return item.address.toLocaleLowerCase() === this.item2.address.toLocaleLowerCase()\r\n      })\r\n      let funKey = key == 'item1' ? 'getAmountsOut' : 'getAmountsIn'\r\n      let promises = []\r\n      promises = [window.wallet.ContractWETH[funKey](utils.parseUnits(price, this[key].decimals), [\r\n        this.item1.address,\r\n        this.item2.address\r\n      ])]\r\n      addressPath = [[this.item1.address,this.item2.address]]\r\n      // 智能路由\r\n      if (this.intellectRouter) {\r\n        this.currentNetwork.TransferTokens.forEach(item => {\r\n          if (item.address != this[key].address && item.address != this[otherKey].address) {\r\n            addressPath.push([this.item1.address,item.address,this.item2.address])\r\n            promises.push(window.wallet.ContractWETH[funKey](utils.parseUnits(price, this[key].decimals), [\r\n              this.item1.address,\r\n              item.address,\r\n              this.item2.address\r\n            ]))\r\n            // 如果当前需要转换的币不是用来中转的币，则需要再查一遍\r\n            if (!bool) {\r\n              this.currentNetwork.TransferTokens.forEach(sub => {\r\n                if (item.address != sub.address) {\r\n                  addressPath.push([this.item1.address,item.address, sub.address, this.item2.address])\r\n                  promises.push(window.wallet.ContractWETH[funKey](utils.parseUnits(price, this[key].decimals), [\r\n                    this.item1.address,\r\n                    item.address,\r\n                    sub.address,\r\n                    this.item2.address\r\n                  ]))\r\n                }\r\n              })\r\n            }\r\n          }\r\n        })\r\n      }\r\n      \r\n      Promise.allSettled(promises).then(data => {\r\n          let result = '';\r\n          let lastIndex;\r\n          data.forEach((item, index) => {\r\n            const {status, value} = item\r\n            if (status == \"fulfilled\") {\r\n              const last = key == 'item1' ? value[value.length - 1] : value[0]\r\n              if (!result) {\r\n                result = last\r\n                lastIndex = index\r\n              } else if (last.gt(result)) {\r\n                result = last\r\n                lastIndex = index\r\n              }\r\n            }\r\n          })\r\n          if (result && this[key].price && this[key].price != '0') {\r\n            // console.log(lastIndex, '最多可以换'+utils.formatUnits(result.toString(), this[otherKey].decimals)+'-----------'+result.toString())\r\n            this[otherKey].price = utils.formatUnits(result, this[otherKey].decimals)\r\n            path = addressPath[lastIndex]\r\n          }\r\n      })\r\n    },\r\n    async loginCallBack(loading = true) {\r\n      clearTimeout(this.balanceTimer)\r\n      this.item1.loading = loading\r\n      this.item2.loading = loading\r\n      this.connectState = window.wallet.connectState\r\n      const history = localStorage.getItem(window.wallet.accounts[0]+this.currentDex.address+'swapHistory')\r\n      this.swapHistory = history ? JSON.parse(history): []\r\n      this.getItemBalance(this.item1.address, 'item1').then(({balance, decimals}) => {\r\n        this.item1.balance = balance\r\n        this.item1.decimals = decimals\r\n        this.item1.loading = false\r\n      })\r\n      this.getItemBalance(this.item2.address, 'item2').then(({balance, decimals}) => {\r\n        this.item2.balance = balance\r\n        this.item2.decimals = decimals\r\n        this.item2.loading = false\r\n      })\r\n      this.balanceTimer = setTimeout(() => {\r\n        this.loginCallBack(false)\r\n      }, 3000)\r\n    },\r\n    // 获取币种余额\r\n    async getItemBalance(address, keyType) {\r\n      if (!address) {\r\n        return\r\n      }\r\n      let balance;\r\n      const contract = window.wallet.initContract(address)\r\n      const decimals = await contract.decimals()\r\n      if (address == this.currentNetwork.MainCoin.address) {\r\n        this.hasApprove = true\r\n        balance = await window.wallet.provider.getBalance()\r\n      } else {\r\n        if (keyType == 'item1') {\r\n          try {\r\n            const data = await contract.allowance(window.wallet.accounts[0], this.currentDex.address)\r\n            const res = Math.floor(Number(utils.formatUnits(data, decimals)))\r\n            if (res <= 0) {\r\n              this.hasApprove = false\r\n              // 钱包模式下自动授权\r\n              if (this.connectState == 3) {\r\n                await this.approveHandler()\r\n              }\r\n            } else {\r\n              this.hasApprove = true\r\n            }\r\n          } catch (error) {\r\n            console.log(error)\r\n            // Tips(error)\r\n          }\r\n        }\r\n        balance = await contract.balanceOf(window.wallet.accounts[0])\r\n      }\r\n      return {\r\n        balance,\r\n        decimals\r\n      }\r\n    },\r\n    // 授权\r\n    async approveHandler() {\r\n      this.approveLoading = true\r\n      try {\r\n        const contract = window.wallet.initContract(this.item1.address)\r\n        const tx = await contract.approve(\r\n          this.currentDex.address,\r\n          utils.parseEther('10000000000000'),\r\n          {gasPrice: utils.parseUnits('10', 9)}\r\n        )\r\n        await tx.wait();\r\n        this.hasApprove = true\r\n      } catch (error) {\r\n        Tips(error)\r\n      }\r\n      this.approveLoading = false\r\n    },\r\n    // 更新币种信息\r\n    tokenUpdate({address, name, symbol}) {\r\n      if (this.item1.address == address) {\r\n        this.item1.name = name\r\n        this.item1.symbol = symbol\r\n      } else if (this.item2.address == address) {\r\n        this.item2.name = name\r\n        this.item2.symbol = symbol\r\n      }\r\n    },\r\n    // 修改需要转换的币\r\n    async tokenChange(data, type) {\r\n      type = type || this.type\r\n      if (type == 'item1') {\r\n        if (this.item2.address == data.address) {\r\n          this.item2 = JSON.parse(JSON.stringify(this.item1))\r\n        }\r\n      } else {\r\n        if (this.item1.address == data.address) {\r\n          if (this.item1.address == data.address) {\r\n            this.item1 = JSON.parse(JSON.stringify(this.item2))\r\n          }\r\n        }\r\n      }\r\n      data.price = data.price || '0'\r\n      this[type] = data\r\n      this.isLogin && this.loginCallBack()\r\n      this.price1Change(type == 'item1' ? 'item2' : 'item1')\r\n    },\r\n    copyHandler(text) {\r\n      copy(text)\r\n      ElNotification({\r\n        type: t('swap.success'),\r\n        title: t('swap.success'),\r\n        message: t('swap.copySuccess')\r\n      })\r\n    },\r\n    toggleGwei(data) {\r\n      this.gWei = data\r\n    },\r\n    openHistory() {\r\n      this.$refs.history.open()\r\n    },\r\n    openTokensDialog(type) {\r\n      this.type = type\r\n      this.$refs.tokens.open([this.item1.address, this.item2.address,])\r\n    },\r\n    swapSubmit() {\r\n      if (this.professional) {\r\n        this.swapHandler()\r\n      } else {\r\n        this.$refs.swapConfirm.open(this.item1, this.item2)\r\n      }\r\n    },\r\n    // 连接钱包\r\n    loginFn() {\r\n      this.setConnectDialog(true)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.buy-item{\r\n  width: calc(50% - 5px);\r\n  height: 40px;\r\n  border: 1px solid rgba(42, 42, 42, 1);\r\n  border-radius: 8px;\r\n  padding: 0 10px;\r\n  margin-top: 10px;\r\n  margin-right: 10px;\r\n  &:nth-of-type(2n) {\r\n    margin-right: 0;\r\n  }\r\n  .buy-item__input{\r\n    background: none;\r\n    text-align: right;\r\n    color: #fff;\r\n  }\r\n}\r\n.rank-lst {\r\n  width: 100%;\r\n  height: 50px;\r\n  .rank-lst__info{\r\n    width: 1000px;\r\n  }\r\n  .rank-lst__item {\r\n    font-size: 16px;\r\n    color: #fff;\r\n    margin-right: 20px;\r\n    .rank-lst__item--logo{\r\n      width: 26px;\r\n      height: 26px;\r\n      margin-right: 10px;\r\n      border-radius: 50%;\r\n      background: rgb(255, 136, 136);\r\n      color: #fff;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 26px;\r\n    }\r\n  }\r\n}\r\n.swap{\r\n  justify-content: center;\r\n}\r\n.swap-iframe{\r\n  width: 730px;\r\n  height: 625px;\r\n  max-width: 100%;\r\n  border-radius: 10px;\r\n}\r\n.swap-left{\r\n  width: 730px;\r\n}\r\n.swap-drawer{\r\n  display: none;\r\n  height: 100% !important;\r\n  .el-drawer__body{\r\n    padding: 0 !important;\r\n  }\r\n}\r\n.swap-drawer__modal{\r\n  display: none;\r\n}\r\n\r\n@media only screen and (max-width: 900px) {\r\n  .swap-iframe{\r\n    display: none;\r\n  }\r\n  \r\n  .swap-drawer{\r\n    display: block;\r\n    .swap-iframe{\r\n      width: 100%;\r\n      height: calc(100vh - 90px);\r\n      display: block;\r\n    }\r\n  }\r\n  .swap-drawer__modal{\r\n    display: block;\r\n  }\r\n  .swiper {\r\n    padding: 0 15px;\r\n  }\r\n}\r\n\r\n@media only screen and (max-width: 500px) {\r\n  .swap-slippage__select{\r\n    flex-direction: column;\r\n    align-items: self-start;\r\n  }\r\n  .swap-info .text-16{\r\n    margin-bottom: 10px;\r\n  }\r\n  .swap-slippage__select-tag{\r\n    margin-right: 5px !important;\r\n  }\r\n}\r\n\r\n.network-list{\r\n  position: fixed;\r\n  top: 50px;\r\n  right: 0;\r\n  width: 300px;\r\n  height: 100%;\r\n  background: #fff;\r\n  color: #333;\r\n  .network-list__title{\r\n    font-size: .18rem;\r\n    line-height: 1rem;\r\n    color: #999;\r\n  }\r\n\r\n  .network-list__item{\r\n    font-size: .24rem;\r\n    line-height: 1rem;\r\n    text-align: center;\r\n    background: #FCBE2F;\r\n    &.active{\r\n      background: #898989;\r\n    }\r\n  }\r\n}\r\n.el-checkbox__input.is-checked .el-checkbox__inner{\r\n  background: rgba(252, 190, 47, 1);\r\n  border-color: rgba(252, 190, 47, 1);\r\n}\r\n.el-checkbox__input.is-checked+.el-checkbox__label{\r\n  color: rgba(252, 190, 47, 1);\r\n}\r\n.el-slider__bar{\r\n  background: rgba(252, 190, 47, 1);\r\n}\r\n.el-slider__button{\r\n  border-color: rgba(252, 190, 47, 1);\r\n}\r\n.swap-slippage__select-input{\r\n  width: 40px;\r\n  height: 20px;\r\n  background: none;\r\n  border-radius: 4px;\r\n  border: 1px solid #898989;\r\n  text-align: center;\r\n  color: #fff;\r\n}\r\n.swap-slippage__select-tag{\r\n  height: 20px;\r\n  line-height: 18px;\r\n  margin-right: 10px;\r\n}\r\n  .swap-tabs{\r\n    margin: 0 20px;\r\n    width: auto;\r\n    max-width: 100%;\r\n    .el-tab-pane{\r\n      display: flex;\r\n      align-items: flex-start;\r\n    }\r\n    .el-tabs__item{\r\n      color: #fff;\r\n    }\r\n    .el-tabs__item.is-active{\r\n      color: #FCBE2F !important;\r\n    }\r\n    .el-tabs__active-bar{\r\n      background: #FCBE2F !important;\r\n    }\r\n    .el-tabs__nav-wrap::after{\r\n      display: none;\r\n    }\r\n    .el-tabs__active-bar{\r\n      background: #fff;\r\n    }\r\n  }\r\n  .swap-info{\r\n    width: 410px;\r\n    max-width: 100%;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 18px;\r\n    background: rgba(39,39,39,.8);\r\n    .swap-top{\r\n      border-bottom: 1px dashed hsla(0,0%,100%,.2);\r\n      position: relative;\r\n      text-align: center;\r\n      padding: 10px;\r\n      .swap-top__icon{\r\n        position: absolute;\r\n        left: 30px;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        width: 24px;\r\n        height: 19px;\r\n        &.right{\r\n          left: auto;\r\n          right: 30px;\r\n        }\r\n        &.rpc{\r\n          width: 28px;\r\n          height: 28px;\r\n          left: auto;\r\n          right: 70px;\r\n          top: 57%;\r\n        }\r\n        &.auto-rpc{\r\n          width: 28px;\r\n          height: 28px;\r\n          left: auto;\r\n          right: 20px;\r\n          top: 57%;\r\n        }\r\n      }\r\n      .swap-info__title{\r\n        font-size: 20px;\r\n        color: #fff;\r\n      }\r\n      .swap-info__title-info{\r\n        font-size: 14px;\r\n        color: rgba(255, 243, 204, 1);\r\n      }\r\n    }\r\n    .swap-item{\r\n      padding: 10px 20px;\r\n    }\r\n    .swap-item__top{\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n      .swap-item__top-icon{\r\n        width: 30px;\r\n        height: 30px;\r\n      }\r\n      .swap-item__top-wallet{\r\n        width: 20px;\r\n        height: auto;\r\n      }\r\n      .swap-item__top-name{\r\n        max-width: 60px;\r\n      }\r\n    }\r\n    .swap-item__input{\r\n      width: 100%;\r\n      height: 65px;\r\n      border: 1px solid #494949;\r\n      border-radius: 18px;\r\n      background: none;\r\n      font-size: 14px;\r\n      padding: 0 20px;\r\n      color: #fff;\r\n      position: relative;\r\n      .swap-item__input-usdt{\r\n        position: absolute;\r\n        bottom: 4px;\r\n        right: 20px;\r\n        color: #999;\r\n      }\r\n\r\n      >input{\r\n        width: 100%;\r\n        height: 100%;\r\n        background: none;\r\n        color: #fff;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n    .swap-item__input.is-disabled{\r\n      background: #666;\r\n      cursor: no-drop;\r\n    }\r\n    .swap-transform{\r\n      width: 40px;\r\n      height: 40px;\r\n      margin: 5px auto;\r\n    }\r\n    .text-yellow{\r\n      font-size: 12px;\r\n      color: rgba(240, 185, 11, 1);\r\n    }\r\n    .text-blue{\r\n      font-size: 16px;\r\n      color: rgba(31, 199, 213, 1);\r\n    }\r\n    .text-16{\r\n      font-size: 16px;\r\n    }\r\n    .text-14{\r\n      font-size: 14px;\r\n    }\r\n    .swap-slippage__select{\r\n      background: rgba(39, 39, 39, 0.8);;\r\n      border: 1px solid #494949;\r\n      border-radius: 8px;\r\n      padding: 10px 20px;\r\n    }\r\n    \r\n  }\r\n  .swap-btn{\r\n    margin-right: 30px;\r\n    margin-left: 30px;\r\n    width: calc(100% - 60px);\r\n    height: 60px;\r\n    background: #fcbf2f;\r\n    border: 1px solid #494949;\r\n    border-radius: 18px;\r\n    color: #fff;\r\n    &.is-disabled{\r\n      background: #434441;\r\n      border: 1px solid #494949;\r\n    }\r\n    &:hover, &:focus, &:active{\r\n      background: #FCBE2F;\r\n      color: #fff;\r\n      border: none;\r\n    }\r\n  }\r\n</style>","<template>\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    :title=\"$t('swap.confirmSwap')\"\r\n    width=\"620px\"\r\n    custom-class=\"confirm\"\r\n  >\r\n    <div class=\"flex-row-between confirm-item\">\r\n        <div class=\"flex-row-start align-center\">\r\n            <img v-lazy=\"getLogo(item1.address)\" class=\"confirm-item__icon MR-5\"/>\r\n            {{getBit(item1.price, 9)}}\r\n        </div>\r\n        <div>{{item1.symbol}}</div>\r\n    </div>\r\n    <el-icon color=\"#fff\" :size=\"20\" class=\"MT-20 MB-20\"><Bottom /></el-icon>\r\n    <div class=\"flex-row-between confirm-item\">\r\n        <div class=\"flex-row-start align-center\">\r\n            <img v-lazy=\"getLogo(item2.address)\" class=\"confirm-item__icon MR-5\"/>\r\n           {{getBit(item2.price, 9)}}\r\n        </div>\r\n        <div>{{item2.symbol}}</div>\r\n    </div>\r\n    <!-- <div class=\"text-white MT-30\">Output is estimated. You will receive at least 15.7901 BUSD or the transaction will revert.</div> -->\r\n    <div class=\"confirm-info\">\r\n        <div class=\"flex-row-between MB-10\">\r\n            <div>{{ t('swap.price') }}</div>\r\n            <div class=\"flex-row-end\">\r\n                {{getBit(item2.price / item1.price, 5)}} {{item2.symbol}} / {{item1.symbol}}\r\n            </div>\r\n        </div>\r\n        <div class=\"flex-row-between MB-10\">\r\n            <div class=\"flex-row-start align-center\">\r\n                <div>{{ t('swap.minimum') }}</div>\r\n                <el-tooltip placement=\"right\">\r\n                    <template #content> {{t('swap.tips1')}},<br/> {{t('swap.tips2')}}. </template>\r\n                    <el-icon class=\"ML-5 pointer\"><QuestionFilled /></el-icon>\r\n                </el-tooltip>\r\n            </div>\r\n            <div class=\"flex-row-end\">\r\n                {{ amountOutMin }} {{item2.symbol}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <el-button class=\"confirm-btn MT-30\" :loading=\"loading\" @click=\"confirmHandler\">{{ t('swap.confirmSwap') }}</el-button>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { utils } from 'ethers'\r\nimport { getBit, getLogo } from '../../../libs/utils'\r\nexport default {\r\n    name: 'swapConfirm',\r\n    props: {\r\n        amountOutMin: String,\r\n        confirm: Function\r\n    },\r\n    data() {\r\n        return {\r\n            utils,\r\n            getBit,\r\n            getLogo,\r\n            dialogVisible: false,\r\n            item1: {},\r\n            item2: {},\r\n            loading: false\r\n        }\r\n    },\r\n    methods: {\r\n        open(item1, item2) {\r\n            this.item1 = item1\r\n            this.item2 = item2\r\n            this.dialogVisible = true\r\n        },\r\n        confirmHandler() {\r\n            this.loading = true\r\n            this.confirm().finally(() => {\r\n                this.loading = false\r\n                this.dialogVisible = false\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .confirm{\r\n        background: rgb(39, 38, 44);\r\n        border-radius: 32px;\r\n        max-height: 100vh;\r\n        max-width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        color: #fff;\r\n        .el-dialog__title{\r\n            color: #FFF;\r\n        }\r\n        .el-dialog__close{\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n        }\r\n        .el-dialog__header{\r\n            border-bottom: 1px solid #5d5d5d;\r\n        }\r\n        .el-dialog__body{\r\n            flex: 1;\r\n            height: 100%;\r\n            overflow: hidden;\r\n            padding: 20px 30px;\r\n            color: #fff;\r\n        }\r\n        .confirm-item{\r\n            color: #fff;\r\n            font-size: 18px;\r\n            font-weight: bold;\r\n        }\r\n        .confirm-item__icon{\r\n            width: 24px;\r\n            height: 24px;\r\n        }\r\n        .confirm-info{\r\n            margin-top: 24px;\r\n            padding: 16px;\r\n            border-radius: 16px;\r\n            border: 1px solid rgb(56, 50, 65);\r\n            background-color: rgb(8, 6, 11);\r\n        }\r\n        .text-green{\r\n            color: rgb(49, 208, 170);\r\n        }\r\n        .confirm-btn{\r\n            width: 100%;\r\n            height: 48px;\r\n            border-radius: 18px;\r\n            height: 60px;\r\n            background: #FCBE2F;\r\n            border: 1px solid #2A2A2A;\r\n            border-radius: 18px;\r\n            color: #fff;\r\n            &.is-disabled{\r\n                background: #e4e7ed;\r\n            }\r\n        }\r\n    }\r\n</style>","import { render } from \"./swapConfirm.vue?vue&type=template&id=546a8dae\"\nimport script from \"./swapConfirm.vue?vue&type=script&lang=js\"\nexport * from \"./swapConfirm.vue?vue&type=script&lang=js\"\n\nimport \"./swapConfirm.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    :title=\"$t('swap.history')\"\r\n    width=\"420px\"\r\n    custom-class=\"tokens\"\r\n  >\r\n    <div class=\"flex-column-start tokens-content\">\r\n        <div class=\"flex-h__1 tokens-list\">\r\n            <div \r\n                class=\"tokens-list__item pointer flex-row-start align-center pointer\"\r\n                :class=\"{'text-red': item.status == 0}\"\r\n                v-for=\"(item, index) in history\"\r\n                :key=\"index\"\r\n                @click=\"selectHandler(item)\"\r\n            >\r\n                <div class=\"flex-1\">\r\n                    <div class=\"token-list__item-title\">Swap {{item.item1.price}} {{item.item1.symbol}} for {{item.item2.price}} {{item.item2.symbol}}</div>\r\n                </div>\r\n                <el-icon :size=\"30\" color=\"red\" class=\"ML-10\" v-if=\"item.status == 0\"><Close /></el-icon>\r\n                <el-icon :size=\"30\" color=\"#fff\" class=\"ML-10\" v-else><Check /></el-icon>\r\n            </div>\r\n        </div>\r\n        <el-empty description=\"Empty History\" v-if=\"history.length <= 0\"></el-empty>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { utils } from 'ethers'\r\nimport { getBit, Tips } from '../../../libs/utils'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n    name: 'History',\r\n    data() {\r\n        return {\r\n            utils,\r\n            getBit,\r\n            dialogVisible: false,\r\n            history: []\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['currentNetwork', 'currentDex']),\r\n    },\r\n    \r\n    methods: {\r\n        open() {\r\n            this.dialogVisible = true\r\n            const history = localStorage.getItem(window.wallet.accounts[0]+this.currentDex.address + 'swapHistory')\r\n            this.history = history ? JSON.parse(history) : []\r\n            this.history = this.history.reverse()\r\n        },\r\n        selectHandler(item) {\r\n            window.open(`https://bscscan.com/tx/${item.tx.hash}`)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tokens-list__import-name{\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #fff;\r\n}\r\n.tokens-list__import-desc{\r\n    font-size: 14px;\r\n    color: rgb(165, 165, 165);\r\n}\r\n.tokens-list__import-btn,.tokens-list__import-btn:hover{\r\n    background: #FCBE2F;\r\n    border: 1px solid #2A2A2A;\r\n    color: #fff;\r\n}\r\n    .tokens{\r\n        background: rgb(39, 38, 44);\r\n        border-radius: 32px;\r\n        max-height: 100vh;\r\n        max-width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        .el-dialog__close{\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n        }\r\n        .el-dialog__title{\r\n            color: #FFF;\r\n        }\r\n        .el-dialog__header{\r\n            border-bottom: 1px solid #5d5d5d;\r\n        }\r\n        .el-dialog__body{\r\n            flex: 1;\r\n            height: 100%;\r\n            overflow: hidden;\r\n            padding: 0;\r\n        }\r\n        .tokens-content{\r\n            height: 100%;\r\n        }\r\n        .tokens-input{\r\n            background-color: rgb(55, 47, 71);\r\n            border-radius: 16px;\r\n            color: rgb(244, 238, 255);\r\n            display: block;\r\n            font-size: 16px;\r\n            height: 48px;\r\n            outline: 0px;\r\n            padding: 0px 16px;\r\n            width: calc(100% - 60px);\r\n            border: 1px solid rgb(38, 33, 48);\r\n            margin: 20px;\r\n        }\r\n        .tokens-list{\r\n            overflow: auto;\r\n            max-height: 400px;\r\n            &::-webkit-scrollbar {\r\n                width: 8px;\r\n            }\r\n            &::-webkit-scrollbar-thumb {\r\n                background: rgb(184, 173, 210);\r\n                border-radius: 8px;\r\n            }\r\n            &::-webkit-scrollbar-track {\r\n                border-radius: 10px;\r\n            }\r\n            .tokens-list__item{\r\n                padding: 20px 30px;\r\n                transition: all .3s;\r\n                &:hover{\r\n                    background: rgb(8, 6, 11);\r\n                }\r\n                &.is-disabled{\r\n                    background: #333;\r\n                    opacity: .5;\r\n                    cursor: not-allowed;\r\n                }\r\n                &.text-red{\r\n                    .token-list__item-title{\r\n                        color: red;\r\n                    }\r\n                }\r\n            }\r\n            .tokens-list__item-icon{\r\n                width: 24px;\r\n                height: 24px;\r\n            }\r\n            .token-list__item-title{\r\n                color: #fff;\r\n                font-size: 16px;\r\n                font-weight: bold;\r\n            }\r\n            .token-list__item-desc{\r\n                color: #999;\r\n            }\r\n            .token-list__item-price{\r\n                font-size: 14px;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n</style>","import { render } from \"./history.vue?vue&type=template&id=3acffd53\"\nimport script from \"./history.vue?vue&type=script&lang=js\"\nexport * from \"./history.vue?vue&type=script&lang=js\"\n\nimport \"./history.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n    <div class=\"swap-auto flex-row-start\">\r\n        <div class=\"swap-info PB-20 MR-20\">\r\n            <div class=\"swap-top\">\r\n                <div class=\"swap-info__title MB-10\">限价交换</div>\r\n                <div class=\"swap-info__title-info\">提交限制订单以指定的条件完成交易</div>\r\n                <img src=\"@/assets/images/rpc.png\" class=\"swap-top__icon auto-rpc pointer\" @click=\"openRpcList\"/>\r\n            </div>\r\n            <div class=\"swap-item\">\r\n            <div class=\"swap-item__top flex-row-between\">\r\n                <div class=\"flex-row-start align-center pointer\">\r\n                <div class=\"flex-row-start align-center\" @click=\"openTokensDialog('item1')\">\r\n                    <img v-lazy=\"getLogo(item1.address)\" class=\"swap-item__top-icon MR-10\"/>\r\n                    <div class=\"swap-item__top-name text-overflow__1\">{{item1.symbol}}</div>\r\n                    <el-icon class=\"ML-5\">\r\n                    <ArrowDown />\r\n                    </el-icon>\r\n                </div>\r\n                <el-icon class=\"ML-5\" @click=\"copyHandler(item1.address)\"><CopyDocument /></el-icon>\r\n                </div>\r\n                <div v-if=\"isLogin\">\r\n                <el-icon class=\"is-loading\" v-if=\"item1.loading\">\r\n                    <Loading />\r\n                </el-icon>\r\n                <template v-else-if=\"item1.balance\">\r\n                    {{ t('swap.balance') }}：{{getBit(utils.formatUnits(item1.balance, item1.decimals), 5) }}\r\n                </template>\r\n                </div>\r\n            </div>\r\n            <div class=\"swap-item__input MT-10 flex-row-start align-center\" :class=\"{'is-disabled': !isLogin}\">\r\n                <input :disabled=\"!isLogin || isOpen\" class=\"text-right flex-1\" v-bit v-model=\"item1.price\" @input=\"price1Change('item1')\" placeholder=\"0.00\">\r\n                <el-tag class=\"ML-10 ml-2 pointer\" effect=\"light\" v-if=\"isLogin\" @click=\"maxHandler\" type=\"warning\" size=\"small\">MAX</el-tag>\r\n            </div>\r\n            </div>\r\n            \r\n            <img src=\"@/assets/images/transform.png\" class=\"swap-transform pointer\" @click=\"transformHandler\" />\r\n            <div class=\"swap-item\">\r\n            <div class=\"swap-item__top flex-row-between\">\r\n                <div class=\"flex-row-start align-center pointer\">\r\n                <div class=\"flex-row-start align-center\" @click=\"openTokensDialog('item2')\">\r\n                    <img v-lazy=\"getLogo(item2.address)\" class=\"swap-item__top-icon MR-10\"/>\r\n                    <div class=\"swap-item__top-name text-overflow__1\">{{item2.symbol}}</div>\r\n                    <el-icon class=\"ML-5\">\r\n                    <ArrowDown />\r\n                    </el-icon>\r\n                </div>\r\n                <el-icon class=\"ML-5\" @click=\"copyHandler(item2.address)\"><CopyDocument /></el-icon>\r\n                </div>\r\n                <div v-if=\"isLogin\">\r\n                <el-icon class=\"is-loading\" v-if=\"item2.loading\">\r\n                    <Loading />\r\n                </el-icon>\r\n                <template v-else-if=\"item2.balance\">\r\n                    {{ t('swap.balance') }}：{{getBit(utils.formatUnits(item2.balance, item2.decimals), 5)}}\r\n                </template>\r\n                </div>\r\n            </div>\r\n            </div>\r\n            <div class=\"swap-slippage PL-20 PR-20 MT-10\">\r\n            \r\n            <div class=\"swap-slippage__select flex-row-between pointer\">\r\n                <div class=\"text-16\">GWEI</div>\r\n                <div class=\"flex-row-end\">\r\n                    <el-tag \r\n                        class=\"swap-slippage__select-tag\" \r\n                        type=\"warning\" \r\n                        :effect=\"gWei == item ? 'dark' : 'light'\" \r\n                        @click=\"toggleGwei(item)\"\r\n                        v-for=\"item in gWeiList\"\r\n                        :key=\"item\">\r\n                        {{ item }}\r\n                    </el-tag>\r\n                    <input type=\"number\" class=\"swap-slippage__select-input\" :disabled=\"isOpen\" placeholder=\"5\" v-model.number=\"gWei\">\r\n                </div>\r\n            </div>\r\n            </div>\r\n            <div class=\"PL-20 PR-20 MT-15\">\r\n            <div class=\"flex-row-between MB-10\">\r\n                <div class=\"text-yellow\">滑点容差（燃烧上限比例）</div>\r\n                <div class=\"text-blue\">{{progress}}%</div>\r\n            </div>\r\n            <div>\r\n                <el-slider v-model=\"progress\" :disabled=\"isOpen\" :min=\"1\" :max=\"99\"/>\r\n                <!--div class=\"flex-row-between text-yellow\">\r\n                <div>0%</div>\r\n                <div>100%</div>\r\n                </div-->\r\n            </div>\r\n            <div class=\"MT-15\">\r\n                <el-checkbox v-model=\"intellectTest\">\r\n                    <span class=\"text-fff\">智能检测流动性</span>\r\n                </el-checkbox>\r\n            </div>\r\n            <div class=\"flex-row-between align-center\">\r\n                <div class=\"flex-row-start buy-item align-center\">\r\n                    <span>交换次数</span>\r\n                    <input type=\"text\" :disabled=\"isOpen\" v-model=\"buyNum\" placeholder=\"0.00\" class=\"buy-item__input flex-1\">\r\n                </div>\r\n                <div class=\"flex-row-end\">\r\n                    <span class=\"text-18 MR-10\">限价模式</span>\r\n                    <el-switch\r\n                        v-model=\"priceLimitMode\"\r\n                        :disabled=\"isOpen\"\r\n                    />\r\n                </div>\r\n                \r\n            </div>\r\n\r\n            <div class=\"flex-row-start align-center\">\r\n                <template v-if=\"!priceLimitMode\">\r\n                    <div class=\"flex-row-start buy-item align-center\">\r\n                        <span>池子大于</span>\r\n                        <input type=\"text\" :disabled=\"isOpen\" placeholder=\"0.00\" class=\"buy-item__input flex-1\" v-model=\"circulationGt\">\r\n                    </div>\r\n                    <span class=\"MR-10 MT-10\">且</span>\r\n                    <div class=\"flex-row-start buy-item align-center\">\r\n                        <span>池子小于</span>\r\n                        <input type=\"text\" :disabled=\"isOpen\" placeholder=\"0.00\" class=\"buy-item__input flex-1\" v-model=\"circulationLt\">\r\n                    </div>\r\n                </template>\r\n                <template v-else>\r\n                    <div class=\"flex-row-start buy-item align-center\">\r\n                        <span>数量小于</span>\r\n                        <input type=\"text\" :disabled=\"isOpen\" placeholder=\"0.00\" class=\"buy-item__input flex-1\" v-model=\"numLt\">\r\n                    </div>\r\n                    <span class=\"MR-10 MT-10\">或</span>\r\n                    <div class=\"flex-row-start buy-item align-center\">\r\n                        <span>数量大于</span>\r\n                        <input type=\"text\" :disabled=\"isOpen\" placeholder=\"0.00\" class=\"buy-item__input flex-1\" v-model=\"numGt\">\r\n                    </div>\r\n                </template>\r\n            </div>\r\n            <div class=\"buy-tips MT-15\" v-if=\"!priceLimitMode\">池子是指的代币中的流动性,例如 TeaDAO/BNB 一般是指BNB</div>\r\n            <div class=\"buy-tips MT-15\" v-else>例如BNB兑换USDT，设置价值大于280，当USDT数量大于或等于280时将触发此事件</div>\r\n            </div>\r\n            <el-button v-if=\"!isLogin\" class=\"swap-btn MT-15\" @click=\"loginFn\">{{ t('swap.connectWallet') }}</el-button>\r\n            <template v-else>\r\n                <el-button v-if=\"!item1.price\" disabled class=\"swap-btn MT-15\"> {{ t('swap.enterAmount') }} </el-button>\r\n                <el-button v-else class=\"swap-btn MT-15\" @click=\"startHandler\">\r\n                    <div class=\"flex-row-center\">\r\n                        <el-icon class=\"is-loading MR-5\" v-if=\"isOpen\">\r\n                            <Loading />\r\n                        </el-icon>\r\n                        <span>{{ isOpen ? '停止' : '开始'}}</span>\r\n                    </div>\r\n                </el-button>\r\n            </template>\r\n        </div>\r\n        <div class=\"auto\">\r\n            <el-tabs v-model=\"activeName\" class=\"swap-tabs auto-tabs\">\r\n                <el-tab-pane label=\"控制面板\" name=\"address\">\r\n                    <div class=\"auto-tab__list\">\r\n                        <div class=\"auto-list__item flex-row-start align-center\" v-for=\"(item, index) in logList\" :key=\"index\">\r\n                            <el-icon class=\"MR-5\"><Clock /></el-icon>\r\n                            <div class=\"MR-20\">{{moment(item.date).format('HH:mm:ss')}}</div>\r\n                            <el-icon class=\"MR-10\"><Warning :color=\"getColor(item.type)\"/></el-icon>\r\n                            <div class=\"flex-1 text-overflow__1\">{{item.message}}</div>\r\n                        </div>\r\n                    </div>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"高级功能\" name=\"account\">\r\n                    <div class=\"account\">\r\n                        <div class=\"flex-row-between MB-20\">\r\n                            <div class=\"text-24 flex-row-start align-center\">\r\n                                友情提示[高级功能]（股权≥50 || 10个下级股权≥ 10）\r\n                                <a href=\"https://docs.teadao.app/gong-shi-jia-zhi/shen-me-shi-gu-quan\" class=\"MT-5\" target=\"_blank\">\r\n                                    <el-icon class=\"ML-5\"><QuestionFilled /></el-icon>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"flex-row-between MT-20 MB-10\">\r\n                            <div class=\"text-24 flex-row-start align-center\">\r\n                                多账号购买\r\n                                <a class=\"MT-5\" href=\"https://docs.teadao.app/chan-pin/xian-jia-jiao-huan/gao-ji-gong-neng#gong-neng-duo-zhang-hao-gou-mai\" target=\"_blank\">\r\n                                    <el-icon class=\"ML-5\"><QuestionFilled /></el-icon>\r\n                                </a>\r\n                            </div>\r\n                            <el-switch v-model=\"accountBuy\" :disabled=\"isOpen\" size=\"large\" :before-change=\"beforeChange\"/>\r\n                        </div>\r\n                        <el-input type=\"textarea\" ref=\"account\" v-show=\"accountBuy\" :disabled=\"isOpen\" v-model=\"accounts\" resize=\"none\" class=\"auto-tab__account\"></el-input>\r\n                    </div>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n            <div v-show=\"activeName === 'account'\">\r\n                <div class=\"buy-tips MT-15\">账号列表格式:1行1个账号,使用钱包地址即可不需要秘钥!;</div>\r\n                <div class=\"buy-tips MT-15\">多账号购买例如: 设置买入1USDT 账号有10个 那么每个账号会购买1 USDT 代币;</div>\r\n            </div>\r\n            <div v-show=\"activeName === 'address'\">\r\n                <div class=\"flex-row-between MT-15\">\r\n                    <div class=\"text-24 flex-row-start align-center\">\r\n                        <span class=\"text-18 MR-10\">抢链模式</span>\r\n                    <el-switch v-model=\"hignTest\" :disabled=\"isOpen\" size=\"large\"/>\r\n                    </div>\r\n                    <div class=\"text-24 flex-row-end align-center\">\r\n                        <span class=\"text-18 MR-10\">貔貅检测</span>\r\n                        <el-switch :disabled=\"isOpen\" v-model=\"braveTroopsTest\" size=\"large\"/>\r\n                         <!--div class=\"buy-tips MT-15\">如果不确定币方项目方是否靠谱可以开启本选项。开启后买入成功会 自动检测能否卖出，如果不能卖出会回滚交易。</div>\r\n                        <div class=\"buy-tips red MT-15\">如果确定币方项目方靠谱，无需开启。 特别注意:该功能只能检测特定方式的貔貅，并不保证百分百识别。 因为貔貅的套路太多，功能会</div-->\r\n                    </div>\r\n                </div>\r\n                <div class=\"MT-15\">\r\n                    <div class=\"flex-row-between MT-20\">\r\n                        <div class=\"text-24 flex-row-start align-center\">\r\n                            <span class=\"text-18 MR-10\">极速模式</span>\r\n                            <el-switch v-model=\"speedMode\" :disabled=\"isOpen\" size=\"large\"/>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div class=\"buy-input flex-row-between text-16 MT-20\">\r\n                        <span class=\"text-999\">gasLimit</span>\r\n                        <input type=\"text\" :disabled=\"isOpen\" v-model=\"hignRate\" class=\"buy-input__info text-right\" placeholder=\"0\">\r\n                    </div>\r\n                </div>\r\n                <!--div class=\"buy-tips MT-15\">极速模式是会提前设置好Gas上限</div>\r\n                <div class=\"buy-tips red MT-15\">非极速模式下是会先去检测需要多少Gas上限再执行购买，理论上来说会慢一拍！</div-->\r\n                \r\n                \r\n                <div class=\"flex-row-between MT-15\">\r\n                    <div class=\"text-24\">延迟购买（秒）</div>\r\n                    <div class=\"buy-input flex-row-end text-16\">\r\n                        <input type=\"text\" :disabled=\"isOpen\" class=\"buy-input__info text-right\" placeholder=\"0\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"buy-tips MT-15\">指定延迟时间购买，0为不延迟。比如输入1，则在延迟1秒后买入。</div>\r\n                <div class=\"buy-tips MT-15\">BSC链1个区块3秒，如果你期望延迟1区块以后买入，就输入3。(该功能只在普通模式下生效)</div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n    <Tokens ref=\"tokens\" @change=\"tokenChange\" @update=\"tokenUpdate\"/>\r\n    <RpcList ref=\"rpcList\" />\r\n</template>\r\n\r\n<script>\r\nimport { product } from '@/plugins/wallet/config.json'\r\nimport ABI from '@/api/abis/SwapHelper.json'\r\nimport { getBit, Tips, getLogo } from '../../libs/utils'\r\nimport Tokens from './modal/tokens.vue'\r\nimport { utils } from 'ethers'\r\nimport { toRaw } from 'vue'\r\nimport { mapGetters } from 'vuex'\r\nimport { ElNotification, ElMessageBox } from 'element-plus'\r\nimport moment from 'moment'\r\nimport POOL_ABI from '../../api/abis/pool'\r\nimport PAIR_ABI from '@/api/abis/getPair.js'\r\nimport RpcList from './modal/rpcList.vue'\r\nlet contract;\r\nlet addressPath = []\r\nlet path = [];\r\nexport default {\r\n    data() {\r\n        return {\r\n            getLogo,\r\n            getBit,\r\n            moment,\r\n            utils,\r\n            activeName: 'address',\r\n            gWei: 5,\r\n            gWeiList: [5, 7, 10, 15, 20],\r\n            progress: 10,\r\n            fee: null,\r\n            txPrice: null,\r\n            // 限价模式是否开启\r\n            priceLimitMode: false,\r\n            balanceTimer: null,\r\n            // 是否开启多账号购买\r\n            accountBuy: false,\r\n            buyLoading: false,\r\n            // 是否开启智能检测\r\n            intellectTest: false,\r\n            // 第一个币种信息\r\n            item1: {\r\n                name: \"BNB\",\r\n                symbol: \"BNB\",\r\n                address: \"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\",\r\n                balance: '',\r\n                price: '',\r\n                loading: false\r\n            },\r\n            // 第二个币种信息\r\n            item2: {\r\n                name: \"BUSD\",\r\n                symbol: \"BUSD\",\r\n                address: \"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56\",\r\n                balance: '',\r\n                price: '',\r\n                loading: false\r\n            },\r\n            accounts: '',\r\n            // 是否登录\r\n            isLogin: false,\r\n            // 购买次数\r\n            buyNum: 1,\r\n            // 当前流通量\r\n            circulation: '',\r\n            // 流通小于多少\r\n            circulationLt: '',\r\n            // 流通大于多少\r\n            circulationGt: '',\r\n            // 获得数量小于多少\r\n            numLt: '',\r\n            // 获得数量大于多少\r\n            numGt: '',\r\n            // 日志记录\r\n            logList: [],\r\n            // 是否开启高燃烧检测\r\n            hignTest: false,\r\n            // 是否开启极速模式\r\n            speedMode: false,\r\n            // 燃烧上限比例\r\n            hignRate: 2000000,\r\n            // 是否开启貔貅检测\r\n            braveTroopsTest: false,\r\n            // 延迟购买时间\r\n            delayTime: '',\r\n            // 是否开启\r\n            isOpen: false,\r\n        }\r\n    },\r\n    components: {\r\n        Tokens,\r\n        RpcList\r\n    },\r\n    watch: {\r\n        'currentNetwork.ChainID': {\r\n        immediate: true,\r\n        handler() {\r\n            const { Token } = this.currentNetwork\r\n            const item1 = Token[0]\r\n            const item2 = Token[1] || Token[0]\r\n            this.item1 = {...this.item1, ...item1}\r\n            this.item2 = {...this.item2, ...item2}\r\n            this.gWei = 5 * this.currentNetwork.GWEI\r\n            this.gWeiList = [\r\n                5 * this.currentNetwork.GWEI, \r\n                7 * this.currentNetwork.GWEI, \r\n                10 * this.currentNetwork.GWEI, \r\n                15 * this.currentNetwork.GWEI, \r\n                20 * this.currentNetwork.GWEI\r\n            ]\r\n        }\r\n        }\r\n    },\r\n    directives: {\r\n        bit: {\r\n            updated(el) {\r\n                el.value = el.value ? getBit(el.value, 5) : ''\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['currentNetwork', 'networkList', 'currentDex', 'hasPledge']),\r\n    },\r\n    mounted() {\r\n        if (window.wallet.accounts[0] && window.wallet.connectState == 3) {\r\n            this.isLogin = true    \r\n        }\r\n        this.isLogin && this.loginCallBack()\r\n        window.wallet.on('accountChange', () => {\r\n            if (window.wallet.accounts[0] && window.wallet.connectState == 3) {\r\n                this.isLogin = true    \r\n            } else {\r\n                this.isLogin = false\r\n            }\r\n            this.isLogin && this.loginCallBack()\r\n        })\r\n    },\r\n    methods: {\r\n        // 切换上下币种\r\n        transformHandler(){\r\n            const res = toRaw(this.item1)\r\n            this.item1 = toRaw(this.item2)\r\n            this.item2 = res\r\n        },\r\n        getColor(type) {\r\n            if (type == -1) {\r\n                return 'red'\r\n            } else if (type == 1) {\r\n                return 'green'\r\n            }\r\n        },\r\n        // 打开rpclist\r\n        openRpcList() {\r\n            this.$refs.rpcList.open(window.wallet.connectState)\r\n        },\r\n        beforeChange() {\r\n            if (!this.isLogin) {\r\n                this.$refs.account.blur()\r\n                ElMessageBox.confirm(\r\n                    '请先用私钥连接',\r\n                    'Warning',\r\n                    {\r\n                        confirmButtonText: '连接',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning',\r\n                    }\r\n                ).then(() => {\r\n                    this.loginFn()\r\n                })\r\n                return false\r\n            }\r\n            if (this.hasPledge) {\r\n                return true\r\n            } else {\r\n                ElMessageBox.confirm(\r\n                    '需要质押$50资产，或者10个下级质押过$10资产才能使用该功能',\r\n                    'Warning',\r\n                    {\r\n                        confirmButtonText: '质押',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning',\r\n                    }\r\n                ).then(() => {\r\n                    this.$router.push({\r\n                        name: 'stake'\r\n                    })\r\n                })\r\n                return false\r\n            }\r\n        },\r\n        // 更新币种信息\r\n        tokenUpdate({address, name, symbol}) {\r\n            if (this.item1.address == address) {\r\n                this.item1.name = name\r\n                this.item1.symbol = symbol\r\n            } else if (this.item2.address == address) {\r\n                this.item2.name = name\r\n                this.item2.symbol = symbol\r\n            }\r\n        },\r\n        // 修改需要转换的币\r\n        async tokenChange(data) {\r\n            if (this.type == 'item1') {\r\n                if (this.item2.address == data.address) {\r\n                    this.item2 = toRaw(this.item1)\r\n                }\r\n            } else {\r\n                if (this.item1.address == data.address) {\r\n                    if (this.item1.address == data.address) {\r\n                        this.item1 = toRaw(this.item2)\r\n                    }\r\n                }\r\n            }\r\n            data.price = data.price || '0'\r\n            this[this.type] = data\r\n            this.isLogin && this.loginCallBack()\r\n            // this.price1Change(this.type == 'item1' ? 'item2' : 'item1')\r\n        },\r\n        toggleGwei(data) {\r\n            if (!this.isOpen) {\r\n                this.gWei = data\r\n            }\r\n        },\r\n        startHandler() {\r\n            // 不是抢链模式，必须得输入流动性区间\r\n            if (!this.hignTest) {\r\n                // 限价模式检测数量，非限价模式检测流动性\r\n                if (this.priceLimitMode) {\r\n                    if (!this.numLt && !this.numGt) {\r\n                        ElNotification({\r\n                            type: 'error',\r\n                            title: '温馨提示',\r\n                            message: '请输入数量范围'\r\n                        })\r\n                        return\r\n                    }\r\n                } else {\r\n                    if (!this.circulationLt && !this.circulationGt) {\r\n                        ElNotification({\r\n                            type: 'error',\r\n                            title: '温馨提示',\r\n                            message: '请输入池子范围'\r\n                        })\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n            if (this.speedMode && !this.hignRate) {\r\n                ElNotification({\r\n                    type: 'error',\r\n                    title: '温馨提示',\r\n                    message: '极速模式下请输入Gas上限'\r\n                })\r\n                return\r\n            }\r\n            this.isOpen = !this.isOpen\r\n            // 抢链模式，直接购买\r\n            if (this.hignTest) {\r\n                this.confirmBuy()\r\n            } else {\r\n                setTimeout(() => {\r\n                    // 限价模式检测获得数量，非限价模式检测流动性\r\n                    if (!this.priceLimitMode) {\r\n                        this.refreshCirculation()\r\n                    }\r\n                }, this.delayTime)\r\n            }\r\n        },\r\n        // 登陆\r\n        loginFn() {\r\n            ElMessageBox.prompt('请输入私钥', 'Tip', {\r\n                confirmButtonText: 'OK',\r\n                cancelButtonText: 'Cancel',\r\n            }).then(({value}) => {\r\n                window.wallet.connect(3, value)\r\n            })\r\n        },\r\n        // 价格变化\r\n        async price1Change(key) {\r\n            let otherKey = key == 'item1' ? 'item2' : 'item1'\r\n            this[key].price = getBit(this[key].price.replace(/[^0-9.]/g,''), 5) \r\n            if (this[key].price == '') {\r\n                this[key].price = ''\r\n                return\r\n            }\r\n            const price = this[key].price.toString()\r\n            if (price === '0.') {\r\n                return\r\n            }\r\n            if (this.buyLoading) {\r\n                return\r\n            }\r\n\r\n            clearInterval(this.timer)\r\n            this.timer = setInterval(() => {\r\n                this.price1Change(key)\r\n            }, 1000)\r\n            \r\n            const bool = this.currentNetwork.TransferTokens.find(item => {\r\n                return item.address.toLocaleLowerCase() === this.item2.address.toLocaleLowerCase()\r\n            })\r\n            \r\n            let funKey = key == 'item1' ? 'getAmountsOut' : 'getAmountsIn'\r\n            let promises = []\r\n            promises = [window.wallet.ContractWETH[funKey](utils.parseUnits(price, this[key].decimals), [\r\n                this.item1.address,\r\n                this.item2.address\r\n            ])]\r\n            addressPath = [[this.item1.address,this.item2.address]]\r\n            // 智能检测\r\n            if (this.intellectTest) {\r\n                this.currentNetwork.TransferTokens.forEach(item => {\r\n                    if (item.address != this[key].address && item.address != this[otherKey].address) {\r\n                        addressPath.push([this.item1.address,item.address,this.item2.address])\r\n                        promises.push(window.wallet.ContractWETH[funKey](utils.parseUnits(price, this[key].decimals), [\r\n                            this.item1.address,\r\n                            item.address,\r\n                            this.item2.address\r\n                        ]))\r\n                        // 如果当前需要转换的币不是用来中转的币，则需要再查一遍\r\n                        if (!bool) {\r\n                            this.currentNetwork.TransferTokens.forEach(sub => {\r\n                                if (item.address != sub.address) {\r\n                                    addressPath.push([this.item1.address,item.address, sub.address, this.item2.address])\r\n                                    promises.push(window.wallet.ContractWETH[funKey](utils.parseUnits(price, this[key].decimals), [\r\n                                    this.item1.address,\r\n                                        item.address,\r\n                                        sub.address,\r\n                                        this.item2.address\r\n                                    ]))\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n            \r\n            Promise.allSettled(promises).then(data => {\r\n                let result = '';\r\n                let lastIndex;\r\n                data.forEach((item, index) => {\r\n                    const {status, value} = item\r\n                    if (status == \"fulfilled\") {\r\n                    const last = key == 'item1' ? value[value.length - 1] : value[0]\r\n                    if (!result) {\r\n                        result = last\r\n                        lastIndex = index\r\n                    } else if (last.gt(result)) {\r\n                        result = last\r\n                        lastIndex = index\r\n                    }\r\n                    }\r\n                })\r\n                if (result && this[key].price && this[key].price != '0') {\r\n                    // console.log(lastIndex, '最多可以换'+utils.formatUnits(result.toString(), this[otherKey].decimals)+'-----------'+result.toString())\r\n                    this[otherKey].price = utils.formatUnits(result, this[otherKey].decimals)\r\n                    path = addressPath[lastIndex]\r\n                    if (this.priceLimitMode && this.isOpen) {\r\n                        this.logList.unshift({\r\n                            type: 0,\r\n                            date: new Date(),\r\n                            message: `检测可获得数量: ${this[otherKey].price} ${this[otherKey].symbol}`\r\n                        })\r\n                        // 有设置最小获得数量\r\n                        if (this.numLt) {\r\n                            if (this[otherKey].price <= this.numLt) {\r\n                                this.confirmBuy()\r\n                                console.log(this.circulation, '满足条件')\r\n                                return\r\n                            }\r\n                        }\r\n                        // 有设置最大获得数量\r\n                        if (this.numGt) {\r\n                            if (this[otherKey].price >= this.numGt) {\r\n                                this.confirmBuy()\r\n                                console.log(this.circulation, '满足条件')\r\n                                return\r\n                            }\r\n                        }\r\n                        this.logList.unshift({\r\n                            type: -1,\r\n                            date: new Date(),\r\n                            message: '可获得数量不满足需求，稍后重试'\r\n                        })\r\n                        \r\n                    }\r\n                }\r\n            })\r\n        },\r\n        async loginCallBack(loading = true) {\r\n            clearTimeout(this.balanceTimer)\r\n            if (!this.isLogin) {\r\n                return\r\n            }\r\n            this.item1.loading = loading\r\n            this.item2.loading = loading\r\n            this.getItemBalance(this.item1.address, 'item1').then(({balance, decimals}) => {\r\n                this.item1.balance = balance\r\n                this.item1.decimals = decimals\r\n                this.item1.loading = false\r\n            })\r\n            this.getItemBalance(this.item2.address, 'item2').then(({balance, decimals}) => {\r\n                this.item2.balance = balance\r\n                this.item2.decimals = decimals\r\n                this.item2.loading = false\r\n            })\r\n            this.balanceTimer = setTimeout(() => {\r\n                this.loginCallBack(false)\r\n            }, 3000)\r\n            if (!contract) {\r\n                contract = window.wallet.initContract(product.SWAP_HELPER, ABI)\r\n                const [fee, txPrice] = await Promise.all([contract.callFee(), contract.checkTxPrice()])\r\n                this.fee = fee\r\n                this.txPrice = txPrice\r\n                window._contract = contract\r\n            }\r\n        },\r\n        // 满足条件提交购买\r\n        async confirmBuy() {\r\n            if (this.buyLoading || !this.isOpen) {\r\n                return\r\n            }\r\n            this.logList.unshift({\r\n                type: 0,\r\n                date: new Date(),\r\n                message: '满足条件，开始购买'\r\n            })\r\n            let accounts = window.wallet.accounts\r\n            if (this.accounts && this.accountBuy) {\r\n                const arr = this.accounts.split('\\n')\r\n                accounts = arr\r\n            }\r\n            const price = utils.parseUnits(this.item1.price.toString(), this.item1.decimals)\r\n            const value = this.item1.price * this.buyNum * accounts.length\r\n            \r\n            let valueBigNumber = utils.parseUnits('0', 18)\r\n            valueBigNumber = valueBigNumber.add(this.fee)\r\n            // 貔貅检测费用\r\n            if (this.braveTroopsTest) {\r\n                valueBigNumber = valueBigNumber.add(this.txPrice)\r\n            }\r\n\r\n            // 主网币要按value算\r\n            if (this.item1.address === this.currentNetwork.MainCoin.address) {\r\n                valueBigNumber = valueBigNumber.add(utils.parseUnits(value.toString(), this.item1.decimals))\r\n            }\r\n            this.buyLoading = true\r\n            try {\r\n                let gasLimit \r\n                if (this.speedMode) {\r\n                    gasLimit = utils.parseUnits(this.hignRate.toString(), 9)\r\n                } else {\r\n                    gasLimit = await contract.estimateGas.manyTokensBuy(\r\n                        price, \r\n                        this.buyNum, \r\n                        this.progress, \r\n                        this.braveTroopsTest, \r\n                        accounts, \r\n                        path, \r\n                        {\r\n                            value: valueBigNumber,\r\n                            gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n                        }\r\n                    )\r\n                }\r\n                const tx = await contract.manyTokensBuy(\r\n                    price, \r\n                    this.buyNum, \r\n                    this.progress, \r\n                    this.braveTroopsTest, \r\n                    accounts, \r\n                    path, \r\n                    {\r\n                        value: valueBigNumber,\r\n                        gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n                        gasLimit: gasLimit.mul(135).div(100)\r\n                    }\r\n                )\r\n                await tx.wait()\r\n                this.logList.unshift({\r\n                    type: 1,\r\n                    date: new Date(),\r\n                    message: `Swap ${(this.item1.price)} ${this.item1.symbol} for ${(this.item2.price)} ${this.item2.symbol}`\r\n                })\r\n                this.isOpen = false\r\n            } catch (error) {\r\n                this.logList.unshift({\r\n                    type: -1,\r\n                    date: new Date(),\r\n                    message: error.reason\r\n                })\r\n            }\r\n            this.buyLoading = false\r\n            this.refreshCirculation()\r\n        },\r\n\r\n        // 获取币种余额\r\n        async getItemBalance(address, keyType) {\r\n            let balance;\r\n            if (!address) {\r\n                return\r\n            }\r\n            const contract = window.wallet.initContract(address)\r\n            const decimals = await contract.decimals()\r\n            if (address == this.currentNetwork.MainCoin.address) {\r\n                balance = await window.wallet.provider.getBalance()\r\n            } else {\r\n                if (keyType == 'item1') {\r\n                    try {\r\n                        const data = await contract.allowance(window.wallet.accounts[0], product.SWAP_HELPER)\r\n                        const res = Math.floor(Number(utils.formatUnits(data, decimals)))\r\n                        if (res <= 0) {\r\n                            this.hasApprove = false\r\n                            await this.approveHandler()\r\n                            this.hasApprove = true\r\n                        }\r\n                    } catch (error) {\r\n                        Tips(error)\r\n                    }\r\n                }\r\n                balance = await contract.balanceOf(window.wallet.accounts[0])\r\n            }\r\n            return {\r\n                balance,\r\n                decimals\r\n            }\r\n        },\r\n        // 授权\r\n        async approveHandler() {\r\n            try {\r\n                const contract = window.wallet.initContract(this.item1.address)\r\n                const tx = await contract.approve(\r\n                    product.SWAP_HELPER,\r\n                    utils.parseEther('10000000000000'),\r\n                    {\r\n                        gasPrice: utils.parseUnits('10', 9)\r\n                    }\r\n                )\r\n                await tx.wait();\r\n                this.hasApprove = true\r\n            } catch (error) {\r\n                Tips(error)\r\n            }\r\n        },\r\n        maxHandler() {\r\n            if (this.isOpen) {\r\n                return\r\n            }\r\n            let price = toRaw(this.item1.balance)\r\n            this.item1.price = utils.formatUnits(price, this.item1.decimals)\r\n            this.price1Change('item1')\r\n        },\r\n        openTokensDialog(type) {\r\n            if (this.isOpen) {\r\n                return\r\n            }\r\n            this.type = type\r\n            this.$refs.tokens.open([this.item1.address, this.item2.address])\r\n        },\r\n        copyHandler(address) {\r\n            this.$emit('copy', address)\r\n        },\r\n        // 获取流动性池子信息\r\n        async getPondData(address1, address2) {\r\n            const pairContract = window.wallet.initContract('0xcA143Ce32Fe78f1f7019d7d551a6402fC5350c73', PAIR_ABI)\r\n            if (path.length <= 0) {\r\n                return\r\n            }\r\n            const data = await pairContract.getPair(\r\n                path[path.length - 2], \r\n                path[path.length - 1]\r\n            )\r\n            const contract = window.wallet.initContract(data, POOL_ABI)\r\n            const token0 = await contract.token0()\r\n            const token1 = await contract.token1()\r\n            const res = await contract.getReserves()\r\n            const decimals = await contract.decimals()\r\n            let token;\r\n            let circulation;\r\n            if (token0.toLocaleLowerCase() === address2.toLocaleLowerCase()) {\r\n                circulation = res._reserve1\r\n                token = token1\r\n            } else if (token1.toLocaleLowerCase() === address2.toLocaleLowerCase()) {\r\n                circulation = res._reserve0\r\n                token = token0\r\n            }\r\n            return {\r\n                token,\r\n                circulation,\r\n                decimals\r\n            }\r\n        },\r\n        // 刷新流通量\r\n        async refreshCirculation() {\r\n            // 没开启，购买中，抢链模式、限价模式不刷新流通量\r\n            if (!this.isOpen || this.buyLoading || this.hignTest || this.priceLimitMode) {\r\n                return\r\n            }\r\n            try {\r\n                const { token, decimals, circulation} = await this.getPondData(this.item1.address, this.item2.address)\r\n                const circulationContract = window.wallet.initContract(token)\r\n                const symbol = await circulationContract.symbol()\r\n                this.circulation = circulation\r\n                this.logList.unshift({\r\n                    type: 0,\r\n                    date: new Date(),\r\n                    message: `检测流动性: ${getBit(utils.formatUnits(this.circulation.toString(), decimals))} ${symbol}`\r\n                })\r\n                // 流通量小于多少\r\n                if (this.circulationLt) {\r\n                    let circulationLt = utils.parseUnits((this.circulationLt).toString(), decimals)\r\n                    if (!this.circulation.lte(circulationLt)) {\r\n                        this.logList.unshift({\r\n                            type: -1,\r\n                            date: new Date(),\r\n                            message: '资金池流通量不满足需求，稍后重试'\r\n                        })\r\n                        this.refreshCirculation()\r\n                        return\r\n                    }\r\n                }\r\n                // 流通量大于多少\r\n                if (this.circulationGt) {\r\n                    let circulationGt = utils.parseUnits((this.circulationGt).toString(), decimals)\r\n                    if (!this.circulation.gte(circulationGt)) {\r\n                        this.logList.unshift({\r\n                            type: -1,\r\n                            date: new Date(),\r\n                            message: '资金池流通量不满足需求，稍后重试'\r\n                        })\r\n                        this.refreshCirculation()\r\n                        return\r\n                    }\r\n                }\r\n                this.confirmBuy()\r\n                console.log(this.circulation, '满足条件')\r\n            } catch (error) {\r\n                this.logList.unshift({\r\n                    type: -1,\r\n                    date: new Date(),\r\n                    message: '资金池流通量不满足需求，稍后重试'\r\n                })\r\n                this.refreshCirculation()\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.auto-tabs {\r\n    width: auto !important;\r\n    margin: 0 !important;\r\n    .el-tabs__active-bar{\r\n        display: none;\r\n    }\r\n}\r\n.el-switch.is-checked .el-switch__core{\r\n    border-color: #FCBE2F;\r\n    background-color: #FCBE2F;\r\n}\r\n\r\n.auto-tab__account .el-textarea__inner{\r\n    background: none;\r\n    height: 400px;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 18px;\r\n    padding: 10px 20px;\r\n    color: #fff;\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n    \r\n\r\n.swap-auto{\r\n    width: 100%;\r\n}\r\n@media only screen and (max-width: 900px) {\r\n    .swap-auto{\r\n        flex-direction: column;\r\n    }\r\n    .swap-info{\r\n        width: 100%;\r\n    }\r\n    .swap-info{\r\n        margin-bottom: 20px;\r\n    }\r\n}\r\n\r\n.account{\r\n    width: 100%;\r\n}\r\n.buy-tips{\r\n    font-size: 12px;\r\n    color: rgba(205, 196, 177, 1);\r\n    &.red{\r\n        color: rgba(244, 79, 46, 1);\r\n        &::before{\r\n            background: rgba(244, 79, 46, 1);\r\n        }\r\n    }\r\n    &::before{\r\n        content: \"\";\r\n        width: 8px;\r\n        height: 8px;\r\n        border-radius: 50%;\r\n        background: rgba(252, 190, 47, 1);\r\n        display: inline-block;\r\n        margin-right: 6px;\r\n    }\r\n}\r\n\r\n.auto{\r\n    width: 600px;\r\n    border: 1px solid #2a2a2a;\r\n    padding: 20px;\r\n    border-radius: 18px;\r\n    max-width: 100%;\r\n    background-color: rgba(39, 39, 39, 0.8);\r\n    .auto-tab__list{\r\n        width: 100%;\r\n        height: 350px;\r\n        border: 1px solid #494949;\r\n        border-radius: 18px;\r\n        overflow: auto;\r\n        .auto-list__item{\r\n            margin: 0 20px;\r\n            height: 40px;\r\n            border-bottom: 1px dashed rgba(255, 255, 255, 0.2);\r\n        }\r\n    }\r\n    \r\n    .buy-input{\r\n        height: 32px;\r\n        height: 32px;\r\n        border: 1px solid #2A2A2A;\r\n        border-radius: 10px;\r\n        padding: 0 10px;\r\n        .buy-input__info{\r\n            background: none;\r\n            color: #fff;\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import { render } from \"./auto.vue?vue&type=template&id=a62aa2d6&scoped=true\"\nimport script from \"./auto.vue?vue&type=script&lang=js\"\nexport * from \"./auto.vue?vue&type=script&lang=js\"\n\nimport \"./auto.vue?vue&type=style&index=0&lang=scss\"\nimport \"./auto.vue?vue&type=style&index=1&id=a62aa2d6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a62aa2d6\"\n\nexport default script","<template>\r\n    <div class=\"flex-row-center flex-1 flex-start wrapper\">\r\n      <div class=\"wrapper-box\" :class=\"{'back': isBack}\">\r\n        <div class=\"swap-info PB-20 imputation\">\r\n        <div class=\"swap-item\">\r\n            <div class=\"swap-item__top flex-row-between\">\r\n                <div class=\"flex-row-start align-center pointer\">\r\n                    <div class=\"flex-row-start align-center\" @click=\"openTokensDialog('item1')\">\r\n                    <img v-lazy=\"getLogo(item1.address)\" class=\"swap-item__top-icon MR-10\"/>\r\n                    <div class=\"swap-item__top-name text-overflow__1\">{{item1.symbol}}</div>\r\n                    <el-icon class=\"ML-5\">\r\n                        <ArrowDown />\r\n                    </el-icon>\r\n                    </div>\r\n                    <el-icon class=\"ML-5\" @click=\"copyHandler(item1.address)\"><CopyDocument /></el-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <img src=\"@/assets/images/transform.png\" class=\"swap-transform pointer\" @click=\"transformHandler\"/>\r\n        <div class=\"swap-item\">\r\n            <div class=\"swap-item__top flex-row-between\">\r\n                <div class=\"flex-row-start align-center pointer\">\r\n                    <div class=\"flex-row-start align-center\" @click=\"openTokensDialog('item2')\">\r\n                    <img v-lazy=\"getLogo(item2.address)\" class=\"swap-item__top-icon MR-10\"/>\r\n                    <div class=\"swap-item__top-name text-overflow__1\">{{item2.symbol}}</div>\r\n                    <el-icon class=\"ML-5\">\r\n                        <ArrowDown />\r\n                    </el-icon>\r\n                    </div>\r\n                    <el-icon class=\"ML-5\" @click=\"copyHandler(item2.address)\"><CopyDocument /></el-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <textarea class=\"imputation-textarea\" v-model=\"sendAddress\" placeholder=\"请输入需要交换的私钥，一行一个\"></textarea>\r\n        <el-button class=\"swap-btn MT-10\" :disabled=\"!sendAddress\" :loading=\"searchLoading\" @click=\"searchHandler\">查询</el-button>\r\n        </div>\r\n        <div class=\"flex-1 wrapper-box__back flex-column-start\" v-if=\"isBack\">\r\n          <div class=\"flex-h__1\">\r\n          <table class=\"imputation-table\"> \r\n              <thead>\r\n              <tr>\r\n                  <th>转换币</th>\r\n                  <th>被转换币</th>\r\n                  <th>转换账号</th>\r\n                  <th>{{item1.symbol}}余额</th>\r\n                  <th>执行结果</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              <tr v-for=\"(item, index) in tableList\" :key=\"index\">\r\n                  <td>{{ item1.symbol }}</td>\r\n                  <td>{{ item2.symbol }}</td>\r\n                  <td>{{item.provider ? showAddress(item.provider.address) : '--'}}</td>\r\n                  <td>{{ item.balance || '--' }}</td>\r\n                  <td>\r\n                      \r\n                    <el-icon class=\"is-loading\" v-if=\"item.loading\">\r\n                        <Loading />\r\n                    </el-icon>\r\n                    <template v-else>\r\n                        {{ item.message }}\r\n                    </template>\r\n                  </td>\r\n              </tr>\r\n              </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"swap-slippage MT-20\">\r\n            <div class=\"swap-slippage__select flex-row-between pointer\">\r\n              <div class=\"text-18\">貔貅检测</div>\r\n              <div class=\"flex-row-end\">\r\n                <el-switch\r\n                  v-model=\"braveTroopsTest\"\r\n                  size=\"large\"\r\n                  class=\"swap-switch\"\r\n                />\r\n              </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"swap-slippage MT-20\">\r\n            <div class=\"swap-slippage__select flex-row-between pointer\">\r\n              <div class=\"text-18\">转换模式</div>\r\n              <div class=\"flex-row-end\">\r\n                <el-switch\r\n                  v-model=\"transformMode\"\r\n                  size=\"large\"\r\n                  class=\"swap-switch\"\r\n                  active-text=\"数量模式\"\r\n                  inactive-text=\"比例模式\"\r\n                />\r\n              </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"swap-slippage MT-20 MB-20\">\r\n            <div class=\"swap-slippage__select flex-row-between pointer\">\r\n            <div class=\"text-18\">GWEI</div>\r\n            <div class=\"flex-row-end\">\r\n                <el-tag \r\n                class=\"swap-slippage__select-tag\" \r\n                type=\"warning\" \r\n                :effect=\"gWei == item ? 'dark' : 'light'\" \r\n                @click=\"toggleGwei(item)\"\r\n                v-for=\"item in gWeiList\"\r\n                :key=\"item\">\r\n                {{ item }}\r\n                </el-tag>\r\n                <input type=\"number\" class=\"swap-slippage__select-input\" placeholder=\"5\" v-model.number=\"gWei\">\r\n            </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n          <div class=\"flex-row-between\">\r\n            <div>{{ t('swap.tolerance') }}</div>\r\n            <div class=\"text-blue\">{{progress}}%</div>\r\n          </div>\r\n          <div>\r\n            <el-slider v-model=\"progress\" :min=\"1\" :max=\"99\" @input=\"progressChange\"/>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"!transformMode\" class=\"MT-10\">\r\n          <div class=\"flex-row-between\">\r\n            <div>转换比例</div>\r\n            <div class=\"text-blue\">{{transformRate}}%</div>\r\n          </div>\r\n          <div>\r\n            <el-slider v-model=\"transformRate\" :min=\"1\" :max=\"99\" @input=\"progressChange\"/>\r\n          </div>\r\n        </div>\r\n        <div class=\"flex-row-start align-center MB-10 MT-10\" v-else>\r\n            <div class=\"text-18 MR-30\">转换数量</div>\r\n            <div class=\"swap-item__input flex-1 flex-row-start align-center\">\r\n            <input class=\"text-right flex-1\" v-model=\"price\" placeholder=\"0.00\">\r\n            </div>\r\n        </div>\r\n        <div class=\"flex-row-start align-center\">\r\n          <el-icon :size=\"40\" class=\"pointer\" v-if=\"!hasLoading\" @click=\"isBack = false\"><Back /></el-icon>\r\n          <el-button class=\"swap-btn MT-10\" :loading=\"hasLoading\" :disabled=\"transformMode && !price\" @click=\"swapHandler\">交换</el-button>\r\n        </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <Tokens ref=\"tokens\" @change=\"tokenChange\" @update=\"tokenUpdate\"/>\r\n</template>\r\n\r\n<script>\r\nimport Tokens from '../../swap/modal/tokens.vue'\r\nimport copy from 'copy-text-to-clipboard'\r\nimport { ElNotification } from 'element-plus'\r\nimport BLKTokenABI from '@/api/abis/IERC20.json'\r\nimport { utils } from 'ethers'\r\nimport { getBit, getLogo } from '../../../libs/utils'\r\nimport ABI from '@/api/abis/SwapHelper.json'\r\nimport { product } from '@/plugins/wallet/config.json'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport i18n from '@/locals/index.js'\r\nimport { toRaw } from 'vue'\r\nconst { t } = i18n.global\r\nexport default {\r\n  data() {\r\n    return {\r\n      t,\r\n      utils,\r\n      getLogo,\r\n      getBit,\r\n      // 滑点\r\n      progress: 10,\r\n      loading: false,\r\n      // 搜索loading\r\n      searchLoading: false,\r\n      // 转换模式\r\n      transformMode: false,\r\n      // 貔貅检测\r\n      braveTroopsTest: false,\r\n      // 转换比例\r\n      transformRate: 10,\r\n      isBack: false,\r\n      gWei: 5,\r\n      gWeiList: [5, 7, 10, 15, 20],\r\n      type: '',\r\n      price: '',\r\n      fee: '',\r\n      txPrice: '',\r\n      // 发送方地址\r\n      sendAddress: '',\r\n      tableList: [],\r\n      // 第一个币种信息\r\n      item1: {\r\n        name: \"BNB\",\r\n        symbol: \"BNB\",\r\n        address: \"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\",\r\n        balance: '',\r\n        price: '',\r\n        loading: false\r\n      },\r\n      // 第二个币种信息\r\n      item2: {\r\n          name: \"BUSD\",\r\n          symbol: \"BUSD\",\r\n          address: \"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56\",\r\n          balance: '',\r\n          price: '',\r\n          loading: false\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Tokens,\r\n  },\r\n  watch: {\r\n    'currentNetwork.ChainID': {\r\n      immediate: true,\r\n      handler() {\r\n        const { Token } = this.currentNetwork\r\n        const item1 = Token[0]\r\n        const item2 = Token[1] || Token[0]\r\n        this.item1 = {...this.item1, ...item1}\r\n        this.item2 = {...this.item2, ...item2}\r\n        this.gWei = 5 * this.currentNetwork.GWEI\r\n        this.gWeiList = [\r\n          5 * this.currentNetwork.GWEI, \r\n          7 * this.currentNetwork.GWEI, \r\n          10 * this.currentNetwork.GWEI, \r\n          15 * this.currentNetwork.GWEI, \r\n          20 * this.currentNetwork.GWEI\r\n        ]\r\n      }\r\n    },\r\n  },\r\n  directives: {\r\n    bit: {\r\n      updated(el) {\r\n        el.value = el.value ? getBit(el.value, 5) : ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currentNetwork', 'networkList', 'currentDex']),\r\n    hasLoading() {\r\n      const item = this.tableList.find(item => {\r\n        return item.loading\r\n      })\r\n      return !!item\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['setCurrentDex', 'setConnectDialog']),\r\n    // 搜索\r\n    async searchHandler() {\r\n      this.searchLoading = true\r\n      const sendList = this.sendAddress.split('\\n')\r\n      let decimals\r\n      const list = []\r\n      const promises = []\r\n      for (let i = 0; i < sendList.length; i++) {\r\n        const item = sendList[i];\r\n        let provider\r\n        let status\r\n        let message\r\n        let contract\r\n        try {\r\n          provider = window.wallet.getPrivateKeyProvider(item)\r\n          contract = window.wallet.initContract(this.item1.address, BLKTokenABI, provider)\r\n          if (!decimals) {\r\n            decimals = await contract.decimals()\r\n          }\r\n          if (this.item1.address == this.currentNetwork.MainCoin.address) {\r\n            promises.push(provider.getBalance())\r\n          } else {\r\n            promises.push(contract.balanceOf(provider.address))\r\n          }\r\n        } catch (error) {\r\n          status = -1\r\n          message = error.data ? error.data.message || error.message : error.reason || error.message\r\n        }\r\n        list.push({\r\n          provider,\r\n          balance: 0,\r\n          status,\r\n          message,\r\n          contract,\r\n          decimals,\r\n          loading: false\r\n        })\r\n      }\r\n      const data = await Promise.allSettled(promises)\r\n      data.forEach((item, index) => {\r\n        if (item.status === \"fulfilled\") {\r\n          list[index].balance = getBit(utils.formatUnits(item.value.toString(), decimals), 6),\r\n          list[index].status = 0\r\n        } else {\r\n          list[index].balance = ''\r\n          list[index].status = -1\r\n          list[index].message = '余额查询失败'\r\n        }\r\n      })\r\n      this.tableList = list\r\n      this.searchLoading = false\r\n      this.isBack = true\r\n    },\r\n    // 获取最优路径\r\n    async getPath(decimals) {\r\n      const bool = this.currentNetwork.TransferTokens.find(item => {\r\n        return item.address.toLocaleLowerCase() === this.item2.address.toLocaleLowerCase()\r\n      })\r\n      let promises = []\r\n      promises = [window.wallet.ContractWETH.getAmountsOut(utils.parseUnits('1', decimals), [\r\n          this.item1.address,\r\n          this.item2.address\r\n      ])]\r\n      let addressPath = [[this.item1.address, this.item2.address]]\r\n      // 智能检测\r\n      if (this.intellectTest) {\r\n          this.currentNetwork.TransferTokens.forEach(item => {\r\n              if (item.address != this.item1.address && item.address != this.item2.address) {\r\n                  addressPath.push([this.item1.address,item.address,this.item2.address])\r\n                  promises.push(window.wallet.ContractWETH.getAmountsOut(utils.parseUnits('1', decimals), [\r\n                      this.item1.address,\r\n                      item.address,\r\n                      this.item2.address\r\n                  ]))\r\n                  // 如果当前需要转换的币不是用来中转的币，则需要再查一遍\r\n                  if (!bool) {\r\n                      this.currentNetwork.TransferTokens.forEach(sub => {\r\n                          if (item.address != sub.address) {\r\n                              addressPath.push([this.item1.address,item.address, sub.address, this.item2.address])\r\n                              promises.push(window.wallet.ContractWETH.getAmountsOut(utils.parseUnits('1', decimals), [\r\n                              this.item1.address,\r\n                                  item.address,\r\n                                  sub.address,\r\n                                  this.item2.address\r\n                              ]))\r\n                          }\r\n                      })\r\n                  }\r\n              }\r\n          })\r\n      }\r\n      const data = await Promise.allSettled(promises)\r\n      let result = '';\r\n      let lastIndex;\r\n      data.forEach((item, index) => {\r\n          const {status, value} = item\r\n          if (status == \"fulfilled\") {\r\n          const last = value[value.length - 1]\r\n          if (!result) {\r\n              result = last\r\n              lastIndex = index\r\n          } else if (last.gt(result)) {\r\n              result = last\r\n              lastIndex = index\r\n          }\r\n          }\r\n      })\r\n      const path = addressPath[lastIndex]\r\n      return path\r\n    },\r\n    // 获取交换数量\r\n    getPrice(decimals, balance) {\r\n      if (this.transformMode) {\r\n        return utils.parseUnits(this.price.toString(), decimals)\r\n      } else {\r\n        balance = utils.parseUnits(balance.toString(), decimals)\r\n        const transformRate = utils.parseUnits(this.transformRate.toString(), decimals)\r\n        const hundred = utils.parseUnits('100', decimals)\r\n        return balance.mul(transformRate).div(hundred)\r\n      }\r\n    },\r\n    // 交换\r\n    async swapHandler () {\r\n      let path\r\n      let fee;\r\n      let txPrice;\r\n      for (let i = 0; i < this.tableList.length; i++) {\r\n        this.tableList[i].loading = true\r\n        const item = toRaw(this.tableList[i]);\r\n        const contract = window.wallet.initContract(product.SWAP_HELPER, ABI, item.provider)\r\n        // 由于费率是固定的，只需要获取一次\r\n        if (!fee) {\r\n          const [one, two] = await Promise.all([contract.callFee(), contract.checkTxPrice()])\r\n          fee = one\r\n          txPrice = two\r\n        }\r\n        // 路径只用获取一次\r\n        if (!path) {\r\n          path = await this.getPath(item.decimals)\r\n        }\r\n        const price = this.getPrice(item.decimals, item.balance)\r\n        let valueBigNumber = utils.parseUnits('0', 18)\r\n        valueBigNumber = valueBigNumber.add(fee)\r\n        // 貔貅检测费用\r\n        if (this.braveTroopsTest) {\r\n            valueBigNumber = valueBigNumber.add(txPrice)\r\n        }\r\n        // 主网币要按value算\r\n        if (this.item1.address === this.currentNetwork.MainCoin.address) {\r\n            valueBigNumber = valueBigNumber.add(price)\r\n        }\r\n        try {\r\n            contract.estimateGas.manyTokensBuy(\r\n              price, \r\n              1, \r\n              this.progress, \r\n              this.braveTroopsTest, \r\n              [item.provider.address], \r\n              path, \r\n              {\r\n                  value: valueBigNumber,\r\n                  gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n              }\r\n            ).then( gasLimit => {\r\n              contract.manyTokensBuy(\r\n                  price, \r\n                  1, \r\n                  this.progress, \r\n                  this.braveTroopsTest, \r\n                  [item.provider.address], \r\n                  path, \r\n                  {\r\n                      value: valueBigNumber,\r\n                      gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n                      gasLimit: gasLimit.mul(135).div(100)\r\n                  }\r\n              ).then(tx => {\r\n                tx.wait().then(() => {\r\n                  this.tableList[i].status = 1\r\n                  this.tableList[i].loading = false\r\n                  this.tableList[i].message = '转换成功'\r\n                }).catch(error => {\r\n                  console.log(error)\r\n                  this.tableList[i].status = -1\r\n                  this.tableList[i].loading = false\r\n                  this.tableList[i].message = error.data ? error.data.message || error.message : error.reason || error.message\r\n                })\r\n              }).catch(error => {\r\n                console.log(error)\r\n                this.tableList[i].status = -1\r\n                this.tableList[i].loading = false\r\n                this.tableList[i].message = error.data ? error.data.message || error.message : error.reason || error.message\r\n              })\r\n            }).catch(error => {\r\n              console.log(error)\r\n              this.tableList[i].status = -1\r\n              this.tableList[i].loading = false\r\n              this.tableList[i].message = error.data ? error.data.message || error.message : error.reason || error.message\r\n            })\r\n        } catch (error) {\r\n          console.log(error)\r\n          this.tableList[i].status = -1\r\n          this.tableList[i].loading = false\r\n          this.tableList[i].message = error.data ? error.data.message || error.message : error.reason || error.message\r\n        }\r\n      }\r\n    },\r\n    showAddress(address) {\r\n      return '0x...' + address.slice(-4)\r\n    },\r\n    // 更新币种信息\r\n    tokenUpdate({name, symbol}) {\r\n      this.item1.name = name\r\n      this.item1.symbol = symbol\r\n    },\r\n    // 修改需要转换的币\r\n    async tokenChange(data) {\r\n      this.item1 = data\r\n    },\r\n    copyHandler(text) {\r\n      copy(text)\r\n      ElNotification({\r\n        type: t('swap.success'),\r\n        title: t('swap.success'),\r\n        message: t('swap.copySuccess')\r\n      })\r\n    },\r\n    toggleGwei(data) {\r\n      this.gWei = data\r\n    },\r\n    openTokensDialog(type) {\r\n      this.type = type\r\n      this.$refs.tokens.open()\r\n    },\r\n    // 切换上下币种\r\n    transformHandler(){\r\n      const res = toRaw(this.item1)\r\n      this.item1 = toRaw(this.item2)\r\n      this.item2 = res\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.swap-switch{\r\n  .el-switch__label.el-switch__label--left, .el-switch__label.el-switch__label--right{\r\n    color: #fff;\r\n    &.is-active{\r\n      color: #E8BE1B;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .flex-h__1{\r\n    overflow: auto;\r\n  }\r\n  .wrapper{\r\n    .wrapper-box{\r\n      position: relative;\r\n      width: 100%;\r\n      \r\n      .wrapper-box__back{\r\n        position: absolute;\r\n        z-index: 20;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: #181818;\r\n        border: 1px solid #2A2A2A;\r\n        border-radius: 18px;\r\n        padding: 20px;\r\n      }\r\n    }\r\n  }\r\n  .text-blue{\r\n    font-size: 16px;\r\n    color: #1fc7d5;\r\n  }\r\n    .imputation-table{\r\n      width: 100%;\r\n      border: 1px solid #2A2A2A;\r\n      border-radius: 18px;\r\n      border-spacing: 0;\r\n      th{\r\n        padding: 10px 0;\r\n        border-right: 1px solid #2A2A2A;\r\n        &:last-child{\r\n          border-right: none;\r\n        }\r\n      }\r\n      td {\r\n        text-align: center;\r\n        border-top: 1px solid #2A2A2A;\r\n        border-right: 1px solid #2A2A2A;\r\n        word-break: break-all;\r\n        width: 20%;\r\n        padding: 10px;\r\n        &:last-child{\r\n          border-right: none;\r\n        }\r\n      } \r\n    }\r\n  .imputation-textarea{\r\n    margin: 10px 30px;\r\n    background: none;\r\n    border: 1px solid #898989;\r\n    border-radius: 8px;\r\n    width: calc(100% - 60px);\r\n    height: 350px;\r\n    resize: none;\r\n    color: #fff;\r\n    padding: 10px;\r\n  }\r\n  .imputation-input{\r\n    margin: 10px 30px;\r\n    background: none;\r\n    border: 1px solid #898989;\r\n    border-radius: 8px;\r\n    width: calc(100% - 60px);\r\n    height: 40px;\r\n    color: #fff;\r\n    padding: 10px;\r\n  }\r\n  .swap-item__input{\r\n    width: 100%;\r\n    height: 40px;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 8px;\r\n    background: none;\r\n    font-size: 14px;\r\n    padding: 0 20px;\r\n    color: #fff;\r\n    position: relative;\r\n    >input{\r\n      width: 100%;\r\n      height: 100%;\r\n      background: none;\r\n      color: #fff;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n  .swap-btn{\r\n    margin: 0 auto;\r\n    width: calc(100% - 60px);\r\n    height: 60px;\r\n    background: #FCBE2F;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 18px;\r\n    color: #fff;\r\n    display: block;\r\n    &.is-disabled{\r\n      background: #e4e7ed !important;\r\n    }\r\n    &:hover, &:focus, &:active{\r\n      background: #FCBE2F;\r\n      color: #fff;\r\n      border: none;\r\n    }\r\n  }\r\n  </style>","import { render } from \"./Swap.vue?vue&type=template&id=da4f8920&scoped=true\"\nimport script from \"./Swap.vue?vue&type=script&lang=js\"\nexport * from \"./Swap.vue?vue&type=script&lang=js\"\n\nimport \"./Swap.vue?vue&type=style&index=0&lang=scss\"\nimport \"./Swap.vue?vue&type=style&index=1&id=da4f8920&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-da4f8920\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=9004d9e6\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./swapConfirm.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./swapConfirm.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./tokens.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./tokens.vue?vue&type=style&index=0&lang=scss\"","<template>\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    :title=\"$t('swap.selectToken')\"\r\n    width=\"420px\"\r\n    custom-class=\"tokens\"\r\n  >\r\n    <div class=\"flex-column-start tokens-content\">\r\n        <div class=\"flex-row-start align-center\">\r\n            <input type=\"text\" class=\"tokens-input flex-1\" v-model.trim=\"searchTxt\" placeholder=\"Search name or paste address\" />\r\n            <el-button class=\"MR-20\" @click=\"fastImport()\" :disabled=\"!searchTxt || searchTxt.length != 42 && !importTokens.name\">{{ t('swap.fastImport') }}</el-button>\r\n        </div>\r\n        \r\n        <div class=\"flex-h__1 tokens-list\">\r\n            <div class=\"tokens-list__import flex-row-start align-center PL-30 PR-30 PB-30 PT-30\" v-if=\"importTokens.name\">\r\n                <div class=\"flex-row-start flex-1 align-center\">\r\n                    <img v-lazy=\"getLogo(importTokens.address)\" class=\"tokens-list__item-icon MR-10\"/>\r\n                    <div class=\"tokens-list__import-name MR-10\">{{importTokens.name}}</div>\r\n                    <div class=\"tokens-list__import-desc\">{{importTokens.symbol}}</div>\r\n                </div>\r\n                <el-button class=\"tokens-list__import-btn\" @click=\"importHandler\">{{ t('swap.import') }}</el-button>\r\n            </div>\r\n            <template v-else>\r\n                <div \r\n                    class=\"tokens-list__item pointer flex-row-start align-center pointer\"\r\n                    v-for=\"(item, index) in getTokens\"\r\n                    :key=\"item.address\"\r\n                    @click=\"selectHandler(item)\"\r\n                >\r\n                    <img v-lazy=\"getLogo(item.address)\" class=\"tokens-list__item-icon MR-10\"/>\r\n                    <div class=\"flex-1\">\r\n                        <div class=\"token-list__item-title\">{{item.name}}</div>\r\n                        <div class=\"token-list__item-desc\">{{item.symbol}}</div>\r\n                    </div>\r\n                    <div class=\"token-list__item-price\">{{ item.balance ? getBit(utils.formatUnits(item.balance, item.decimals || 18), 5) : '' }}</div>\r\n                    <el-icon :size=\"30\" color=\"#fff\" class=\"ML-10\" @click.stop=\"removeTokens(index)\" v-if=\"item.isAdd\"><Close /></el-icon>\r\n                </div>\r\n            </template>\r\n            \r\n        </div>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { utils } from 'ethers'\r\nimport { getBit, Tips, getLogo } from '../../../libs/utils'\r\nimport { mapGetters } from 'vuex'\r\nimport { toRaw } from 'vue'\r\nexport default {\r\n    name: 'Tokens',\r\n    data() {\r\n        return {\r\n            utils,\r\n            getBit,\r\n            getLogo,\r\n            dialogVisible: false,\r\n            activeAddress: [],\r\n            searchTxt: '',\r\n            getTokens: [],\r\n            // 需要导入的token信息\r\n            importTokens: {},\r\n            tokens: [],\r\n            type: ''\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['currentNetwork']),\r\n    },\r\n    async mounted() {\r\n        const { outputCurrency, inputCurrency } = this.$route.query\r\n        if (outputCurrency && outputCurrency.length == 42) {\r\n            this.type = 'item2'\r\n            await this.getCurrencyInfo(outputCurrency)\r\n            this.importHandler()\r\n        }\r\n        if (inputCurrency && inputCurrency.length == 42) {\r\n            this.type = 'item1'\r\n            await this.getCurrencyInfo(inputCurrency)\r\n            this.importHandler()\r\n        }\r\n        this.type = ''\r\n    },\r\n    watch: {\r\n        'currentNetwork.ChainID': {\r\n            immediate: true,\r\n            handler() {\r\n                let tokens = localStorage.getItem(this.currentNetwork.ChainID+'tokens')\r\n                this.tokens = tokens ? JSON.parse(tokens) : this.currentNetwork.Token\r\n                this.getTokens = toRaw(this.tokens)\r\n                this.getBalance()\r\n            }\r\n        },\r\n        searchTxt(val) {\r\n            this.searchTxtChange(val)\r\n        }\r\n    },\r\n    methods: {\r\n        searchTxtChange(val) {\r\n            if (!val) {\r\n                this.getTokens = toRaw(this.tokens)\r\n            }\r\n            const list = this.tokens.filter(item => {\r\n                const { name, address } = item\r\n                if (name.toLocaleLowerCase().includes(val.toLocaleLowerCase()) || address.toLocaleLowerCase().includes(val.toLocaleLowerCase())) {\r\n                    return true\r\n                }\r\n                return false\r\n            })\r\n            this.importTokens = {}\r\n            this.getTokens = toRaw(list)\r\n            if (list.length <= 0 && val.length === 42) {\r\n                this.getCurrencyInfo(val)\r\n            }\r\n        },\r\n        /**\r\n         * 快捷导入\r\n         * @param { String } addr 需要导入的地址\r\n         * @param { Boolean } add 是否需要添加到代币列表\r\n         */\r\n        fastImport(addr, add = true) {\r\n            addr = addr || this.searchTxt\r\n            const item = this.tokens.find(item => {\r\n                return item.address === addr\r\n            })\r\n            if (item) {\r\n                this.selectHandler(item)\r\n            } else {\r\n                this.importTokens = {\r\n                    name: addr.slice(0, 6),\r\n                    symbol: addr.slice(0, 6),\r\n                    address: addr,\r\n                    isAdd: true\r\n                }\r\n                this.importHandler(add)\r\n                const contract = window.wallet.initContract(addr)\r\n                const promise = [contract.name(), contract.symbol()]\r\n                Promise.all(promise).then(([name, symbol]) => {\r\n                    this.updateTokenInfo(addr, name, symbol)\r\n                })\r\n            }\r\n        },\r\n        // 更新币种信息\r\n        updateTokenInfo(address, name, symbol) {\r\n            const tokensIndex = this.tokens.findIndex(item => {\r\n                return item.address === address\r\n            })\r\n            if (tokensIndex >= 0) {\r\n                this.tokens[tokensIndex].name = name\r\n                this.tokens[tokensIndex].symbol = symbol\r\n            }\r\n            const index = this.getTokens.findIndex(item => {\r\n                return item.address === address\r\n            })\r\n            if (index >= 0) {\r\n                this.getTokens[index].name = name\r\n                this.getTokens[index].symbol = symbol\r\n            }\r\n            this.$emit('update', {\r\n                address, \r\n                name, \r\n                symbol\r\n            })\r\n            localStorage.setItem(this.currentNetwork.ChainID+'tokens', JSON.stringify(this.tokens))\r\n        },\r\n        // 删除币种\r\n        removeTokens(index) {\r\n            const item = this.getTokens[index]\r\n            const tokenIndex = this.tokens.findIndex(child => {\r\n                return item.address == child.address\r\n            })\r\n            this.tokens.splice(tokenIndex, 1)\r\n            this.searchTxtChange(this.searchTxt)\r\n            localStorage.setItem(this.currentNetwork.ChainID+'tokens', JSON.stringify(this.tokens))\r\n        },\r\n        async getCurrencyInfo(val) {\r\n            const contract = window.wallet.initContract(val)\r\n            const promise = [contract.name(), contract.symbol(), contract.decimals()]\r\n            try {\r\n                await Promise.all(promise).then(([name, symbol, decimals]) => {\r\n                    this.importTokens = {\r\n                        name,\r\n                        symbol,\r\n                        decimals,\r\n                        address: val,\r\n                        isAdd: true\r\n                    }\r\n                })\r\n            } catch (error) {\r\n                Tips(error)\r\n            }\r\n            \r\n        },\r\n        // 获取币种余额\r\n        async getBalance() {\r\n            if (!window.wallet.accounts[0]) {\r\n                for (let i = 0; i < this.getTokens.length; i++) {\r\n                    this.getTokens[i].balance = ''\r\n                }\r\n                return\r\n            }\r\n            let promise = []\r\n            for (let i = 0; i < this.getTokens.length; i++) {\r\n                const item = this.getTokens[i];\r\n                let balance\r\n                if (item.address === this.currentNetwork.MainCoin.address) {\r\n                    balance = window.wallet.provider.getBalance()\r\n                } else {\r\n                    const contract = window.wallet.initContract(item.address)\r\n                    balance = contract.balanceOf(window.wallet.accounts[0])\r\n                }\r\n                promise.push(balance)\r\n            }\r\n            Promise.allSettled(promise).then(data => {\r\n                data.forEach((item, index) => {\r\n                    const { status, value } = item\r\n                    if (status === 'fulfilled') {\r\n                        this.getTokens[index].balance = value\r\n                    } else {\r\n                        this.getTokens[index].balance = ''\r\n                    }\r\n                })\r\n            })\r\n        },\r\n\r\n        /**\r\n         * 导入新的币\r\n         * @param { boolean } add 是否需要加入到代币列表\r\n         */\r\n        importHandler(add = true) {\r\n            const item = this.tokens.find(item => {\r\n                return item.address === this.importTokens.address\r\n            })\r\n            if (!item && add) {\r\n                this.tokens.push(this.importTokens)\r\n                this.searchTxt = ''\r\n                localStorage.setItem(this.currentNetwork.ChainID+'tokens', JSON.stringify(this.tokens))\r\n            }\r\n            this.selectHandler(this.importTokens)\r\n        },\r\n        open(address) {\r\n            this.activeAddress = address\r\n            this.dialogVisible = true\r\n            this.importTokens = {}\r\n            this.getBalance()\r\n        },\r\n        selectHandler(data) {\r\n            this.$emit('change', data, this.type)\r\n            this.dialogVisible = false\r\n            this.importTokens = {}\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tokens-list__import-name{\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #fff;\r\n}\r\n.tokens-list__import-desc{\r\n    font-size: 14px;\r\n    color: rgb(165, 165, 165);\r\n}\r\n.tokens-list__import-btn,.tokens-list__import-btn:hover{\r\n    background: #FCBE2F;\r\n    border: 1px solid #2A2A2A;\r\n    color: #fff;\r\n}\r\n    .tokens{\r\n        background: rgb(39, 38, 44);\r\n        border-radius: 32px;\r\n        max-height: 100vh;\r\n        max-width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        .el-dialog__close{\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n        }\r\n        .el-dialog__title{\r\n            color: #FFF;\r\n        }\r\n        .el-dialog__header{\r\n            border-bottom: 1px solid #5d5d5d;\r\n        }\r\n        .el-dialog__body{\r\n            flex: 1;\r\n            height: 100%;\r\n            overflow: hidden;\r\n            padding: 0;\r\n        }\r\n        .tokens-content{\r\n            height: 100%;\r\n        }\r\n        .tokens-input{\r\n            background-color: rgb(55, 47, 71);\r\n            border-radius: 16px;\r\n            color: rgb(244, 238, 255);\r\n            display: block;\r\n            font-size: 16px;\r\n            height: 48px;\r\n            outline: 0px;\r\n            padding: 0px 16px;\r\n            width: calc(100% - 60px);\r\n            border: 1px solid rgb(38, 33, 48);\r\n            margin: 20px;\r\n        }\r\n        .tokens-list{\r\n            overflow: auto;\r\n            max-height: 400px;\r\n            &::-webkit-scrollbar {\r\n                width: 8px;\r\n            }\r\n            &::-webkit-scrollbar-thumb {\r\n                background: rgb(184, 173, 210);\r\n                border-radius: 8px;\r\n            }\r\n            &::-webkit-scrollbar-track {\r\n                border-radius: 10px;\r\n            }\r\n            .tokens-list__item{\r\n                padding: 20px 30px;\r\n                transition: all .3s;\r\n                &:hover{\r\n                    background: rgb(8, 6, 11);\r\n                }\r\n                &.is-disabled{\r\n                    background: #333;\r\n                    opacity: .5;\r\n                    cursor: not-allowed;\r\n                }\r\n            }\r\n            .tokens-list__item-icon{\r\n                width: 24px;\r\n                height: 24px;\r\n            }\r\n            .token-list__item-title{\r\n                color: #fff;\r\n                font-size: 16px;\r\n                font-weight: bold;\r\n            }\r\n            .token-list__item-desc{\r\n                color: #999;\r\n            }\r\n            .token-list__item-price{\r\n                font-size: 14px;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n</style>","import { render } from \"./tokens.vue?vue&type=template&id=35da9b56\"\nimport script from \"./tokens.vue?vue&type=script&lang=js\"\nexport * from \"./tokens.vue?vue&type=script&lang=js\"\n\nimport \"./tokens.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./auto.vue?vue&type=style&index=1&id=a62aa2d6&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./auto.vue?vue&type=style&index=1&id=a62aa2d6&lang=scss&scoped=true\"","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}