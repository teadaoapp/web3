{"version":3,"sources":["webpack:///./src/views/tools/index.vue","webpack:///./src/views/tools/components/Imputation.vue","webpack:///./src/views/tools/components/Imputation.vue?6ce6","webpack:///./src/views/tools/index.vue?ed27","webpack:///./node_modules/_core-js@3.25.4@core-js/internals/array-method-is-strict.js","webpack:///./node_modules/_core-js@3.25.4@core-js/modules/es.array.reduce.js","webpack:///./src/views/airdrop/index.vue","webpack:///./src/views/airdrop/index.vue?ca23","webpack:///./src/assets/images/transform.png","webpack:///./node_modules/_core-js@3.25.4@core-js/internals/array-reduce.js","webpack:///./src/views/airdrop/index.vue?2bf2","webpack:///./src/views/swap/modal/tokens.vue?1f29","webpack:///./src/views/tools/index.vue?2caa","webpack:///./src/views/swap/modal/tokens.vue","webpack:///./src/views/swap/modal/tokens.vue?8430","webpack:///./src/views/tools/index.vue?e929","webpack:///./node_modules/_core-js@3.25.4@core-js/internals/engine-is-node.js","webpack:///./src/views/tools/components/Imputation.vue?67fd"],"names":["class","_createElementBlock","_createVNode","_component_el_tabs","_ctx","$event","onTabClick","_component_el_tab_pane","label","name","lazy","_component_ImputationVue","_component_AirfropVue","_createElementVNode","src","_imports_0","onClick","address","_toDisplayString","symbol","_component_el_icon","_component_ArrowDown","_component_CopyDocument","_component_el_switch","placeholder","_hoisted_9","type","_component_el_button","disabled","loading","_hoisted_13","_hoisted_14","_hoisted_15","_Fragment","_renderList","item","index","key","provider","getAddress","balance","_createBlock","_component_Loading","message","_hoisted_17","_hoisted_21","_component_el_tag","effect","size","_component_Back","_component_Tokens","ref","onChange","onUpdate","t","i18n","global","data","utils","getLogo","getBit","toOne","isBack","price","activeName","progress","imputationLoading","gWei","gWeiList","sendAddress","getAddressOne","tableList","item1","components","Tokens","watch","immediate","handler","Token","this","currentNetwork","item2","GWEI","directives","bit","updated","el","value","computed","mapGetters","hasLoading","find","methods","mapActions","showAddress","slice","sendList","split","decimals","getList","checkStatus","length","ElNotification","title","i","list","promises","status","contract","window","wallet","getPrivateKeyProvider","initContract","BLKTokenABI","MainCoin","push","getBalance","balanceOf","error","console","log","reason","Promise","allSettled","forEach","formatUnits","toString","async","toRaw","promise","sendTransaction","from","to","parseUnits","transfer","gasPrice","gasLimit","then","tx","wait","catch","err","tokenUpdate","copyHandler","text","copy","toggleGwei","openTokensDialog","$refs","tokens","open","loginFn","setConnectDialog","render","__scopeId","ImputationVue","AirfropVue","tabChange","setDocumentTitle","fails","module","exports","METHOD_NAME","argument","method","call","$","$reduce","left","arrayMethodIsStrict","CHROME_VERSION","IS_NODE","STRICT_METHOD","CHROME_BUG","target","proto","forced","reduce","callbackfn","arguments","undefined","_hoisted_2","_hoisted_5","color","_component_caret_bottom","_Transition","_hoisted_8","formatEther","_hoisted_11","_component_loading","_hoisted_18","_component_el_tooltip","content","placement","_component_QuestionFilled","_hoisted_23","Contract","IERC20ABI","airDropContract","contractERC20","typesShow","isLogin","isApprove","approveLoading","loginLoading","feeAmount","BigNumber","tokenAddr","disListInfo","airdropLoading","searchLoading","ERC20Info","allowance","disList","resList","arr","addr","totalPrice","isNaN","Number","debounce","ERC20","$wallet","all","accounts","isZero","created","isLoginFn","on","product","SWAP_HELPER","ABI","callFee","val","getBnbBalance","clickOutside","toggleType","loginHandler","bool","dataVerify","res","totalSupply","approve","Tips","addrs","map","e","amounts","sum","add","manyTransferToken","parseEther","totalAmount","manyTransferETH","substr","aCallable","toObject","IndexedObject","lengthOfArrayLike","$TypeError","TypeError","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","right","_component_el_dialog","width","custom-class","isAdd","_component_Close","dialogVisible","activeAddress","searchTxt","getTokens","importTokens","outputCurrency","inputCurrency","$route","query","getCurrencyInfo","importHandler","localStorage","getItem","ChainID","JSON","parse","searchTxtChange","filter","toLocaleLowerCase","includes","fastImport","selectHandler","updateTokenInfo","tokensIndex","findIndex","$emit","setItem","stringify","removeTokens","tokenIndex","child","splice","classof","process"],"mappings":"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","file":"js/chunk-7aafa1bb.00c7a856.js","sourcesContent":["<template>\r\n  <div class=\"tool\">\r\n    <el-tabs v-model=\"activeName\" class=\"swap-tabs\" @tab-click=\"tabChange\">\r\n      <el-tab-pane label=\"归集\" name=\"Imputation\" lazy>\r\n        <ImputationVue />\r\n      </el-tab-pane>\r\n      <el-tab-pane label=\"空投\" name=\"Airdrop\" lazy>\r\n        <AirfropVue />\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n  \r\n</template>\r\n\r\n\r\n\r\n<script>\r\n  import ImputationVue from './components/Imputation.vue'\r\n  import AirfropVue from '../airdrop/index.vue'\r\n  import { setDocumentTitle } from '../../libs/utils'\r\n  export default {\r\n    data() {\r\n      return {\r\n        activeName: 'Imputation',\r\n      }\r\n    },\r\n    components: {\r\n      ImputationVue,\r\n      AirfropVue\r\n    },\r\n    methods: {\r\n      tabChange() {\r\n        setDocumentTitle(`Tea Dao-${this.activeName}`)\r\n      },\r\n    }\r\n  }\r\n  </script>\r\n\r\n\r\n<style lang=\"scss\">\r\n  .el-slider__bar{\r\n    background: rgba(252, 190, 47, 1);\r\n  }\r\n  .el-slider__button{\r\n    border-color: rgba(252, 190, 47, 1);\r\n  }\r\n  \r\n  .swap-tabs{\r\n    margin: 0 20px;\r\n    width: auto;\r\n    max-width: 100%;\r\n    .el-tab-pane{\r\n      display: flex;\r\n      align-items: flex-start;\r\n    }\r\n    .el-tabs__item{\r\n      color: #fff;\r\n    }\r\n    .el-tabs__item.is-active{\r\n      color: #FCBE2F !important;\r\n    }\r\n    .el-tabs__active-bar{\r\n      background: #FCBE2F !important;\r\n    }\r\n    .el-tabs__nav-wrap::after{\r\n      display: none;\r\n    }\r\n    .el-tabs__active-bar{\r\n      background: #fff;\r\n    }\r\n  }\r\n</style>\r\n<style lang=\"scss\">\r\n  \r\n  .swap-item__desc{\r\n    font-weight: normal;\r\n  }\r\n  .swap-slippage__select-input{\r\n    width: 40px;\r\n    height: 20px;\r\n    background: none;\r\n    border-radius: 4px;\r\n    border: 1px solid #898989;\r\n    text-align: center;\r\n    color: #fff;\r\n  }\r\n  .swap-slippage__select-tag{\r\n    height: 20px;\r\n    line-height: 18px;\r\n    margin-right: 10px;\r\n  }\r\n  \r\n  \r\n  .swap-info{\r\n    width: 430px;\r\n    max-width: 100%;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 18px;\r\n    position: relative;\r\n    z-index: 10;\r\n    .swap-top{\r\n      border-bottom: 1px solid rgba(42, 42, 42, 1);\r\n      position: relative;\r\n      text-align: center;\r\n      padding: 10px;\r\n      .swap-top__icon{\r\n        position: absolute;\r\n        left: 30px;\r\n        top: 50%;\r\n        transform: translateY(-50%);\r\n        width: 24px;\r\n        height: 19px;\r\n        &.right{\r\n          left: auto;\r\n          right: 30px;\r\n        }\r\n        &.rpc{\r\n          width: 28px;\r\n          height: 28px;\r\n          left: auto;\r\n          right: 70px;\r\n          top: 57%;\r\n        }\r\n        &.auto-rpc{\r\n          width: 28px;\r\n          height: 28px;\r\n          left: auto;\r\n          right: 20px;\r\n          top: 57%;\r\n        }\r\n      }\r\n      .swap-info__title{\r\n        font-size: 20px;\r\n        color: #fff;\r\n      }\r\n      .swap-info__title-info{\r\n        font-size: 14px;\r\n        color: rgba(255, 243, 204, 1);\r\n      }\r\n    }\r\n    .swap-item{\r\n      padding: 10px 20px;\r\n    }\r\n    .swap-item__top{\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n      .swap-item__top-icon{\r\n        width: 30px;\r\n        height: 30px;\r\n      }\r\n      .swap-item__top-wallet{\r\n        width: 20px;\r\n        height: auto;\r\n      }\r\n      .swap-item__top-name{\r\n        max-width: 60px;\r\n      }\r\n    }\r\n    .swap-transform{\r\n      width: 40px;\r\n      height: 40px;\r\n      margin: 5px auto;\r\n    }\r\n    .text-yellow{\r\n      font-size: 12px;\r\n      color: rgba(240, 185, 11, 1);\r\n    }\r\n    .text-blue{\r\n      font-size: 16px;\r\n      color: rgba(31, 199, 213, 1);\r\n    }\r\n    .text-16{\r\n      font-size: 16px;\r\n    }\r\n    .text-14{\r\n      font-size: 14px;\r\n    }\r\n    .swap-slippage__select{\r\n      background: #1B1B1B;\r\n      border: 1px solid #2A2A2A;\r\n      border-radius: 8px;\r\n      padding: 10px 20px;\r\n    }\r\n    \r\n  }\r\n  \r\n</style>","<template>\r\n    <div class=\"flex-row-center flex-1 flex-start wrapper\">\r\n      <div class=\"wrapper-box\" :class=\"{'back': isBack}\">\r\n        <div class=\"swap-info PB-20 imputation\">\r\n        <div class=\"swap-item\">\r\n            <div class=\"swap-item__top flex-row-between\">\r\n            <div class=\"flex-row-start align-center pointer\">\r\n                <div class=\"flex-row-start align-center\" @click=\"openTokensDialog('item1')\">\r\n                <img v-lazy=\"getLogo(item1.address)\" class=\"swap-item__top-icon MR-10\"/>\r\n                <div class=\"swap-item__top-name text-overflow__1\">{{item1.symbol}}</div>\r\n                <el-icon class=\"ML-5\">\r\n                    <ArrowDown />\r\n                </el-icon>\r\n                </div>\r\n                <el-icon class=\"ML-5\" @click=\"copyHandler(item1.address)\"><CopyDocument /></el-icon>\r\n            </div>\r\n            <div class=\"swap-item__desc text-20 flex-row-end align-center\">\r\n                开启多对单<el-switch v-model=\"toOne\" class=\"ML-10\"/>\r\n            </div>\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n        <textarea class=\"imputation-textarea\" v-model=\"sendAddress\" placeholder=\"请输入发送方私钥\"></textarea>\r\n        <img src=\"@/assets/images/transform.png\" class=\"swap-transform pointer\"/>\r\n        <textarea class=\"imputation-textarea\" v-model=\"getAddress\" placeholder=\"请输入接收方地址\" v-if=\"!toOne\"></textarea>\r\n        <input type=\"text\" placeholder=\"请输入接收方钱包地址\" v-model=\"getAddressOne\" v-else class=\"imputation-input\">\r\n        <el-button class=\"swap-btn MT-10\" :disabled=\"!sendAddress || (!getAddress && !getAddressOne)\" :loading=\"imputationLoading\" @click=\"imputationHandler\">查询</el-button>\r\n        </div>\r\n\r\n        <div class=\"flex-1 wrapper-box__back flex-column-start\" v-if=\"isBack\">\r\n          <div class=\"flex-h__1\">\r\n            <table class=\"imputation-table\"> \r\n                <thead>\r\n                <tr>\r\n                    <th>发送地址</th>\r\n                    <th>接收地址</th>\r\n                    <th>{{item1.symbol}}余额</th>\r\n                    <th>执行结果</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(item, index) in tableList\" :key=\"index\">\r\n                    <td>{{item.provider ? showAddress(item.provider.address) : '--'}}</td>\r\n                    <td>{{item.getAddress ? showAddress(item.getAddress) : '--'}}</td>\r\n                    <td>{{ item.balance || '--' }}</td>\r\n                    <td>\r\n                    <el-icon class=\"is-loading\" v-if=\"item.loading\">\r\n                        <Loading />\r\n                    </el-icon>\r\n                    <template v-else>\r\n                        {{ item.message }}\r\n                    </template>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"flex-row-start align-center MB-20 MT-20\">\r\n              <div class=\"text-16 MR-30\">发送数量</div>\r\n              <div class=\"swap-item__input flex-1 flex-row-start align-center\">\r\n              <input class=\"text-right flex-1\" v-model=\"price\" placeholder=\"0.00\">\r\n              </div>\r\n          </div>\r\n          <div class=\"swap-slippage MT-10 MB-20\">\r\n              <div class=\"swap-slippage__select flex-row-between pointer\">\r\n              <div class=\"text-16\">GWEI</div>\r\n              <div class=\"flex-row-end\">\r\n                  <el-tag \r\n                  class=\"swap-slippage__select-tag\" \r\n                  type=\"warning\" \r\n                  :effect=\"gWei == item ? 'dark' : 'light'\" \r\n                  @click=\"toggleGwei(item)\"\r\n                  v-for=\"item in gWeiList\"\r\n                  :key=\"item\">\r\n                  {{ item }}\r\n                  </el-tag>\r\n                  <input type=\"number\" class=\"swap-slippage__select-input\" placeholder=\"5\" v-model.number=\"gWei\">\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"flex-row-start align-center\">\r\n            <el-icon :size=\"40\" class=\"pointer\" v-if=\"!hasLoading\" @click=\"isBack = false\"><Back /></el-icon>\r\n            <el-button class=\"flex-1 swap-btn ML-20\" :loading=\"hasLoading\" :disabled=\"!price\" @click=\"imputationConfitm\">确认</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  <Tokens ref=\"tokens\" @change=\"tokenChange\" @update=\"tokenUpdate\"/>\r\n</template>\r\n\r\n<script>\r\n    import Tokens from '../../swap/modal/tokens.vue'\r\n    import copy from 'copy-text-to-clipboard'\r\n    import BLKTokenABI from '@/api/abis/IERC20.json'\r\n    import { ElNotification } from 'element-plus'\r\n    import { utils } from 'ethers'\r\n    import { getBit, getLogo } from '../../../libs/utils'\r\n    import { mapGetters, mapActions } from 'vuex'\r\n    import i18n from '@/locals/index.js'\r\n    import { toRaw } from 'vue'\r\n    const { t } = i18n.global\r\n    export default {\r\n      data() {\r\n        return {\r\n          t,\r\n          utils,\r\n          getLogo,\r\n          getBit,\r\n          toOne: true,\r\n          isBack: false,\r\n          price: '',\r\n          activeName: 'imputation',\r\n          progress: 10,\r\n          imputationLoading: false,\r\n          gWei: 5,\r\n          gWeiList: [5, 7, 10, 15, 20],\r\n          type: '',\r\n          // 发送方地址\r\n          sendAddress: '',\r\n          getAddressOne: '',\r\n          // 接收方地址\r\n          getAddress: '',\r\n          tableList: [],\r\n          // 第一个币种信息\r\n          item1: {\r\n            name: \"BNB\",\r\n            symbol: \"BNB\",\r\n            address: \"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\",\r\n            balance: '',\r\n            price: '',\r\n            loading: false\r\n          },\r\n        }\r\n      },\r\n      components: {\r\n        Tokens,\r\n      },\r\n      watch: {\r\n        'currentNetwork.ChainID': {\r\n          immediate: true,\r\n          handler() {\r\n            const { Token } = this.currentNetwork\r\n            const item1 = Token[0]\r\n            const item2 = Token[1] || Token[0]\r\n            this.item1 = {...this.item1, ...item1}\r\n            this.item2 = {...this.item2, ...item2}\r\n            this.gWei = 5 * this.currentNetwork.GWEI\r\n            this.gWeiList = [\r\n              5 * this.currentNetwork.GWEI, \r\n              7 * this.currentNetwork.GWEI, \r\n              10 * this.currentNetwork.GWEI, \r\n              15 * this.currentNetwork.GWEI, \r\n              20 * this.currentNetwork.GWEI\r\n            ]\r\n          }\r\n        },\r\n      },\r\n      directives: {\r\n        bit: {\r\n          updated(el) {\r\n            el.value = el.value ? getBit(el.value, 5) : ''\r\n          }\r\n        }\r\n      },\r\n      computed: {\r\n        ...mapGetters(['currentNetwork', 'networkList', 'currentDex']),\r\n        hasLoading() {\r\n          const item = this.tableList.find(item => {\r\n            return item.loading\r\n          })\r\n          return !!item\r\n        }\r\n      },\r\n      methods: {\r\n        ...mapActions(['setCurrentDex', 'setConnectDialog']),\r\n        showAddress(address) {\r\n          return '0x...' + address.slice(-4)\r\n        },\r\n        async imputationHandler() {\r\n          this.imputationLoading = true\r\n          const sendList = this.sendAddress.split('\\n')\r\n          let getList = this.getAddress.split('\\n')\r\n          let decimals\r\n          let checkStatus = true\r\n          if (this.toOne) {\r\n            if (this.getAddressOne.length != 42) {\r\n              ElNotification({\r\n                type: 'error',\r\n                title: '温馨提醒',\r\n                message: `接收方账号错误，请检查`\r\n              })\r\n              checkStatus = false\r\n            }\r\n          } else {\r\n            for (let i = 0; i < getList.length; i++) {\r\n              const item = getList[i];\r\n              if (item.length != 42) {\r\n                ElNotification({\r\n                  type: 'error',\r\n                  title: '温馨提醒',\r\n                  message: `第${i}行账号错误，请检查`\r\n                })\r\n                checkStatus = false\r\n                break\r\n              }\r\n            }\r\n          }\r\n          if (!checkStatus) {\r\n            return\r\n          }\r\n          const list = []\r\n          const promises = []\r\n          for (let i = 0; i < sendList.length; i++) {\r\n            const item = sendList[i];\r\n            let provider\r\n            let status\r\n            let message\r\n            let contract\r\n            try {\r\n              provider = window.wallet.getPrivateKeyProvider(item)\r\n              contract = window.wallet.initContract(this.item1.address, BLKTokenABI, provider)\r\n              if (!decimals) {\r\n                decimals = await contract.decimals()\r\n              }\r\n              if (this.item1.address == this.currentNetwork.MainCoin.address) {\r\n                promises.push(provider.getBalance())\r\n              } else {\r\n                promises.push(contract.balanceOf(provider.address))\r\n              }\r\n            } catch (error) {\r\n              console.log(error)\r\n              status = -1\r\n              message = error.data ? error.data.message || error.message : error.reason || error.message\r\n            }\r\n            list.push({\r\n              provider,\r\n              getAddress: this.toOne ? this.getAddressOne : getList[i],\r\n              balance: 0,\r\n              status,\r\n              message,\r\n              contract,\r\n              decimals,\r\n              loading: false\r\n            })\r\n          }\r\n\r\n          const data = await Promise.allSettled(promises)\r\n          data.forEach((item, index) => {\r\n            if (item.status === \"fulfilled\") {\r\n              list[index].balance = getBit(utils.formatUnits(item.value.toString(), decimals), 6),\r\n              list[index].status = 0\r\n            } else {\r\n              list[index].balance = ''\r\n              list[index].status = -1\r\n              list[index].message = '余额查询失败'\r\n            }\r\n          })\r\n\r\n          this.tableList = list\r\n          this.imputationLoading = false\r\n          this.isBack = true\r\n        },\r\n        async imputationConfitm() {\r\n          this.tableList.forEach(async (item, index) => {\r\n            item = toRaw(item)\r\n            if (item.status == 0) {\r\n              this.tableList[index].loading = true\r\n              let promise\r\n              if (this.item1.address == this.currentNetwork.MainCoin.address) {\r\n                promise = item.provider.sendTransaction({\r\n                  from: item.provider.address, \r\n                  to: item.getAddress, \r\n                  value: utils.parseUnits(this.price.toString(), 18)\r\n                });\r\n              } else {\r\n                promise = item.contract.transfer(\r\n                  item.getAddress, \r\n                  utils.parseUnits(this.price.toString(), item.decimals),\r\n                  {\r\n                    gasPrice: utils.parseUnits(this.gWei.toString(), 9),\r\n                    gasLimit: 200000\r\n                  }\r\n                )\r\n              }\r\n              \r\n              promise.then(tx => {\r\n                tx.wait().then(() => {\r\n                  this.tableList[index].status = 1\r\n                  this.tableList[index].message = '发送成功'\r\n                  this.tableList[index].loading = false\r\n                }).catch(err => {\r\n                  console.log(index, err)  \r\n                  this.tableList[index].status = 0\r\n                  this.tableList[index].message = '发送失败'\r\n                  this.tableList[index].loading = false\r\n                })\r\n              }).catch(err => {\r\n                console.log(index, err)\r\n                this.tableList[index].status = 0\r\n                this.tableList[index].message = '发送失败'\r\n                this.tableList[index].loading = false\r\n              })\r\n            }\r\n          })        \r\n        },\r\n        // 更新币种信息\r\n        tokenUpdate({name, symbol}) {\r\n          this.item1.name = name\r\n          this.item1.symbol = symbol\r\n        },\r\n        // 修改需要转换的币\r\n        async tokenChange(data) {\r\n          this.item1 = data\r\n        },\r\n        copyHandler(text) {\r\n          copy(text)\r\n          ElNotification({\r\n            type: t('swap.success'),\r\n            title: t('swap.success'),\r\n            message: t('swap.copySuccess')\r\n          })\r\n        },\r\n        toggleGwei(data) {\r\n          this.gWei = data\r\n        },\r\n        openTokensDialog(type) {\r\n          this.type = type\r\n          this.$refs.tokens.open()\r\n        },\r\n        // 连接钱包\r\n        loginFn() {\r\n          this.setConnectDialog(true)\r\n        }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .flex-h__1{\r\n    overflow: auto;\r\n  }\r\n  .wrapper{\r\n    .wrapper-box{\r\n      position: relative;\r\n      width: 100%;\r\n      \r\n      .wrapper-box__back{\r\n        position: absolute;\r\n        z-index: 20;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: #181818;\r\n        border: 1px solid #2A2A2A;\r\n        border-radius: 18px;\r\n        padding: 10px 20px;\r\n      }\r\n    }\r\n  }\r\n    .imputation-table{\r\n      width: 100%;\r\n      border: 1px solid #2A2A2A;\r\n      border-radius: 18px;\r\n      border-spacing: 0;\r\n      th{\r\n        padding: 10px 0;\r\n        border-right: 1px solid #2A2A2A;\r\n        &:last-child{\r\n          border-right: none;\r\n        }\r\n      }\r\n      td {\r\n        text-align: center;\r\n        border-top: 1px solid #2A2A2A;\r\n        border-right: 1px solid #2A2A2A;\r\n        word-break: break-all;\r\n        width: 25%;\r\n        padding: 10px;\r\n        &:last-child{\r\n          border-right: none;\r\n        }\r\n      } \r\n    }\r\n  .imputation-textarea{\r\n    margin: 10px 30px;\r\n    background: none;\r\n    border: 1px solid #898989;\r\n    border-radius: 8px;\r\n    width: calc(100% - 60px);\r\n    height: 150px;\r\n    resize: none;\r\n    color: #fff;\r\n    padding: 10px;\r\n  }\r\n  .imputation-input{\r\n    margin: 10px 30px;\r\n    background: none;\r\n    border: 1px solid #898989;\r\n    border-radius: 8px;\r\n    width: calc(100% - 60px);\r\n    height: 40px;\r\n    color: #fff;\r\n    padding: 10px;\r\n  }\r\n  .swap-item__input{\r\n    width: 100%;\r\n    height: 40px;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 8px;\r\n    background: none;\r\n    font-size: 14px;\r\n    padding: 0 20px;\r\n    color: #fff;\r\n    position: relative;\r\n    >input{\r\n      width: 100%;\r\n      height: 100%;\r\n      background: none;\r\n      color: #fff;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n  .swap-btn{\r\n    margin: 0 auto;\r\n    width: calc(100% - 60px);\r\n    height: 60px;\r\n    background: #FCBE2F;\r\n    border: 1px solid #2A2A2A;\r\n    border-radius: 18px;\r\n    color: #fff;\r\n    display: block;\r\n    &.is-disabled{\r\n      background: #e4e7ed !important;\r\n    }\r\n    &:hover, &:focus, &:active{\r\n      background: #FCBE2F;\r\n      color: #fff;\r\n      border: none;\r\n    }\r\n  }\r\n  </style>","import { render } from \"./Imputation.vue?vue&type=template&id=17c8ad92&scoped=true\"\nimport script from \"./Imputation.vue?vue&type=script&lang=js\"\nexport * from \"./Imputation.vue?vue&type=script&lang=js\"\n\nimport \"./Imputation.vue?vue&type=style&index=0&id=17c8ad92&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-17c8ad92\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=2bc1f3ab\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&lang=scss\"\nscript.render = render\n\nexport default script","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    var length = arguments.length;\n    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\r\n  <div class=\"airdrop\">\r\n    <p class=\"text-20 text-white\">使用TeaDrop将您的代币空投给您的所有用户</p>\r\n    <div class=\"airdrop-content MT-20\">\r\n      <div v-click-outside=\"clickOutside\" class=\"airdrop-type flex-row-between pointer MB-20\" :class=\"{ 'type-show': typesShow }\" @click=\"typesShow = !typesShow\">\r\n        <div class=\"airdrop-type__left text-left\">\r\n          <div class=\"text-16 text-999\">空投类型</div>\r\n          <div class=\"text-18 text-white MT-5\">{{ type == 1 ? '其他代币' : 'BNB' }}</div>\r\n        </div>\r\n        <el-icon color=\"#fff\" :size=\"16\">\r\n          <caret-bottom />\r\n        </el-icon>\r\n        <transition name=\"el-zoom-in-top\">\r\n          <div v-show=\"typesShow\" class=\"airdrop-type__list\">\r\n            <div class=\"airdrop-type__list-item\" @click=\"toggleType(1)\">其他代币</div>\r\n            <div class=\"airdrop-type__list-item\" @click=\"toggleType(2)\">BNB</div>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n      <div class=\"airdrop-desc text-left text-16 text-999 MB-15\">\r\n        <div class=\"airdrop-desc__title text-18 text-white MB-10\">空投说明：</div>\r\n        <div class=\"MT-5\">- 向任意数量的用户空投代币</div>\r\n        <div class=\"MT-5\">- 如果您正在进行销售，请确保代币没有空投</div>\r\n        <div class=\"MT-5\">- 先输入你的代币地址</div>\r\n        <div class=\"MT-5\">- 输入要空投的用户列表，后跟金额（逗号分隔）</div>\r\n      </div>\r\n      <div class=\"text-16 text-999 MB-15\">空投费用:{{ utils.formatEther(feeAmount)}} BNB</div>\r\n      <transition name=\"el-zoom-in-top\">\r\n        <div v-show=\"type == 1\" class=\"airdrop-type text-left MB-15\">\r\n          <div class=\"text-16 text-999\">请输入令牌地址</div>\r\n          <div class=\"flex-row-start MT-5 align-center\">\r\n            <input v-model.trim=\"tokenAddr\" class=\"airdrop-type__input text-18 text-white flex-1\" placeholder=\"请输入令牌地址\">\r\n            <el-icon v-show=\"searchLoading\" class=\"is-loading\" color=\"#fff\">\r\n              <loading />\r\n            </el-icon>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n      <div v-show=\"type == 1\" class=\"text-18 text-999 text-left\">\r\n        <span class=\"MR-5\">代币:</span>\r\n        <span class=\"text-yellow\">{{ ERC20Info.symbol }}({{ ERC20Info.name || '--' }})</span>\r\n      </div>\r\n      <div class=\"flex-row-between align-center\">\r\n        <div class=\"text-18 text-999 text-left MT-10\">\r\n          <span class=\"MR-5\">余额:</span>\r\n          <span v-if=\"type == 1\" class=\"text-yellow\">{{ utils.formatUnits(ERC20Info.balance, ERC20Info.decimals) }}</span>\r\n          <span v-else class=\"text-yellow\">{{ utils.formatEther(ERC20Info.balance) }}</span>\r\n        </div>\r\n        <div class=\"flex-row-end\">\r\n          <input type=\"text\" placeholder=\"请输入代币数量\" class=\"airdrop-input text-16 MR-10\" v-model.trim=\"price\" />\r\n          <el-tooltip\r\n            class=\"box-item\"\r\n            effect=\"dark\"\r\n            content=\"统一发放数量，为空则按照默认规则发放\"\r\n            placement=\"top\"\r\n          >\r\n            <el-icon><QuestionFilled /></el-icon>\r\n          </el-tooltip>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"airdrop-list MT-20\">\r\n        <textarea v-model.trim=\"disListInfo\" class=\"airdrop-list__textarea text-white text-18\" placeholder=\"输入分发列表\" />\r\n      </div>\r\n      <p class=\"text-yellow text-18 MT-10 MB-20\">为了获得最佳效果，我们建议您一次最多处理500个地址！</p>\r\n      <div class=\"text-18 text-999\">\r\n        空投的代币总数:\r\n        <span class=\"text-yellow\">{{ totalPrice }}</span>\r\n      </div>\r\n      <div class=\"flex-row-center MT-15\">\r\n        <el-button v-if=\"!isLogin\" class=\"btn btn-line color-text MR-18\" :loading=\"loginLoading\" @click=\"loginHandler\">Connect</el-button>\r\n        <el-button v-else-if=\"isApprove == 2\" class=\"btn btn-line color-text MR-18\" :loading=\"approveLoading\" @click=\"approveHandler\">APPROVE</el-button>\r\n        <el-button v-else-if=\"isApprove == 1\" class=\"btn\" :loading=\"airdropLoading\" @click=\"airdropHandler\">AIRDROP</el-button>\r\n        <el-button v-if=\"isApprove == 0 && type == 2\" class=\"btn\" :loading=\"airdropLoading\" @click=\"airdropETHHandler\">AIRDROP</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* global wallet */\r\n// import { CaretBottom, Loading } from '@element-plus/icons'\r\nimport { ElNotification } from 'element-plus'\r\nimport { debounce, Tips } from '@/libs/utils.js'\r\nimport { BigNumber, Contract, utils } from 'ethers'\r\nimport IERC20ABI from '@/api/abis/IERC20.json'\r\nimport ABI from '@/api/abis/SwapHelper.json'\r\nimport { product } from '@/plugins/wallet/config.json'\r\n\r\nimport { mapActions } from 'vuex'\r\nwindow.Contract = Contract\r\nwindow.IERC20ABI = IERC20ABI\r\nlet airDropContract = null\r\nlet contractERC20 = null\r\nexport default {\r\n  // components: {\r\n  //   CaretBottom,\r\n  //   Loading\r\n  // },\r\n  data() {\r\n    return {\r\n      utils: utils,\r\n      typesShow: false,\r\n      // 当前选中类型\r\n      type: 1,\r\n      // 是否有登陆\r\n      isLogin: false,\r\n      // 是否有授权 0: 未知 1:已授权 2:未授权\r\n      isApprove: 0,\r\n      // 授权loading\r\n      approveLoading: false,\r\n      // 登陆loading\r\n      loginLoading: false,\r\n      feeAmount: BigNumber.from(0),\r\n      // 合约地址\r\n      tokenAddr: '',\r\n      disListInfo: '',\r\n      // 空投loading\r\n      airdropLoading: false,\r\n      searchLoading: false,\r\n      price: '',\r\n      ERC20Info: {\r\n        name: '',\r\n        symbol: '',\r\n        decimals: 0,\r\n        balance: BigNumber.from(0),\r\n        allowance: BigNumber.from(0)\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    // 格式化列表\r\n    disList() {\r\n      let list = []\r\n      const resList = []\r\n      if (this.disListInfo) {\r\n        list = this.disListInfo.split('\\n')\r\n      }\r\n      for (let i = 0; i < list.length; i++) {\r\n        const item = list[i]\r\n        const arr = item.split(',')\r\n        resList.push({\r\n          addr: arr[0],\r\n          price: this.price || arr[1]\r\n        })\r\n      }\r\n      return resList\r\n    },\r\n    // 统计总金额\r\n    totalPrice() {\r\n      let totalPrice = 0\r\n      this.disList.forEach((item) => {\r\n        const price = item.price\r\n        if (price && !isNaN(price)) {\r\n          totalPrice += Number(price)\r\n        }\r\n      })\r\n      return totalPrice\r\n    }\r\n  },\r\n  watch: {\r\n    tokenAddr: debounce(async function() {\r\n      this.searchLoading = true\r\n      // TODO 搜索接口\r\n      try {\r\n        const ERC20 = this.$wallet.initContract(this.tokenAddr, IERC20ABI)\r\n        const [name, symbol, decimals, balance, allowance] = await Promise.all([\r\n          ERC20.name(),\r\n          ERC20.symbol(),\r\n          ERC20.decimals(),\r\n          ERC20.balanceOf(wallet.accounts[0]),\r\n          ERC20.allowance(wallet.accounts[0], airDropContract.address)\r\n        ])\r\n        this.ERC20Info = { name, symbol, decimals, balance }\r\n        this.isApprove = allowance.isZero() ? 2 : 1\r\n        contractERC20 = ERC20\r\n      } catch (error) {\r\n        console.error(error)\r\n        this.ERC20Info = {\r\n          name: '',\r\n          symbol: '',\r\n          decimals: 0,\r\n          balance: BigNumber.from(0),\r\n          allowance: BigNumber.from(0)\r\n        }\r\n        this.isApprove = 2\r\n        contractERC20 = null\r\n      }\r\n      this.searchLoading = false\r\n    }, 500)\r\n  },\r\n  created() {\r\n    this.isLoginFn()\r\n    this.$wallet.on('accountChange', () => {\r\n      this.isLoginFn()\r\n    })\r\n  },\r\n  methods: {\r\n    ...mapActions(['setConnectDialog']),\r\n    // 是否登陆\r\n    async isLoginFn() {\r\n      if (this.$wallet.accounts[0]) {\r\n        this.isApprove = 0\r\n        this.isLogin = true\r\n        airDropContract = window.wallet.initContract(product.SWAP_HELPER, ABI)\r\n        airDropContract.callFee().then((val) => {\r\n          this.feeAmount = val\r\n        })\r\n      } else {\r\n        this.isLogin = false\r\n      }\r\n    },\r\n    // 获取BNB余额\r\n    getBnbBalance() {\r\n      airDropContract.provider.getBalance(wallet.accounts[0]).then((data) => {\r\n        this.ERC20Info = { name: 'BNB', balance: data }\r\n      })\r\n    },\r\n    clickOutside() {\r\n      this.typesShow = false\r\n    },\r\n    /**\r\n     * 切换类型\r\n     * @param {Number} type 当前选中类型 1:Aindrop Tokens 2:BNB\r\n     */\r\n    toggleType(type) {\r\n      this.type = type\r\n      this.ERC20Info = {\r\n        name: '',\r\n        symbol: '',\r\n        decimals: 0,\r\n        balance: BigNumber.from(0),\r\n        allowance: BigNumber.from(0)\r\n      }\r\n      if (type === 2) {\r\n        this.getBnbBalance()\r\n      }\r\n    },\r\n    // 登陆\r\n    loginHandler() {\r\n      this.setConnectDialog(true)\r\n    },\r\n    // 授权\r\n    async approveHandler() {\r\n      // TODO 授权接口\r\n      const bool = this.dataVerify()\r\n      if (!bool) {\r\n        return\r\n      }\r\n      this.approveLoading = true\r\n      try {\r\n        const res = await contractERC20.totalSupply()\r\n        const tx = await contractERC20.approve(airDropContract.address, res)\r\n        await tx.wait()\r\n        this.isApprove = 1\r\n      } catch (error) {\r\n        console.error(error)\r\n        Tips(error)\r\n      }\r\n      this.approveLoading = false\r\n    },\r\n    // 空投\r\n    async airdropHandler() {\r\n      this.airdropLoading = true\r\n      // TODO 调用空投接口\r\n      try {\r\n        const { address } = contractERC20\r\n        const addrs = this.disList.map((e) => e.addr)\r\n        const amounts = this.disList.map((e) => utils.parseUnits(e.price.toString(), this.ERC20Info.decimals))\r\n        // 初始值是手续费  求和数组\r\n        const totalAmount = amounts.reduce((sum, item) => sum.add(item))\r\n        const tx = await airDropContract.manyTransferToken(address, addrs, amounts, { value: this.feeAmount,  })\r\n        await tx.wait()\r\n        ElNotification({\r\n          type: 'success',\r\n          title: 'Success',\r\n          message: 'Airdrop Success'\r\n        })\r\n      } catch (error) {\r\n        console.error(error)\r\n        Tips(error)\r\n      }\r\n      this.airdropLoading = false\r\n    },\r\n    // 空投发送BNB\r\n    async airdropETHHandler() {\r\n      this.airdropLoading = true\r\n      // TODO 调用空投接口\r\n      try {\r\n        const addrs = this.disList.map((e) => e.addr)\r\n        const amounts = this.disList.map((e) => utils.parseEther(e.price.toString()))\r\n        // 初始值是手续费  求和数组\r\n        const totalAmount = amounts.reduce((sum, item) => sum.add(item), this.feeAmount)\r\n        const tx = await airDropContract.manyTransferETH(addrs, amounts, { value: totalAmount })\r\n        await tx.wait()\r\n        ElNotification({\r\n          type: 'success',\r\n          title: 'Success',\r\n          message: 'Airdrop Success'\r\n        })\r\n      } catch (error) {\r\n        console.error(error)\r\n        Tips(error)\r\n      }\r\n      this.airdropLoading = false\r\n    },\r\n    // 授权数据校验\r\n    dataVerify() {\r\n      if (!this.tokenAddr) {\r\n        ElNotification({\r\n          type: 'error',\r\n          title: 'Tips',\r\n          message: 'Please Enter Token Address'\r\n        })\r\n        return false\r\n      }\r\n      if (this.disList.length <= 0) {\r\n        ElNotification({\r\n          type: 'error',\r\n          title: 'Tips',\r\n          message: 'Please Enter Distribution List'\r\n        })\r\n        return false\r\n      }\r\n\r\n      let status = true\r\n      for (let i = 0; i < this.disList.length; i++) {\r\n        const { addr, price } = this.disList[i]\r\n        if (addr.substr(0, 2) !== '0x' || addr.length !== 42 || !price) {\r\n          ElNotification({\r\n            type: 'error',\r\n            title: 'Tips',\r\n            message: `The format of line ${i + 1} is wrong, please check the vehicle`\r\n          })\r\n          status = false\r\n          break\r\n        }\r\n      }\r\n      return status\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  \r\n.btn {\r\n  height: 38px;\r\n  line-height: 38px;\r\n  font-size: 16px;\r\n  min-height: 0;\r\n  background: linear-gradient(-68deg, #ffd60d, #dff522);\r\n  border-radius: 19px;\r\n  border: none;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n  color: #3a382e;\r\n  transition: all 0.3s;\r\n  &.btn-line {\r\n    border: 1px solid #ffd60d;\r\n    background: linear-gradient(-68deg, #978dbe 0%, #ffd60d 0%, #dff522 100%);\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n  }\r\n  &:hover {\r\n    transform: scale(0.95);\r\n    color: #3a382e;\r\n  }\r\n}\r\n\r\n.airdrop-input{\r\n  background: none;\r\n  border: 1px solid #2A2A2A;\r\n  height: 30px;\r\n  border-radius: 8px;\r\n  color: #fff;\r\n  padding: 0 10px;\r\n  width: 130px;\r\n}\r\n\r\n.airdrop {\r\n  width: 95%;\r\n  max-width: 8rem;\r\n  margin: 10px auto;\r\n  text-align: center;\r\n  .airdrop-content {\r\n    width: 100%;\r\n    border-radius: 20px;\r\n    padding: 20px;\r\n    border: 1px solid #2A2A2A;\r\n    background-color: rgba(39, 39, 39, 0.8);\r\n    .airdrop-type {\r\n      padding: 5px 15px 7px;\r\n      border: 1px solid rgba(255, 255, 255, 0.42);\r\n      border-radius: 7px;\r\n      position: relative;\r\n      &.type-show {\r\n        border-bottom-color: transparent;\r\n        border-bottom-left-radius: 0;\r\n        border-bottom-right-radius: 0;\r\n      }\r\n      .airdrop-type__input {\r\n        width: 100%;\r\n        background: none;\r\n      }\r\n      .airdrop-type__list {\r\n        position: absolute;\r\n        left: -1px;\r\n        right: -1px;\r\n        top: 100%;\r\n        background: #25241e;\r\n        box-shadow: #393730 0 15px 15px;\r\n        border: 1px solid rgba(255, 255, 255, 0.42);\r\n        border-top: none;\r\n        border-bottom-left-radius: 0.07rem;\r\n        border-bottom-right-radius: 0.07rem;\r\n        .airdrop-type__list-item {\r\n          height: 50px;\r\n          line-height: 50px;\r\n          color: #fff;\r\n          font-size: 14px;\r\n          cursor: pointer;\r\n          transition: all 0.3s;\r\n          text-align: left;\r\n          padding-left: 15px;\r\n          &:hover {\r\n            background: #636259;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .airdrop-list {\r\n      height: 200px;\r\n      border: 1px solid #ffffff;\r\n      border: 1px solid rgba(255, 255, 255, 0.42);\r\n      border-radius: 7px;\r\n      padding: 10px;\r\n      .airdrop-list__textarea {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: none;\r\n        resize: none;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=6a13b93f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6a13b93f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6a13b93f\"\n\nexport default script","module.exports = \"./images/transform5dc41586b2a3ba671b8cb88580863420.png\";","var aCallable = require('../internals/a-callable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nvar $TypeError = TypeError;\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aCallable(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = lengthOfArrayLike(O);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw $TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=6a13b93f&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=6a13b93f&lang=scss&scoped=true\"","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./tokens.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./tokens.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=1&lang=scss\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=1&lang=scss\"","<template>\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    :title=\"$t('swap.selectToken')\"\r\n    width=\"420px\"\r\n    custom-class=\"tokens\"\r\n  >\r\n    <div class=\"flex-column-start tokens-content\">\r\n        <div class=\"flex-row-start align-center\">\r\n            <input type=\"text\" class=\"tokens-input flex-1\" v-model.trim=\"searchTxt\" placeholder=\"Search name or paste address\" />\r\n            <el-button class=\"MR-20\" @click=\"fastImport()\" :disabled=\"!searchTxt || searchTxt.length != 42 && !importTokens.name\">{{ t('swap.fastImport') }}</el-button>\r\n        </div>\r\n        \r\n        <div class=\"flex-h__1 tokens-list\">\r\n            <div class=\"tokens-list__import flex-row-start align-center PL-30 PR-30 PB-30 PT-30\" v-if=\"importTokens.name\">\r\n                <div class=\"flex-row-start flex-1 align-center\">\r\n                    <img v-lazy=\"getLogo(importTokens.address)\" class=\"tokens-list__item-icon MR-10\"/>\r\n                    <div class=\"tokens-list__import-name MR-10\">{{importTokens.name}}</div>\r\n                    <div class=\"tokens-list__import-desc\">{{importTokens.symbol}}</div>\r\n                </div>\r\n                <el-button class=\"tokens-list__import-btn\" @click=\"importHandler\">{{ t('swap.import') }}</el-button>\r\n            </div>\r\n            <template v-else>\r\n                <div \r\n                    class=\"tokens-list__item pointer flex-row-start align-center pointer\"\r\n                    v-for=\"(item, index) in getTokens\"\r\n                    :key=\"item.address\"\r\n                    @click=\"selectHandler(item)\"\r\n                >\r\n                    <img v-lazy=\"getLogo(item.address)\" class=\"tokens-list__item-icon MR-10\"/>\r\n                    <div class=\"flex-1\">\r\n                        <div class=\"token-list__item-title\">{{item.name}}</div>\r\n                        <div class=\"token-list__item-desc\">{{item.symbol}}</div>\r\n                    </div>\r\n                    <div class=\"token-list__item-price\">{{ item.balance ? getBit(utils.formatUnits(item.balance, item.decimals || 18), 5) : '' }}</div>\r\n                    <el-icon :size=\"30\" color=\"#fff\" class=\"ML-10\" @click.stop=\"removeTokens(index)\" v-if=\"item.isAdd\"><Close /></el-icon>\r\n                </div>\r\n            </template>\r\n            \r\n        </div>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { utils } from 'ethers'\r\nimport { getBit, Tips, getLogo } from '../../../libs/utils'\r\nimport { mapGetters } from 'vuex'\r\nimport { toRaw } from 'vue'\r\nexport default {\r\n    name: 'Tokens',\r\n    data() {\r\n        return {\r\n            utils,\r\n            getBit,\r\n            getLogo,\r\n            dialogVisible: false,\r\n            activeAddress: [],\r\n            searchTxt: '',\r\n            getTokens: [],\r\n            // 需要导入的token信息\r\n            importTokens: {},\r\n            tokens: [],\r\n            type: ''\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['currentNetwork']),\r\n    },\r\n    async mounted() {\r\n        const { outputCurrency, inputCurrency } = this.$route.query\r\n        if (outputCurrency && outputCurrency.length == 42) {\r\n            this.type = 'item2'\r\n            await this.getCurrencyInfo(outputCurrency)\r\n            this.importHandler()\r\n        }\r\n        if (inputCurrency && inputCurrency.length == 42) {\r\n            this.type = 'item1'\r\n            await this.getCurrencyInfo(inputCurrency)\r\n            this.importHandler()\r\n        }\r\n        this.type = ''\r\n    },\r\n    watch: {\r\n        'currentNetwork.ChainID': {\r\n            immediate: true,\r\n            handler() {\r\n                let tokens = localStorage.getItem(this.currentNetwork.ChainID+'tokens')\r\n                this.tokens = tokens ? JSON.parse(tokens) : this.currentNetwork.Token\r\n                this.getTokens = toRaw(this.tokens)\r\n                this.getBalance()\r\n            }\r\n        },\r\n        searchTxt(val) {\r\n            this.searchTxtChange(val)\r\n        }\r\n    },\r\n    methods: {\r\n        searchTxtChange(val) {\r\n            if (!val) {\r\n                this.getTokens = toRaw(this.tokens)\r\n            }\r\n            const list = this.tokens.filter(item => {\r\n                const { name, address } = item\r\n                if (name.toLocaleLowerCase().includes(val.toLocaleLowerCase()) || address.toLocaleLowerCase().includes(val.toLocaleLowerCase())) {\r\n                    return true\r\n                }\r\n                return false\r\n            })\r\n            this.importTokens = {}\r\n            this.getTokens = toRaw(list)\r\n            if (list.length <= 0 && val.length === 42) {\r\n                this.getCurrencyInfo(val)\r\n            }\r\n        },\r\n        /**\r\n         * 快捷导入\r\n         * @param { String } addr 需要导入的地址\r\n         * @param { Boolean } add 是否需要添加到代币列表\r\n         */\r\n        fastImport(addr, add = true) {\r\n            addr = addr || this.searchTxt\r\n            const item = this.tokens.find(item => {\r\n                return item.address === addr\r\n            })\r\n            if (item) {\r\n                this.selectHandler(item)\r\n            } else {\r\n                this.importTokens = {\r\n                    name: addr.slice(0, 6),\r\n                    symbol: addr.slice(0, 6),\r\n                    address: addr,\r\n                    isAdd: true\r\n                }\r\n                this.importHandler(add)\r\n                const contract = window.wallet.initContract(addr)\r\n                const promise = [contract.name(), contract.symbol()]\r\n                Promise.all(promise).then(([name, symbol]) => {\r\n                    this.updateTokenInfo(addr, name, symbol)\r\n                })\r\n            }\r\n        },\r\n        // 更新币种信息\r\n        updateTokenInfo(address, name, symbol) {\r\n            const tokensIndex = this.tokens.findIndex(item => {\r\n                return item.address === address\r\n            })\r\n            if (tokensIndex >= 0) {\r\n                this.tokens[tokensIndex].name = name\r\n                this.tokens[tokensIndex].symbol = symbol\r\n            }\r\n            const index = this.getTokens.findIndex(item => {\r\n                return item.address === address\r\n            })\r\n            if (index >= 0) {\r\n                this.getTokens[index].name = name\r\n                this.getTokens[index].symbol = symbol\r\n            }\r\n            this.$emit('update', {\r\n                address, \r\n                name, \r\n                symbol\r\n            })\r\n            localStorage.setItem(this.currentNetwork.ChainID+'tokens', JSON.stringify(this.tokens))\r\n        },\r\n        // 删除币种\r\n        removeTokens(index) {\r\n            const item = this.getTokens[index]\r\n            const tokenIndex = this.tokens.findIndex(child => {\r\n                return item.address == child.address\r\n            })\r\n            this.tokens.splice(tokenIndex, 1)\r\n            this.searchTxtChange(this.searchTxt)\r\n            localStorage.setItem(this.currentNetwork.ChainID+'tokens', JSON.stringify(this.tokens))\r\n        },\r\n        async getCurrencyInfo(val) {\r\n            const contract = window.wallet.initContract(val)\r\n            const promise = [contract.name(), contract.symbol(), contract.decimals()]\r\n            try {\r\n                await Promise.all(promise).then(([name, symbol, decimals]) => {\r\n                    this.importTokens = {\r\n                        name,\r\n                        symbol,\r\n                        decimals,\r\n                        address: val,\r\n                        isAdd: true\r\n                    }\r\n                })\r\n            } catch (error) {\r\n                Tips(error)\r\n            }\r\n            \r\n        },\r\n        // 获取币种余额\r\n        async getBalance() {\r\n            if (!window.wallet.accounts[0]) {\r\n                for (let i = 0; i < this.getTokens.length; i++) {\r\n                    this.getTokens[i].balance = ''\r\n                }\r\n                return\r\n            }\r\n            let promise = []\r\n            for (let i = 0; i < this.getTokens.length; i++) {\r\n                const item = this.getTokens[i];\r\n                let balance\r\n                if (item.address === this.currentNetwork.MainCoin.address) {\r\n                    balance = window.wallet.provider.getBalance()\r\n                } else {\r\n                    const contract = window.wallet.initContract(item.address)\r\n                    balance = contract.balanceOf(window.wallet.accounts[0])\r\n                }\r\n                promise.push(balance)\r\n            }\r\n            Promise.allSettled(promise).then(data => {\r\n                data.forEach((item, index) => {\r\n                    const { status, value } = item\r\n                    if (status === 'fulfilled') {\r\n                        this.getTokens[index].balance = value\r\n                    } else {\r\n                        this.getTokens[index].balance = ''\r\n                    }\r\n                })\r\n            })\r\n        },\r\n\r\n        /**\r\n         * 导入新的币\r\n         * @param { boolean } add 是否需要加入到代币列表\r\n         */\r\n        importHandler(add = true) {\r\n            const item = this.tokens.find(item => {\r\n                return item.address === this.importTokens.address\r\n            })\r\n            if (!item && add) {\r\n                this.tokens.push(this.importTokens)\r\n                this.searchTxt = ''\r\n                localStorage.setItem(this.currentNetwork.ChainID+'tokens', JSON.stringify(this.tokens))\r\n            }\r\n            this.selectHandler(this.importTokens)\r\n        },\r\n        open(address) {\r\n            this.activeAddress = address\r\n            this.dialogVisible = true\r\n            this.importTokens = {}\r\n            this.getBalance()\r\n        },\r\n        selectHandler(data) {\r\n            this.$emit('change', data, this.type)\r\n            this.dialogVisible = false\r\n            this.importTokens = {}\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.tokens-list__import-name{\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #fff;\r\n}\r\n.tokens-list__import-desc{\r\n    font-size: 14px;\r\n    color: rgb(165, 165, 165);\r\n}\r\n.tokens-list__import-btn,.tokens-list__import-btn:hover{\r\n    background: #FCBE2F;\r\n    border: 1px solid #2A2A2A;\r\n    color: #fff;\r\n}\r\n    .tokens{\r\n        background: rgb(39, 38, 44);\r\n        border-radius: 32px;\r\n        max-height: 100vh;\r\n        max-width: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        .el-dialog__close{\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n        }\r\n        .el-dialog__title{\r\n            color: #FFF;\r\n        }\r\n        .el-dialog__header{\r\n            border-bottom: 1px solid #5d5d5d;\r\n        }\r\n        .el-dialog__body{\r\n            flex: 1;\r\n            height: 100%;\r\n            overflow: hidden;\r\n            padding: 0;\r\n        }\r\n        .tokens-content{\r\n            height: 100%;\r\n        }\r\n        .tokens-input{\r\n            background-color: rgb(55, 47, 71);\r\n            border-radius: 16px;\r\n            color: rgb(244, 238, 255);\r\n            display: block;\r\n            font-size: 16px;\r\n            height: 48px;\r\n            outline: 0px;\r\n            padding: 0px 16px;\r\n            width: calc(100% - 60px);\r\n            border: 1px solid rgb(38, 33, 48);\r\n            margin: 20px;\r\n        }\r\n        .tokens-list{\r\n            overflow: auto;\r\n            max-height: 400px;\r\n            &::-webkit-scrollbar {\r\n                width: 8px;\r\n            }\r\n            &::-webkit-scrollbar-thumb {\r\n                background: rgb(184, 173, 210);\r\n                border-radius: 8px;\r\n            }\r\n            &::-webkit-scrollbar-track {\r\n                border-radius: 10px;\r\n            }\r\n            .tokens-list__item{\r\n                padding: 20px 30px;\r\n                transition: all .3s;\r\n                &:hover{\r\n                    background: rgb(8, 6, 11);\r\n                }\r\n                &.is-disabled{\r\n                    background: #333;\r\n                    opacity: .5;\r\n                    cursor: not-allowed;\r\n                }\r\n            }\r\n            .tokens-list__item-icon{\r\n                width: 24px;\r\n                height: 24px;\r\n            }\r\n            .token-list__item-title{\r\n                color: #fff;\r\n                font-size: 16px;\r\n                font-weight: bold;\r\n            }\r\n            .token-list__item-desc{\r\n                color: #999;\r\n            }\r\n            .token-list__item-price{\r\n                font-size: 14px;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n</style>","import { render } from \"./tokens.vue?vue&type=template&id=35da9b56\"\nimport script from \"./tokens.vue?vue&type=script&lang=js\"\nexport * from \"./tokens.vue?vue&type=script&lang=js\"\n\nimport \"./tokens.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&lang=scss\"","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Imputation.vue?vue&type=style&index=0&id=17c8ad92&lang=scss&scoped=true\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Imputation.vue?vue&type=style&index=0&id=17c8ad92&lang=scss&scoped=true\""],"sourceRoot":""}